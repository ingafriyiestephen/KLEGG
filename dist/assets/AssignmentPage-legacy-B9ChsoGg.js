!function(){function t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=Array(n);e<n;e++)a[e]=t[e];return a}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function u(e,r,o,i){var u=r&&r.prototype instanceof l?r:l,s=Object.create(u.prototype);return a(s,"_invoke",function(e,a,r){var o,i,u,l=0,s=r||[],d=!1,f={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(n,e){return o=n,i=0,u=t,f.n=e,c}};function m(e,a){for(i=e,u=a,n=0;!d&&l&&!r&&n<s.length;n++){var r,o=s[n],m=f.p,p=o[2];e>3?(r=p===a)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=m&&((r=e<2&&m<o[1])?(i=0,f.v=a,f.n=o[1]):m<p&&(r=e<3||o[0]>a||a>p)&&(o[4]=e,o[5]=a,f.n=p,i=0))}if(r||e>1)return c;throw d=!0,a}return function(r,s,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),i=s,u=p;(n=i<2?t:u)||!d;){o||(i?i<3?(i>1&&(f.n=-1),m(i,u)):f.n=u:f.v=u);try{if(l=2,o){if(i||(r="next"),n=o[r]){if(!(n=n.call(o,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,i<2&&(i=0)}else 1===i&&(n=o.return)&&n.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=t}else if((n=(d=f.n<0)?u:e.call(a,f))!==c)break}catch(n){o=t,i=1,u=n}finally{l=1}}return{value:n,done:d}}}(e,o,i),!0),s}var c={};function l(){}function s(){}function d(){}n=Object.getPrototypeOf;var f=[][o]?n(n([][o]())):(a(n={},o,function(){return this}),n),m=d.prototype=l.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t}return s.prototype=d,a(m,"constructor",d),a(d,"constructor",s),s.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(m),a(m,i,"Generator"),a(m,o,function(){return this}),a(m,"toString",function(){return"[object Generator]"}),(e=function(){return{w:u,m:p}})()}function a(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,n,e,r){function i(n,e){a(t,n,function(t){return this._invoke(n,e,t)})}n?o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(i("next",0),i("throw",1),i("return",2))},a(t,n,e,r)}function r(t,n,e,a,r,o,i){try{var u=t[o](i),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(a,r)}function o(t){return function(){var n=this,e=arguments;return new Promise(function(a,o){var i=t.apply(n,e);function u(t){r(i,a,o,u,c,"next",t)}function c(t){r(i,a,o,u,c,"throw",t)}u(void 0)})}}System.register(["./index-legacy-bhlrdrvL.js","./index-legacy-Btp0TFe9.js"],function(n,a){"use strict";var r,i,u,c,l,s,d,f,m,p,g,v,y,h,b,x,_,w,k,S,j,C,T,A,O,z,D,E,P,I,G,N,F,M,$,q,B,J,L,R,U,K,H,V,Y,Z,Q,W,X,tt,nt,et,at,rt,ot,it;return{setters:[function(t){r=t.d,i=t.ao,u=t.r,c=t.o,l=t.O,s=t.a,d=t.w,f=t.u,m=t.I,p=t.b,g=t.e,v=t.f,y=t.g,h=t.h,b=t.i,x=t.P,_=t.l,w=t.A,k=t.q,S=t.k,j=t.s,C=t.a9,T=t.a3,A=t.t,O=t.x,z=t.C,D=t.n,E=t.G,P=t.aF,I=t.v,G=t.ay,N=t.m,F=t.a2,M=t.a4,$=t.S,q=t.T,B=t.M,J=t.N,L=t.au,R=t.a7,U=t.$,K=t.K,H=t.aq,V=t.J,Y=t.aE,Z=t.aG,Q=t.az,W=t.aA,X=t.aj,tt=t.aH,nt=t.aI,et=t.aJ,at=t.aK,rt=t.aL,ot=t._},function(t){it=t.T}],execute:function(){var a=document.createElement("style");a.textContent=".header-section[data-v-7024739f]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-secondary) 100%);color:#fff;padding-bottom:16px}.header-section .title[data-v-7024739f]{display:block;font-size:1.5rem;font-weight:600;color:#fff;margin-bottom:16px}.summary-cards[data-v-7024739f]{display:flex;gap:16px;margin-top:8px}.summary-card[data-v-7024739f]{flex:1;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1);margin:0}.summary-card.open[data-v-7024739f]{--background: rgba(var(--ion-color-success-rgb), .1)}.summary-card.closed[data-v-7024739f]{--background: rgba(var(--ion-color-warning-rgb), .1)}.summary-content[data-v-7024739f]{display:flex;align-items:center;gap:12px}.summary-icon[data-v-7024739f]{font-size:32px}.summary-card.open .summary-icon[data-v-7024739f]{color:var(--ion-color-success)}.summary-card.closed .summary-icon[data-v-7024739f]{color:var(--ion-color-warning)}.summary-count[data-v-7024739f]{font-size:1.5rem;font-weight:700;display:block;line-height:1.2;color:var(--ion-color-light)}.summary-label[data-v-7024739f]{font-size:.875rem;opacity:.8;display:block;color:var(--ion-color-light)}.theme-text-nine[data-v-7024739f],.theme-text-eight[data-v-7024739f]{opacity:.9;color:var(--ion-text-color)}.loading-container[data-v-7024739f]{display:flex;justify-content:center;align-items:center;height:200px}.empty-state[data-v-7024739f],.error-state[data-v-7024739f]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:60vh;padding:20px}.empty-state ion-icon[data-v-7024739f],.error-state ion-icon[data-v-7024739f]{font-size:64px;margin-bottom:16px}.empty-state h3[data-v-7024739f],.error-state h3[data-v-7024739f]{font-size:1.2rem;font-weight:500;margin-bottom:8px;color:var(--ion-color-dark)}.empty-state p[data-v-7024739f],.error-state p[data-v-7024739f]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:16px}.status-indicator[data-v-7024739f]{width:4px;height:100%;border-radius:4px;position:absolute;left:0}.assignment-item[data-v-7024739f]{--padding-start: 12px;--inner-padding-end: 12px;--background: var(--ion-item-background, var(--ion-background-color, #fff));margin-bottom:8px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08)}.assignment-content[data-v-7024739f]{margin-left:12px}.assignment-header[data-v-7024739f]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.assignment-title[data-v-7024739f]{font-weight:600;font-size:1rem;flex:1;margin-right:8px}.assignment-meta[data-v-7024739f]{font-size:.8rem;color:var(--ion-color-medium);margin-bottom:8px}.assignment-meta ion-icon[data-v-7024739f]{margin-right:4px;vertical-align:middle}.assignment-notes[data-v-7024739f]{font-size:.875rem;color:var(--ion-color-medium);margin-bottom:12px;line-height:1.5}.assignment-footer[data-v-7024739f]{display:flex;justify-content:space-between;align-items:center;padding-top:8px;border-top:1px solid var(--ion-color-light)}.due-date[data-v-7024739f]{font-size:.8rem;color:var(--ion-color-medium)}.due-date ion-icon[data-v-7024739f]{margin-right:4px;vertical-align:middle}@media (min-width: 768px){.summary-cards[data-v-7024739f]{gap:24px}.assignment-item[data-v-7024739f]{margin:0 auto 12px;max-width:800px}}\n/*$vite$:1*/",document.head.appendChild(a);var ut={class:"header-section ion-padding"},ct={class:"summary-cards"},lt={class:"summary-content"},st={class:"summary-content"},dt={key:0,class:"loading-container"},ft={key:1,class:"empty-state"},mt={key:2,class:"error-state"},pt={key:3},gt={class:"assignment-header"},vt={class:"assignment-meta theme-text-eight"},yt={key:0,class:"assignment-notes"},ht={class:"assignment-footer"},bt=r({__name:"AssignmentPage",setup:function(n){var a=localStorage.getItem("parisklegg_token")||"",r=localStorage.getItem("parisklegg_user"),ot=r?JSON.parse(r):null;null==ot||ot.user_id;var bt=i(),xt=g(),_t=Number(bt.params.id),wt=u(""),kt=u(!0),St=u(!1),jt=u(!1),Ct=u([]),Tt=u(0),At=u(0),Ot=function(t){var n=new Date,e=new Date(t.submission_date),a=e.getTime()-n.getTime(),r=Math.ceil(a/864e5);return n>e?"closed":r<=1?"dueSoon":r<=3?"upcoming":"open"},zt=function(t){switch(Ot(t)){case"closed":case"dueSoon":return"var(--ion-color-warning)";case"upcoming":return"var(--ion-color-primary)";default:return"var(--ion-color-success)"}},Dt=function(t){switch(Ot(t)){case"closed":case"dueSoon":return"warning";case"open":default:return"success";case"upcoming":return"primary"}},Et=function(t){switch(Ot(t)){case"closed":case"open":return rt;case"dueSoon":return at;case"upcoming":return et;default:return nt}},Pt=function(t){var n=new Date,e=new Date(t.submission_date),a=e.getTime()-n.getTime(),r=Math.ceil(a/864e5);return n>e?"Closed":r<=1?"Due Soon":r<=3?"Due in ".concat(r," days"):"Open"},It=function(t){var n=new Date(t),e=new Date(n);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).format(e)},Gt=function(){var t=o(e().m(function t(){var n,a;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,kt.value=!0,St.value=!1,Ct.value=[],Tt.value=0,At.value=0,t.n=1,p.post("https://klegg-app-whh7m.ondigitalocean.app/api/assignment",{tutorship_id:_t},{headers:Nt(),timeout:2e4});case 1:(n=t.v).data.length>0&&(jt.value=!0,wt.value=n.data[0].tutorship_name||"My Assignments",Ct.value=n.data.sort(function(t,n){return new Date(t.submission_date).getTime()-new Date(n.submission_date).getTime()}),Ct.value.forEach(function(t){"closed"===Ot(t)?Tt.value++:At.value++})),t.n=3;break;case 2:t.p=2,a=t.v,Ft(a),St.value=!0;case 3:return t.p=3,kt.value=!1,t.f(3);case 4:return t.a(2)}},t,null,[[0,2,3,4]])}));return function(){return t.apply(this,arguments)}}(),Nt=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(a)}},Ft=function(t){if(console.error("Error fetching data:",t),p.isAxiosError(t)){var n;if(401===(null===(n=t.response)||void 0===n?void 0:n.status))return xt.replace("/"),void it.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===t.code)return void it.show({text:"Request timeout. Please try again",position:"top"})}it.show({text:"Failed to load data. Please try again later",position:"top"})},Mt=function(t){var n=t.matches;v(n)},$t=function(){var t=window.matchMedia("(prefers-color-scheme: dark)");return Mt(t),t.addEventListener("change",Mt),t};return c(function(){$t(),Gt()}),l(o(e().m(function t(){return e().w(function(t){for(;;)switch(t.n){case 0:$t();case 1:return t.a(2)}},t)}))),function(n,e){return J(),s(f(m),null,{default:d(function(){return[y(f(k),null,{default:d(function(){return[y(f(h),null,{default:d(function(){return[y(f(b),{slot:"start"},{default:d(function(){return[y(f(x),{"default-href":"/"})]}),_:1}),y(f(_),null,{default:d(function(){return t(e[1]||(e[1]=[w("Assignments",-1)]))}),_:1})]}),_:1})]}),_:1}),y(f(B),{fullscreen:!0},{default:d(function(){return[S("div",ut,[wt.value?(J(),s(f(T),{key:0,class:"title"},{default:d(function(){return[w(A(wt.value),1)]}),_:1})):C("",!0),S("div",ct,[y(f(O),{class:"summary-card open"},{default:d(function(){return[y(f(z),null,{default:d(function(){return[S("div",lt,[y(f(D),{icon:f(E),class:"summary-icon"},null,8,["icon"]),S("div",null,[y(f(T),{class:"summary-count"},{default:d(function(){return[w(A(At.value),1)]}),_:1}),y(f(T),{class:"summary-label"},{default:d(function(){return t(e[2]||(e[2]=[w("Open",-1)]))}),_:1})])])]}),_:1})]}),_:1}),y(f(O),{class:"summary-card closed"},{default:d(function(){return[y(f(z),null,{default:d(function(){return[S("div",st,[y(f(D),{icon:f(P),class:"summary-icon"},null,8,["icon"]),S("div",null,[y(f(T),{class:"summary-count"},{default:d(function(){return[w(A(Tt.value),1)]}),_:1}),y(f(T),{class:"summary-label"},{default:d(function(){return t(e[3]||(e[3]=[w("Closed",-1)]))}),_:1})])])]}),_:1})]}),_:1})])]),kt.value?(J(),j("div",dt,[y(f(I),{name:"crescent",color:"primary"})])):jt.value||St.value?St.value?(J(),j("div",mt,[y(f(D),{icon:f(F),color:"warning"},null,8,["icon"]),y(f(T),null,{default:d(function(){return t(e[6]||(e[6]=[S("h3",null,"Error Loading Assignments",-1),S("p",null,"Please try again later",-1)]))}),_:1}),y(f(N),{fill:"clear",onClick:Gt},{default:d(function(){return t(e[7]||(e[7]=[w("Retry",-1)]))}),_:1})])):(J(),j("div",pt,[y(f(M),{lines:"none"},{default:d(function(){return[(J(!0),j($,null,q(Ct.value,function(t,n){return J(),s(f(L),{key:n},{default:d(function(){return[y(f(R),{class:"assignment-item",detail:!1},{default:d(function(){return[S("div",{slot:"start",class:"status-indicator",style:U({backgroundColor:zt(t)})},null,4),y(f(K),{class:"assignment-content"},{default:d(function(){return[S("div",gt,[y(f(T),{class:"assignment-title"},{default:d(function(){return[w(A(t.assignment_name),1)]}),_:2},1024),y(f(H),{color:Dt(t)},{default:d(function(){return[y(f(D),{icon:Et(t),slot:"start"},null,8,["icon"]),w(" "+A(Pt(t)),1)]}),_:2},1032,["color"])]),S("div",vt,[y(f(T),{class:"assignment-date"},{default:d(function(){return[y(f(D),{icon:f(V)},null,8,["icon"]),w(" Posted: "+A(It(t.created_at)),1)]}),_:2},1024)]),t.additional_note?(J(),j("div",yt,[y(f(T),{class:"theme-text-nine"},{default:d(function(){return[w(A(t.additional_note),1)]}),_:2},1024)])):C("",!0),S("div",ht,[y(f(T),{class:"due-date"},{default:d(function(){return[y(f(D),{icon:f(Y)},null,8,["icon"]),w(" Due: "+A(It(t.submission_date)),1)]}),_:2},1024),t.assignment_file?(J(),s(f(N),{key:0,fill:"clear",size:"small",onClick:function(n){return e=t.assignment_file,void window.open("https://klegg-app-whh7m.ondigitalocean.app/files/".concat(e),"_blank");var e}},{default:d(function(){return[y(f(D),{slot:"start",icon:f(Z)},null,8,["icon"]),e[8]||(e[8]=w(" Download ",-1))]}),_:1},8,["onClick"])):C("",!0)])]}),_:2},1024)]}),_:2},1024),y(f(Q),{side:"end"},{default:d(function(){return[y(f(W),{color:"tertiary",onClick:function(n){return function(t){console.log("Sharing assignment:",t)}(t)}},{default:d(function(){return[y(f(D),{slot:"icon-only",icon:f(X)},null,8,["icon"])]}),_:1},8,["onClick"]),y(f(W),{color:"primary",onClick:function(n){return function(t){console.log("Viewing submission for:",t)}(t)}},{default:d(function(){return[y(f(D),{slot:"icon-only",icon:f(tt)},null,8,["icon"])]}),_:1},8,["onClick"])]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})])):(J(),j("div",ft,[y(f(D),{icon:f(G),color:"medium"},null,8,["icon"]),y(f(T),null,{default:d(function(){return t(e[4]||(e[4]=[S("h3",null,"No Assignments",-1),S("p",null,"Your assignments will appear here when created by your teacher",-1)]))}),_:1}),y(f(N),{fill:"clear",onClick:e[0]||(e[0]=function(t){return n.$router.back()})},{default:d(function(){return t(e[5]||(e[5]=[w("Back to Classes",-1)]))}),_:1})]))]}),_:1})]}),_:1})}}});n("default",ot(bt,[["__scopeId","data-v-7024739f"]]))}}})}();
