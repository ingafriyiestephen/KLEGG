!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,a,r,s=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=a.call(t)).done)&&(s.push(i.value),s.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(r=t.return(),Object(r)!==r))return}finally{if(u)throw o}}return s}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n){if(e){if("string"==typeof e)return i(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function s(t,i,o,r){var s=i&&i.prototype instanceof u?i:u,l=Object.create(s.prototype);return a(l,"_invoke",function(t,i,o){var a,r,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return a=n,r=0,s=e,f.n=t,c}};function p(t,i){for(r=t,s=i,n=0;!d&&u&&!o&&n<l.length;n++){var o,a=l[n],p=f.p,v=a[2];t>3?(o=v===i)&&(s=a[(r=a[4])?5:(r=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=t<2&&p<a[1])?(r=0,f.v=i,f.n=a[1]):p<v&&(o=t<3||a[0]>i||i>v)&&(a[4]=t,a[5]=i,f.n=v,r=0))}if(o||t>1)return c;throw d=!0,i}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),r=l,s=v;(n=r<2?e:s)||!d;){a||(r?r<3?(r>1&&(f.n=-1),p(r,s)):f.n=s:f.v=s);try{if(u=2,a){if(r||(o="next"),n=a[o]){if(!(n=n.call(a,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,r<2&&(r=0)}else 1===r&&(n=a.return)&&n.call(a),r<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),r=1);a=e}else if((n=(d=f.n<0)?s:t.call(i,f))!==c)break}catch(n){a=e,r=1,s=n}finally{u=1}}return{value:n,done:d}}}(t,o,r),!0),l}var c={};function u(){}function l(){}function d(){}n=Object.getPrototypeOf;var f=[][i]?n(n([][i]())):(a(n={},i,function(){return this}),n),p=d.prototype=u.prototype=Object.create(f);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,r,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=d,a(p,"constructor",d),a(d,"constructor",l),l.displayName="GeneratorFunction",a(d,r,"GeneratorFunction"),a(p),a(p,r,"Generator"),a(p,i,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:v}})()}function a(e,n,t,i){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,n,t,i){function r(n,t){a(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!i,configurable:!i,writable:!i}):e[n]=t:(r("next",0),r("throw",1),r("return",2))},a(e,n,t,i)}function r(e,n,t,i,o,a,r){try{var s=e[a](r),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(i,o)}function s(e){return function(){var n=this,t=arguments;return new Promise(function(i,o){var a=e.apply(n,t);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,p(i.key),i)}}function d(e,n,t){return n&&l(e.prototype,n),t&&l(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,n,t){return(n=p(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){var n=function(e,n){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==c(n)?n:n+""}System.register(["./index-legacy-D7Bnmc80.js","./index-legacy-4MJDgNEx.js"],function(t,i){"use strict";var a,r,l,p,v,g,b,h,m,y,w,x,k,P,S,O,_,L,I,A,D,T,N,C,E,M,j,q,z,F,U,W,G,R,H,V,B,J,K,Y,$,Q,X;return{setters:[function(e){a=e.d,r=e.r,l=e.c,p=e.o,v=e.a,g=e.w,b=e.u,h=e.I,m=e.i,y=e.b,w=e.e,x=e.f,k=e.g,P=e.h,S=e.j,O=e.k,_=e.l,L=e.m,I=e.t,A=e.n,D=e.p,T=e.q,N=e.s,C=e.v,E=e.x,M=e.y,j=e.z,q=e.A,z=e.B,F=e.C,U=e.D,W=e.E,G=e.F,R=e.G,H=e.H,V=e.J,B=e.K,J=e.L,K=e.M,Y=e.N,$=e.O,Q=e._},function(e){X=e.T}],execute:function(){var i=document.createElement("style");function Z(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}i.textContent="ion-toolbar[data-v-32bbd7ff]{--background: linear-gradient( 135deg, var(--ion-color-primary), var(--ion-color-secondary) );--color: white;--min-height: 80px;--border-color: transparent}.toolbar-avatar[data-v-32bbd7ff]{width:40px;height:40px;margin-right:12px;border:2px solid rgba(255,255,255,.3)}.toolbar-title[data-v-32bbd7ff]{padding-left:8px}.greeting[data-v-32bbd7ff]{font-size:14px;font-weight:400;opacity:.9}.student-name[data-v-32bbd7ff]{font-size:18px;font-weight:600}.loading-container[data-v-32bbd7ff]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:60vh;text-align:center;background:var(--ion-background-color)}.loading-container ion-spinner[data-v-32bbd7ff]{width:48px;height:48px;margin-bottom:16px;color:var(--ion-color-primary)}.loading-container p[data-v-32bbd7ff]{color:var(--ion-color-medium);margin-top:8px}.content-card[data-v-32bbd7ff]{margin:16px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.08);background:var(--ion-card-background);border:1px solid var(--ion-border-color)}ion-card-header[data-v-32bbd7ff]{padding-bottom:8px;border-bottom:1px solid var(--ion-border-color)}ion-card-title[data-v-32bbd7ff]{display:flex;align-items:center;font-size:18px;font-weight:600;color:var(--ion-text-color)}ion-card-title ion-icon[data-v-32bbd7ff]{margin-right:8px;color:var(--ion-color-primary)}ion-card-content[data-v-32bbd7ff]{padding-top:0;color:var(--ion-text-color)}.notification-content[data-v-32bbd7ff],.attendance-content[data-v-32bbd7ff]{margin-bottom:16px}.notification-content p[data-v-32bbd7ff],.attendance-content p[data-v-32bbd7ff]{margin-bottom:4px;color:var(--ion-text-color);opacity:.9}ion-note[data-v-32bbd7ff]{font-size:14px;color:var(--ion-color-medium)}.empty-state[data-v-32bbd7ff]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px 0;text-align:center;color:var(--ion-color-medium);background:var(--ion-background-color)}.empty-state ion-icon[data-v-32bbd7ff]{font-size:48px;margin-bottom:8px;opacity:.5;color:var(--ion-color-medium)}.empty-state p[data-v-32bbd7ff]{margin:0;font-size:14px}.view-all-button[data-v-32bbd7ff]{--color: var(--ion-color-primary);--background: transparent;margin-top:8px}.view-all-button[data-v-32bbd7ff]:hover{--background: var(--ion-color-light-shade)}.quick-actions-container[data-v-32bbd7ff]{padding:8px 4px!important}.quick-actions-grid[data-v-32bbd7ff]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;width:100%}.action-item[data-v-32bbd7ff]{display:flex;flex-direction:column;align-items:center;padding:16px 8px;border-radius:16px;background:var(--ion-item-background);border:1px solid var(--ion-border-color);cursor:pointer;transition:all .2s ease;min-height:90px;justify-content:center;position:relative}.action-item[data-v-32bbd7ff]:active{background:var(--ion-color-light-shade);transform:scale(.98)}.action-icon-wrapper[data-v-32bbd7ff]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:50%;margin-bottom:8px;transition:all .2s ease;background:var(--ion-color-primary)}.action-icon[data-v-32bbd7ff]{font-size:20px;color:#fff!important}.action-label[data-v-32bbd7ff]{font-size:12px;font-weight:500;text-align:center;color:var(--ion-text-color);line-height:1.3;padding:0 2px}@media (prefers-color-scheme: dark){.action-item[data-v-32bbd7ff]{background:var(--ion-color-step-150);border-color:var(--ion-border-color)}.action-icon-wrapper[data-v-32bbd7ff]{background:var(--ion-color-primary)}.action-item[data-v-32bbd7ff]:active{background:var(--ion-color-step-200)}}.ios .action-item[data-v-32bbd7ff]{border-radius:18px;min-height:92px}.android .action-item[data-v-32bbd7ff]{border-radius:12px;min-height:88px}.ios .action-label[data-v-32bbd7ff]{font-weight:600}.android .action-label[data-v-32bbd7ff]{font-weight:500}@media (max-width: 360px){.quick-actions-grid[data-v-32bbd7ff]{gap:8px}.action-item[data-v-32bbd7ff]{padding:12px 6px;min-height:80px}.action-icon-wrapper[data-v-32bbd7ff]{width:42px;height:42px}.action-icon[data-v-32bbd7ff]{font-size:18px}.action-label[data-v-32bbd7ff]{font-size:11px}}@media (min-width: 410px){.quick-actions-grid[data-v-32bbd7ff]{gap:16px}.action-item[data-v-32bbd7ff]{padding:20px 12px;min-height:100px}}@media (min-width: 768px){.quick-actions-container[data-v-32bbd7ff]{padding:16px 8px!important}.quick-actions-grid[data-v-32bbd7ff]{gap:24px;max-width:400px;margin:0 auto}.action-item[data-v-32bbd7ff]{padding:24px 16px;min-height:110px}.action-icon-wrapper[data-v-32bbd7ff]{width:56px;height:56px}.action-icon[data-v-32bbd7ff]{font-size:24px}.action-label[data-v-32bbd7ff]{font-size:13px}}.action-item[data-v-32bbd7ff]:focus-visible{outline:2px solid var(--ion-color-primary);outline-offset:2px}@supports (padding: max(0px)){.quick-actions-container[data-v-32bbd7ff]{padding-left:max(8px,env(safe-area-inset-left))!important;padding-right:max(8px,env(safe-area-inset-right))!important}}@media (prefers-reduced-motion: reduce){.action-item[data-v-32bbd7ff],.action-icon-wrapper[data-v-32bbd7ff]{transition:none}.action-item[data-v-32bbd7ff]:active{transform:none}}ion-tab-bar[data-v-32bbd7ff]{--background: var(--ion-card-background);--border: 1px solid var(--ion-border-color);box-shadow:0 -2px 10px rgba(0,0,0,.08);padding-top:8px;padding-bottom:calc(8px + env(safe-area-inset-bottom));height:auto;min-height:60px}ion-tab-button[data-v-32bbd7ff]{--color: var(--ion-color-medium);--color-selected: var(--ion-color-primary);--background: transparent;--background-focused: var(--ion-color-step-100)}ion-tab-button ion-icon[data-v-32bbd7ff]{font-size:24px;margin-bottom:4px}ion-tab-button ion-label[data-v-32bbd7ff]{font-size:12px;margin-top:0;font-weight:500}.dark .content-card[data-v-32bbd7ff]{box-shadow:0 4px 12px rgba(0,0,0,.3)}.dark .quick-action-button[data-v-32bbd7ff]{--background: var(--ion-color-step-150);border-color:var(--ion-border-color)}.dark .quick-action-button .action-icon[data-v-32bbd7ff]{background:var(--ion-color-step-200)}.dark ion-tab-bar[data-v-32bbd7ff]{box-shadow:0 -2px 10px rgba(0,0,0,.3)}.quick-action-button[data-v-32bbd7ff]:focus-visible,ion-tab-button[data-v-32bbd7ff]:focus-visible{outline:2px solid var(--ion-color-primary);outline-offset:2px}.quick-action-button[data-v-32bbd7ff]:active{transform:translateY(1px)}@media (max-width: 400px){.quick-actions-grid[data-v-32bbd7ff]{grid-template-columns:repeat(2,1fr);gap:8px}.quick-action-button[data-v-32bbd7ff]{--padding-top: 8px;--padding-bottom: 8px}.quick-action-button .action-icon[data-v-32bbd7ff]{width:40px;height:40px}.quick-action-button ion-icon[data-v-32bbd7ff]{font-size:20px}ion-tab-button ion-icon[data-v-32bbd7ff]{font-size:22px}ion-tab-button ion-label[data-v-32bbd7ff]{font-size:11px}}@media (min-width: 768px){.content-card[data-v-32bbd7ff]{margin:16px auto;max-width:600px}.quick-actions-grid[data-v-32bbd7ff]{grid-template-columns:repeat(4,1fr);gap:16px}}@media (prefers-contrast: high){.content-card[data-v-32bbd7ff],.quick-action-button[data-v-32bbd7ff]{border:2px solid var(--ion-border-color)}ion-tab-bar[data-v-32bbd7ff]{--border: 2px solid var(--ion-border-color)}}@media (prefers-reduced-motion: reduce){.quick-action-button[data-v-32bbd7ff]{transition:none}.quick-action-button[data-v-32bbd7ff]:active{transform:none}}@supports (padding: max(0px)){.content-card[data-v-32bbd7ff]{margin-left:max(16px,env(safe-area-inset-left));margin-right:max(16px,env(safe-area-inset-right))}ion-tab-bar[data-v-32bbd7ff]{padding-left:max(0px,env(safe-area-inset-left));padding-right:max(0px,env(safe-area-inset-right))}}\n/*$vite$:1*/",document.head.appendChild(i);var ee={};!function(e){function n(e,n){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}Object.defineProperties(e,f({__esModule:{value:!0}},Symbol.toStringTag,{value:"Module"}));var t,i=function(){},o=((t=o||{})[t.None=0]="None",t[t.Fatal=1]="Fatal",t[t.Error=2]="Error",t[t.Warn=3]="Warn",t[t.Info=4]="Info",t[t.Debug=5]="Debug",t[t.Verbose=6]="Verbose",t),a=function(){return d(function e(){u(this,e)},[{key:"setLogLevel",value:function(e){window.cordova.exec(i,i,"OneSignalPush","setLogLevel",[e])}},{key:"setAlertLevel",value:function(e){window.cordova.exec(i,i,"OneSignalPush","setAlertLevel",[e])}}])}(),r=function(){return d(function e(){u(this,e),this._inAppMessageClickListeners=[],this._willDisplayInAppMessageListeners=[],this._didDisplayInAppMessageListeners=[],this._willDismissInAppMessageListeners=[],this._didDismissInAppMessageListeners=[]},[{key:"_processFunctionList",value:function(e,n){for(var t=0;t<e.length;t++)e[t](n)}},{key:"addEventListener",value:function(e,n){var t=this;if("click"===e){this._inAppMessageClickListeners.push(n);window.cordova.exec(function(e){t._processFunctionList(t._inAppMessageClickListeners,e)},i,"OneSignalPush","setInAppMessageClickHandler",[])}else if("willDisplay"===e){this._willDisplayInAppMessageListeners.push(n);window.cordova.exec(function(e){t._processFunctionList(t._willDisplayInAppMessageListeners,e)},i,"OneSignalPush","setOnWillDisplayInAppMessageHandler",[])}else if("didDisplay"===e){this._didDisplayInAppMessageListeners.push(n);window.cordova.exec(function(e){t._processFunctionList(t._didDisplayInAppMessageListeners,e)},i,"OneSignalPush","setOnDidDisplayInAppMessageHandler",[])}else if("willDismiss"===e){this._willDismissInAppMessageListeners.push(n);window.cordova.exec(function(e){t._processFunctionList(t._willDismissInAppMessageListeners,e)},i,"OneSignalPush","setOnWillDismissInAppMessageHandler",[])}else if("didDismiss"===e){this._didDismissInAppMessageListeners.push(n);window.cordova.exec(function(e){t._processFunctionList(t._didDismissInAppMessageListeners,e)},i,"OneSignalPush","setOnDidDismissInAppMessageHandler",[])}}},{key:"removeEventListener",value:function(e,t){"click"===e?n(this._inAppMessageClickListeners,t):"willDisplay"===e?n(this._willDisplayInAppMessageListeners,t):"didDisplay"===e?n(this._didDisplayInAppMessageListeners,t):"willDismiss"===e?n(this._willDismissInAppMessageListeners,t):"didDismiss"===e&&n(this._didDismissInAppMessageListeners,t)}},{key:"addTrigger",value:function(e,n){var t=f({},e,n);this.addTriggers(t)}},{key:"addTriggers",value:function(e){Object.keys(e).forEach(function(n){"string"!=typeof e[n]&&(e[n]=JSON.stringify(e[n]))}),window.cordova.exec(i,i,"OneSignalPush","addTriggers",[e])}},{key:"removeTrigger",value:function(e){this.removeTriggers([e])}},{key:"removeTriggers",value:function(e){Array.isArray(e)||console.error("OneSignal: removeTriggers: argument must be of type Array"),window.cordova.exec(i,i,"OneSignalPush","removeTriggers",[e])}},{key:"clearTriggers",value:function(){window.cordova.exec(i,i,"OneSignalPush","clearTriggers")}},{key:"setPaused",value:function(e){window.cordova.exec(i,i,"OneSignalPush","setPaused",[e])}},{key:"getPaused",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","isPaused",[])})}}])}(),s=function(){return d(function e(){u(this,e)},[{key:"enter",value:function(e,n,t,o){null==t&&(t=i),null==o&&(o=i),window.cordova.exec(t,o,"OneSignalPush","enterLiveActivity",[e,n])}},{key:"exit",value:function(e,n,t){null==n&&(n=i),null==t&&(t=i),window.cordova.exec(n,t,"OneSignalPush","exitLiveActivity",[e])}},{key:"setPushToStartToken",value:function(e,n){window.cordova.exec(i,i,"OneSignalPush","setPushToStartToken",[e,n])}},{key:"removePushToStartToken",value:function(e){window.cordova.exec(i,i,"OneSignalPush","removePushToStartToken",[e])}},{key:"setupDefault",value:function(e){window.cordova.exec(i,i,"OneSignalPush","setupDefaultLiveActivity",[e])}},{key:"startDefault",value:function(e,n,t){window.cordova.exec(i,i,"OneSignalPush","startDefaultLiveActivity",[e,n,t])}}])}(),l=function(){return d(function e(){u(this,e)},[{key:"requestPermission",value:function(){window.cordova.exec(i,i,"OneSignalPush","requestLocationPermission",[])}},{key:"setShared",value:function(e){window.cordova.exec(i,i,"OneSignalPush","setLocationShared",[e])}},{key:"isShared",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","isLocationShared",[])})}}])}(),p=function(){return d(function e(n){u(this,e),this.notificationId=n.notificationId,this.body=n.body,this.title=n.title,this.additionalData=n.additionalData,"string"==typeof n.rawPayload?this.rawPayload=JSON.parse(n.rawPayload):this.rawPayload=n.rawPayload,this.launchURL=n.launchURL,this.sound=n.sound,n.actionButtons&&(this.actionButtons=n.actionButtons),n.groupKey&&(this.groupKey=n.groupKey),n.ledColor&&(this.ledColor=n.ledColor),c(n.priority)<"u"&&(this.priority=n.priority),n.smallIcon&&(this.smallIcon=n.smallIcon),n.largeIcon&&(this.largeIcon=n.largeIcon),n.bigPicture&&(this.bigPicture=n.bigPicture),n.collapseId&&(this.collapseId=n.collapseId),n.groupMessage&&(this.groupMessage=n.groupMessage),n.fromProjectNumber&&(this.fromProjectNumber=n.fromProjectNumber),n.smallIconAccentColor&&(this.smallIconAccentColor=n.smallIconAccentColor),n.lockScreenVisibility&&(this.lockScreenVisibility=n.lockScreenVisibility),n.androidNotificationId&&(this.androidNotificationId=n.androidNotificationId),n.groupedNotifications&&n.groupedNotifications.length&&(this.groupedNotifications=n.groupedNotifications),n.badge&&(this.badge=n.badge),n.category&&(this.category=n.category),n.threadId&&(this.threadId=n.threadId),n.subtitle&&(this.subtitle=n.subtitle),n.templateId&&(this.templateId=n.templateId),n.attachments&&(this.attachments=n.attachments),n.templateName&&(this.templateName=n.templateName),n.mutableContent&&(this.mutableContent=n.mutableContent),n.badgeIncrement&&(this.badgeIncrement=n.badgeIncrement),n.contentAvailable&&(this.contentAvailable=n.contentAvailable),n.relevanceScore&&(this.relevanceScore=n.relevanceScore),n.interruptionLevel&&(this.interruptionLevel=n.interruptionLevel)},[{key:"display",value:function(){window.cordova.exec(i,i,"OneSignalPush","displayNotification",[this.notificationId])}}])}(),v=function(){return d(function e(n){u(this,e),this.notification=new p(n)},[{key:"preventDefault",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.cordova.exec(i,i,"OneSignalPush","preventDefault",[this.notification.notificationId,e])}},{key:"getNotification",value:function(){return this.notification}}])}(),g=function(e){return e[e.NotDetermined=0]="NotDetermined",e[e.Denied=1]="Denied",e[e.Authorized=2]="Authorized",e[e.Provisional=3]="Provisional",e[e.Ephemeral=4]="Ephemeral",e}(g||{}),b=function(){return d(function e(){u(this,e),this._permissionObserverList=[],this._notificationClickedListeners=[],this._notificationWillDisplayListeners=[]},[{key:"_processFunctionList",value:function(e,n){for(var t=0;t<e.length;t++)e[t](n)}},{key:"_setPropertyAndObserver",value:function(){var e=this;window.cordova.exec(function(n){e._permission=n},i,"OneSignalPush","getPermissionInternal"),this.addEventListener("permissionChange",function(n){e._permission=n})}},{key:"hasPermission",value:function(){return this._permission||!1}},{key:"getPermissionAsync",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","getPermissionInternal")})}},{key:"permissionNative",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","permissionNative",[])})}},{key:"requestPermission",value:function(e){var n=null!=e&&e;return new Promise(function(e,t){window.cordova.exec(e,t,"OneSignalPush","requestPermission",[n])})}},{key:"canRequestPermission",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","canRequestPermission",[])})}},{key:"registerForProvisionalAuthorization",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;window.cordova.exec(e,i,"OneSignalPush","registerForProvisionalAuthorization",[])}},{key:"addEventListener",value:function(e,n){var t=this;if("click"===e){this._notificationClickedListeners.push(n);window.cordova.exec(function(e){t._processFunctionList(t._notificationClickedListeners,e)},i,"OneSignalPush","addNotificationClickListener",[])}else if("foregroundWillDisplay"===e){this._notificationWillDisplayListeners.push(n);window.cordova.exec(function(e){t._notificationWillDisplayListeners.forEach(function(n){n(new v(e))}),window.cordova.exec(i,i,"OneSignalPush","proceedWithWillDisplay",[e.notificationId])},i,"OneSignalPush","addForegroundLifecycleListener",[])}else if("permissionChange"===e){this._permissionObserverList.push(n);window.cordova.exec(function(e){t._processFunctionList(t._permissionObserverList,e)},i,"OneSignalPush","addPermissionObserver",[])}}},{key:"removeEventListener",value:function(e,t){"click"===e?n(this._notificationClickedListeners,t):"foregroundWillDisplay"===e?n(this._notificationWillDisplayListeners,t):"permissionChange"===e&&n(this._permissionObserverList,t)}},{key:"clearAll",value:function(){window.cordova.exec(i,i,"OneSignalPush","clearAllNotifications",[])}},{key:"removeNotification",value:function(e){window.cordova.exec(i,i,"OneSignalPush","removeNotification",[e])}},{key:"removeGroupedNotifications",value:function(e){window.cordova.exec(i,i,"OneSignalPush","removeGroupedNotifications",[e])}}])}(),h=function(){return d(function e(){u(this,e)},[{key:"addOutcome",value:function(e){window.cordova.exec(i,i,"OneSignalPush","addOutcome",[e])}},{key:"addUniqueOutcome",value:function(e){window.cordova.exec(i,i,"OneSignalPush","addUniqueOutcome",[e])}},{key:"addOutcomeWithValue",value:function(e,n){window.cordova.exec(i,i,"OneSignalPush","addOutcomeWithValue",[e,n])}}])}(),m=function(){return d(function e(){u(this,e),this._subscriptionObserverList=[]},[{key:"_processFunctionList",value:function(e,n){for(var t=0;t<e.length;t++)e[t](n)}},{key:"_setPropertiesAndObserver",value:function(){var e=this;window.cordova.exec(function(n){e._id=n},i,"OneSignalPush","getPushSubscriptionId");window.cordova.exec(function(n){e._token=n},i,"OneSignalPush","getPushSubscriptionToken");window.cordova.exec(function(n){e._optedIn=n},i,"OneSignalPush","getPushSubscriptionOptedIn"),this.addEventListener("change",function(n){e._id=n.current.id,e._token=n.current.token,e._optedIn=n.current.optedIn})}},{key:"id",get:function(){return console.warn("OneSignal: This method has been deprecated. Use getIdAsync instead for getting push subscription id."),this._id}},{key:"token",get:function(){return console.warn("OneSignal: This method has been deprecated. Use getTokenAsync instead for getting push subscription token."),this._token}},{key:"optedIn",get:function(){return console.warn("OneSignal: This method has been deprecated. Use getOptedInAsync instead for getting push subscription opted in status."),this._optedIn||!1}},{key:"getIdAsync",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","getPushSubscriptionId")})}},{key:"getTokenAsync",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","getPushSubscriptionToken")})}},{key:"getOptedInAsync",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","getPushSubscriptionOptedIn")})}},{key:"addEventListener",value:function(e,n){var t=this;this._subscriptionObserverList.push(n);window.cordova.exec(function(e){t._processFunctionList(t._subscriptionObserverList,e)},i,"OneSignalPush","addPushSubscriptionObserver",[])}},{key:"removeEventListener",value:function(e,t){n(this._subscriptionObserverList,t)}},{key:"optIn",value:function(){window.cordova.exec(i,i,"OneSignalPush","optInPushSubscription")}},{key:"optOut",value:function(){window.cordova.exec(i,i,"OneSignalPush","optOutPushSubscription")}}])}(),y=function(){return d(function e(){u(this,e),this.pushSubscription=new m,this._userStateObserverList=[]},[{key:"_processFunctionList",value:function(e,n){for(var t=0;t<e.length;t++)e[t](n)}},{key:"setLanguage",value:function(e){window.cordova.exec(i,i,"OneSignalPush","setLanguage",[e])}},{key:"addAlias",value:function(e,n){var t=f({},e,n);window.cordova.exec(i,i,"OneSignalPush","addAliases",[t])}},{key:"addAliases",value:function(e){window.cordova.exec(i,i,"OneSignalPush","addAliases",[e])}},{key:"removeAlias",value:function(e){window.cordova.exec(i,i,"OneSignalPush","removeAliases",[e])}},{key:"removeAliases",value:function(e){window.cordova.exec(i,i,"OneSignalPush","removeAliases",e)}},{key:"addEmail",value:function(e){window.cordova.exec(i,i,"OneSignalPush","addEmail",[e])}},{key:"removeEmail",value:function(e){window.cordova.exec(i,i,"OneSignalPush","removeEmail",[e])}},{key:"addSms",value:function(e){window.cordova.exec(i,i,"OneSignalPush","addSms",[e])}},{key:"removeSms",value:function(e){window.cordova.exec(i,i,"OneSignalPush","removeSms",[e])}},{key:"addTag",value:function(e,n){var t=f({},e,n);window.cordova.exec(i,i,"OneSignalPush","addTags",[t])}},{key:"addTags",value:function(e){var n=e;Object.keys(e).forEach(function(e){"string"!=typeof n[e]&&(n[e]=JSON.stringify(n[e]))}),window.cordova.exec(i,i,"OneSignalPush","addTags",[n])}},{key:"removeTag",value:function(e){window.cordova.exec(i,i,"OneSignalPush","removeTags",[e])}},{key:"removeTags",value:function(e){window.cordova.exec(i,i,"OneSignalPush","removeTags",e)}},{key:"getTags",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","getTags",[])})}},{key:"addEventListener",value:function(e,n){var t=this;this._userStateObserverList.push(n);window.cordova.exec(function(e){t._processFunctionList(t._userStateObserverList,e)},i,"OneSignalPush","addUserStateObserver",[])}},{key:"removeEventListener",value:function(e,t){n(this._userStateObserverList,t)}},{key:"getOnesignalId",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","getOnesignalId",[])})}},{key:"getExternalId",value:function(){return new Promise(function(e,n){window.cordova.exec(e,n,"OneSignalPush","getExternalId",[])})}}])}(),w=function(){return d(function e(){u(this,e),this.User=new y,this.Debug=new a,this.Session=new h,this.Location=new l,this.InAppMessages=new r,this.Notifications=new b,this.LiveActivities=new s,this._appID=""},[{key:"initialize",value:function(e){var n=this;this._appID=e;window.cordova.exec(function(){n.User.pushSubscription._setPropertiesAndObserver(),n.Notifications._setPropertyAndObserver()},i,"OneSignalPush","init",[this._appID])}},{key:"login",value:function(e){window.cordova.exec(i,i,"OneSignalPush","login",[e])}},{key:"logout",value:function(){window.cordova.exec(i,i,"OneSignalPush","logout")}},{key:"setConsentRequired",value:function(e){window.cordova.exec(i,i,"OneSignalPush","setPrivacyConsentRequired",[e])}},{key:"setConsentGiven",value:function(e){window.cordova.exec(i,i,"OneSignalPush","setPrivacyConsentGiven",[e])}}])}(),x=new w;window.plugins||(window.plugins={}),window.plugins.OneSignal||(window.plugins.OneSignal=x),e.LogLevel=o,e.NotificationWillDisplayEvent=v,e.OSNotification=p,e.OSNotificationPermission=g,e.OneSignalPlugin=w,e.default=x}(ee);var ne=Z(ee),te=function(){return d(function e(){u(this,e)},[{key:"setUser",value:(e=s(o().m(function e(n){return o().w(function(e){for(;;)switch(e.n){case 0:try{ne.initialize("8ed4cb60-6c8b-4310-9d31-3534a40d2710"),ne.Notifications.requestPermission(!1).then(function(e){console.log("User accepted notifications: "+e),ne.login(n),console.log("OneSignal user set:",n)})}catch(t){console.error("OneSignal error:",t)}case 1:return e.a(2)}},e)})),function(n){return e.apply(this,arguments)})}]);var e}(),ie=new te,oe=["src"],ae={class:"greeting"},re={class:"student-name"},se={key:0,class:"loading-container"},ce={key:1},ue={key:0,class:"notification-content"},le={key:1,class:"empty-state"},de={key:0,class:"attendance-content"},fe={key:1,class:"empty-state"},pe={class:"quick-actions-grid"},ve={class:"action-icon-wrapper"},ge={class:"action-icon-wrapper"},be={class:"action-icon-wrapper"},he=a({__name:"HomePage",setup:function(t){var i=localStorage.getItem("parisklegg_token")||"",a=localStorage.getItem("parisklegg_user"),c=a?JSON.parse(a):null,u=(null==c?void 0:c.fullname)||"",d=w(),f=r(!0),Q=r([]),Z=r([]),ee=l(function(){var e=(new Date).getHours();return e<12?"Good Morning":e<18?"Good Afternoon":"Good Evening"}),ne=l(function(){return Q.value.length>0?Q.value[0]:null}),te=l(function(){if(Z.value.length>0){var e=n(Z.value).sort(function(e,n){return new Date(n.created_at).getTime()-new Date(e.created_at).getTime()})[0];return console.log("Latest attendance:",e),e}return console.log("No attendances available"),null});l(function(){try{return Z.value&&Z.value.length>0?n(Z.value).sort(function(e,n){return new Date(n.created_at).getTime()-new Date(e.created_at).getTime()})[0]:null}catch(e){return console.error("Error processing attendance data:",e),null}});var he=l(function(){return"/assets/img/login-logo.png"}),me=function(){var e=document.body;e.classList.remove("ios","android"),m("ios")?e.classList.add("ios"):m("android")&&e.classList.add("android")},ye=function(e){if(!e)return"Recently";var n=new Date(e),t=new Date,i=Math.abs(t.getTime()-n.getTime()),o=Math.floor(i/864e5);return 0===o?"Today":1===o?"Yesterday":o<7?"".concat(o," days ago"):n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},we=function(){return d.push("/tutorships")},xe=function(){return d.push("/notifications")},ke=function(){return d.push("/settings")},Pe=function(){var e=s(o().m(function e(){var n;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return f.value=!0,e.p=1,e.n=2,Se();case 2:return e.n=3,X.show({text:"Data refreshed",position:"top"});case 3:e.n=5;break;case 4:return e.p=4,n=e.v,console.error("Refresh error:",n),e.n=5,X.show({text:"Refresh failed",position:"top"});case 5:return e.p=5,f.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),Se=function(){var n=s(o().m(function n(){var t,i,a,r,s,u,l;return o().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,Promise.all([y.get("https://klegg-app-whh7m.ondigitalocean.app/api/notifications",{headers:Oe()}),y.get("https://klegg-app-whh7m.ondigitalocean.app/api/attendances",{headers:Oe()})]);case 1:t=n.v,i=e(t,2),a=i[0],r=i[1],Q.value=a.data.data||[],s=r.data||[],u=null==c?void 0:c.user_id,console.log("Current user ID:",u),console.log("All attendances before filtering:",s),Z.value=u?s.filter(function(e){var n=e.user_id===u;return console.log("Attendance ".concat(e.attendance_id,": user_id=").concat(e.user_id,", matches=").concat(n)),n}):[],console.log("Filtered attendances for current user:",Z.value),n.n=3;break;case 2:n.p=2,l=n.v,_e(l);case 3:return n.a(2)}},n,null,[[0,2]])}));return function(){return n.apply(this,arguments)}}(),Oe=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(i)}},_e=function(e){if(console.error("Error fetching data:",e),y.isAxiosError(e)){var n;if(401===(null===(n=e.response)||void 0===n?void 0:n.status))return d.replace("/"),void X.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===e.code)return void X.show({text:"Request timeout. Please try again",position:"top"})}X.show({text:"Failed to load data. Please try again later",position:"top"})},Le=function(e){var n=e.matches;x(n)},Ie=function(){var e=window.matchMedia("(prefers-color-scheme: dark)");return Le(e),e.addEventListener("change",Le),e},Ae=function(){var e=s(o().m(function e(n){var t;return o().w(function(e){for(;;)switch(e.n){case 0:return t="user_"+n,e.n=1,ie.setUser(t);case 1:console.log("OneSignal user set:",t);case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}();return p(s(o().m(function e(){var n,t;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,me(),Ie(),n=null==c?void 0:c.username,console.log("Current user Name:",n),e.n=1,Ae(n);case 1:return e.n=2,Se();case 2:e.n=4;break;case 3:e.p=3,t=e.v,console.error("Initialization error:",t);case 4:return e.p=4,f.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[0,3,4,5]])}))),function(e,t){var i=J("ion-text");return $(),v(b(h),null,{default:g(function(){return[k(b(N),{class:"ion-no-border"},{default:g(function(){return[k(b(P),null,{default:g(function(){return[k(b(S),{slot:"start"},{default:g(function(){return[k(b(O),{class:"toolbar-avatar"},{default:g(function(){return[_("img",{src:he.value,alt:"Student"},null,8,oe)]}),_:1})]}),_:1}),k(b(L),{class:"toolbar-title"},{default:g(function(){return[_("div",ae,I(ee.value),1),_("div",re,I(b(u)),1)]}),_:1}),k(b(S),{slot:"end"},{default:g(function(){return[k(b(A),{onClick:Pe,fill:"clear"},{default:g(function(){return[k(b(D),{icon:b(T),slot:"icon-only"},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),k(b(Y),{fullscreen:!0},{default:g(function(){return[f.value?($(),C("div",se,[k(b(E),{name:"crescent"}),t[0]||(t[0]=_("p",null,"Loading your data...",-1))])):($(),C("div",ce,[k(b(M),{class:"content-card"},{default:g(function(){return[k(b(j),null,{default:g(function(){return[k(b(q),null,{default:g(function(){return[k(b(D),{icon:b(F)},null,8,["icon"]),t[1]||(t[1]=z(" Recent Updates ",-1))]}),_:1})]}),_:1}),k(b(U),null,{default:g(function(){return[ne.value?($(),C("div",ue,[_("p",null,I((e=ne.value.body,n=100,e?e.length>n?e.substring(0,n)+"...":e:"")),1),k(b(W),null,{default:g(function(){return[z(I(ye(ne.value.created_at)),1)]}),_:1})])):($(),C("div",le,[k(b(D),{icon:b(G)},null,8,["icon"]),t[2]||(t[2]=_("p",null,"No recent updates",-1))])),k(b(A),{expand:"block",fill:"clear",size:"small",onClick:xe,class:"view-all-button"},{default:g(function(){return[z(" View All Notifications ("+I(Q.value.length)+") ",1)]}),_:1})];var e,n}),_:1})]}),_:1}),k(b(M),{class:"content-card"},{default:g(function(){return[k(b(j),null,{default:g(function(){return[k(b(q),null,{default:g(function(){return[k(b(D),{icon:b(R)},null,8,["icon"]),t[3]||(t[3]=z(" Recent Attendance ",-1))]}),_:1})]}),_:1}),k(b(U),null,{default:g(function(){return[te.value?($(),C("div",de,[_("p",null,[t[4]||(t[4]=z(" You were marked ",-1)),_("strong",null,I(te.value.student_attendance),1),t[5]||(t[5]=z(" in ",-1)),_("strong",null,I(te.value.tutorship_name),1)]),k(b(W),null,{default:g(function(){return[z(I(ye(te.value.attendance_date)||ye(te.value.created_at)),1)]}),_:1})])):($(),C("div",fe,[k(b(D),{icon:b(H)},null,8,["icon"]),t[6]||(t[6]=_("p",null,"No attendance records yet",-1))]))]}),_:1})]}),_:1}),k(b(M),{class:"content-card"},{default:g(function(){return[k(b(j),null,{default:g(function(){return[k(b(q),null,{default:g(function(){return[k(b(D),{icon:b(V)},null,8,["icon"]),t[7]||(t[7]=z(" Quick Actions ",-1))]}),_:1})]}),_:1}),k(b(U),{class:"quick-actions-container"},{default:g(function(){return[_("div",pe,[_("div",{class:"action-item",onClick:we},[_("div",ve,[k(b(D),{icon:b(B),class:"action-icon"},null,8,["icon"])]),k(i,{class:"action-label"},{default:g(function(){return n(t[8]||(t[8]=[z("Classes",-1)]))}),_:1})]),_("div",{class:"action-item",onClick:xe},[_("div",ge,[k(b(D),{icon:b(F),class:"action-icon"},null,8,["icon"])]),k(i,{class:"action-label"},{default:g(function(){return n(t[9]||(t[9]=[z("Notifications",-1)]))}),_:1})]),_("div",{class:"action-item",onClick:ke},[_("div",be,[k(b(D),{icon:b(K),class:"action-icon"},null,8,["icon"])]),k(i,{class:"action-label"},{default:g(function(){return n(t[10]||(t[10]=[z("Settings",-1)]))}),_:1})])])]}),_:1})]}),_:1})]))]}),_:1})]}),_:1})}}});t("default",Q(he,[["__scopeId","data-v-32bbd7ff"]]))}}})}();
