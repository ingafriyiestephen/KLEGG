!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var r,n,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function l(e,a,o,i){var l=a&&a.prototype instanceof c?a:c,s=Object.create(l.prototype);return t(s,"_invoke",function(e,t,a){var o,i,l,c=0,s=a||[],d=!1,f={p:0,n:0,v:r,a:v,f:v.bind(r,4),d:function(e,t){return o=e,i=0,l=r,f.n=t,u}};function v(e,t){for(i=e,l=t,n=0;!d&&c&&!a&&n<s.length;n++){var a,o=s[n],v=f.p,m=o[2];e>3?(a=m===t)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=r):o[0]<=v&&((a=e<2&&v<o[1])?(i=0,f.v=t,f.n=o[1]):v<m&&(a=e<3||o[0]>t||t>m)&&(o[4]=e,o[5]=t,f.n=m,i=0))}if(a||e>1)return u;throw d=!0,t}return function(a,s,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&v(s,m),i=s,l=m;(n=i<2?r:l)||!d;){o||(i?i<3?(i>1&&(f.n=-1),v(i,l)):f.n=l:f.v=l);try{if(c=2,o){if(i||(a="next"),n=o[a]){if(!(n=n.call(o,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,i<2&&(i=0)}else 1===i&&(n=o.return)&&n.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=r}else if((n=(d=f.n<0)?l:e.call(t,f))!==u)break}catch(n){o=r,i=1,l=n}finally{c=1}}return{value:n,done:d}}}(e,o,i),!0),s}var u={};function c(){}function s(){}function d(){}n=Object.getPrototypeOf;var f=[][o]?n(n([][o]())):(t(n={},o,function(){return this}),n),v=d.prototype=c.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return s.prototype=d,t(v,"constructor",d),t(d,"constructor",s),s.displayName="GeneratorFunction",t(d,i,"GeneratorFunction"),t(v),t(v,i,"Generator"),t(v,o,function(){return this}),t(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:l,m:m}})()}function t(e,r,n,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}t=function(e,r,n,a){function i(r,n){t(e,r,function(e){return this._invoke(r,n,e)})}r?o?o(e,r,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[r]=n:(i("next",0),i("throw",1),i("return",2))},t(e,r,n,a)}function r(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}System.register(["./index-legacy-UPaEcoFv.js","./index-legacy-ZvApCsva.js"],function(t,n){"use strict";var a,o,i,l,u,c,s,d,f,v,m,p,_,g,y,h,x,b,w,k,j,z,E,O,S,P,T,C,N,R,G,A,D,F,I,B,L,q,M,Y;return{setters:[function(e){a=e.d,o=e.ar,i=e.r,l=e.c,u=e.S,c=e.a,s=e.o,d=e.b,f=e.w,v=e.u,m=e.I,p=e.e,_=e.f,g=e.g,y=e.h,h=e.i,x=e.P,b=e.l,w=e.A,k=e.q,j=e.s,z=e.x,E=e.y,O=e.z,S=e.n,P=e.aP,T=e.C,C=e.k,N=e.a3,R=e.t,G=e.X,A=e.v,D=e.az,F=e.a2,I=e.m,B=e.a9,L=e.M,q=e.N,M=e._},function(e){Y=e.T}],execute:function(){var n=document.createElement("style");n.textContent=".summary-card[data-v-3c8f88e5]{margin:16px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1)}.summary-title[data-v-3c8f88e5]{display:flex;align-items:center;gap:8px;font-size:1.1rem;font-weight:600;color:var(--ion-text-color);white-space:pre-line}.summary-title ion-icon[data-v-3c8f88e5]{font-size:24px}.summary-content[data-v-3c8f88e5]{display:flex;justify-content:space-between;padding:16px}.summary-item[data-v-3c8f88e5]{display:flex;flex-direction:column;align-items:center;flex:1}.divider[data-v-3c8f88e5]{width:1px;background-color:var(--ion-color-light);margin:0 8px}.summary-label[data-v-3c8f88e5]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:4px}.summary-value[data-v-3c8f88e5]{font-size:1.2rem;font-weight:600}.excellent[data-v-3c8f88e5]{color:var(--ion-color-success)}.good[data-v-3c8f88e5]{color:var(--ion-color-primary)}.average[data-v-3c8f88e5]{color:var(--ion-color-warning)}.poor[data-v-3c8f88e5]{color:var(--ion-color-danger)}.loading-container[data-v-3c8f88e5]{display:flex;justify-content:center;align-items:center;height:200px}.empty-state[data-v-3c8f88e5],.error-state[data-v-3c8f88e5]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:60vh;padding:20px}.empty-state ion-icon[data-v-3c8f88e5],.error-state ion-icon[data-v-3c8f88e5]{font-size:64px;margin-bottom:16px}.empty-state h3[data-v-3c8f88e5],.error-state h3[data-v-3c8f88e5]{font-size:1.2rem;font-weight:500;margin-bottom:8px;color:var(--ion-color-dark)}.empty-state p[data-v-3c8f88e5],.error-state p[data-v-3c8f88e5]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:16px}.details-card[data-v-3c8f88e5]{margin:16px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1)}.details-card ion-card-title[data-v-3c8f88e5]{font-size:1.1rem;font-weight:600;color:var(--ion-text-color)}.detail-row[data-v-3c8f88e5]{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid var(--ion-color-light)}.detail-row[data-v-3c8f88e5]:last-child{border-bottom:none}.detail-label[data-v-3c8f88e5]{font-size:.9rem;color:var(--ion-color-medium)}.detail-value[data-v-3c8f88e5]{font-size:.9rem;font-weight:500}.feedback-section[data-v-3c8f88e5]{margin-top:16px;padding-top:16px;border-top:1px solid var(--ion-color-light)}.feedback-title[data-v-3c8f88e5]{display:block;font-size:.9rem;font-weight:500;color:var(--ion-color-primary);margin-bottom:8px}.feedback-content[data-v-3c8f88e5]{font-size:.9rem;color:var(--ion-color-medium);line-height:1.5}@media (min-width: 768px){.summary-card[data-v-3c8f88e5],.details-card[data-v-3c8f88e5]{margin:16px auto;max-width:800px}}\n",document.head.appendChild(n);var J={class:"summary-item"},V={class:"summary-item"},W={key:0,class:"loading-container"},X={key:1,class:"empty-state"},H={key:2,class:"error-state"},K={class:"detail-row"},Q={class:"detail-row"},U={key:0,class:"detail-row"},Z={key:1,class:"feedback-section"},$=a({__name:"ExamPage",setup:function(t){var n=localStorage.getItem("parisklegg_token")||"",a=localStorage.getItem("parisklegg_user"),M=a?JSON.parse(a):null,$=(null==M?void 0:M.user_id)||0,ee=_(),te=o(),re=Number(te.params.id),ne=i(!0),ae=i(!1),oe=i({student_id:0,tutorship_id:0,score_numerator:0,score_denominator:0}),ie=l(function(){return null!==oe.value}),le=l(function(){var e;return(null===(e=oe.value)||void 0===e?void 0:e.tutorship_name)||"Exam"}),ue=l(function(){return oe.value?ce(oe.value.score_numerator,oe.value.score_denominator):0}),ce=function(e,t){return 0===t?0:Math.round(e/t*100)},se=function(e){return e>=85?"excellent":e>=70?"good":e>=50?"average":"poor"},de=function(){var t,n=(t=e().m(function t(){var r,n;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,ne.value=!0,ae.value=!1,oe.value={student_id:0,tutorship_id:0,score_numerator:0,score_denominator:0},e.n=1,p.post("https://school.klgilc.com/api/exams",{tutorship_id:re,student_id:$},{headers:fe(),timeout:2e4});case 1:(r=e.v).data.length>0&&(oe.value=r.data[0]),e.n=3;break;case 2:e.p=2,n=e.v,console.error("Error fetching exam results:",n),ve(n),ae.value=!0;case 3:return e.p=3,ne.value=!1,e.f(3);case 4:return e.a(2)}},t,null,[[0,2,3,4]])}),function(){var e=this,n=arguments;return new Promise(function(a,o){var i=t.apply(e,n);function l(e){r(i,a,o,l,u,"next",e)}function u(e){r(i,a,o,l,u,"throw",e)}l(void 0)})});return function(){return n.apply(this,arguments)}}(),fe=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)}},ve=function(e){if(console.error("Error fetching data:",e),p.isAxiosError(e)){var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status))return ee.replace("/"),void Y.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===e.code)return void Y.show({text:"Request timeout. Please try again",position:"top"})}Y.show({text:"Failed to load data. Please try again later",position:"top"})};return u.setOverlaysWebView({overlay:!1}),u.setBackgroundColor({color:"#ffffff"}),u.setStyle({style:c.Light}),s(function(){de()}),function(e,t){return q(),d(v(m),null,{default:f(function(){return[g(v(k),null,{default:f(function(){return[g(v(y),null,{default:f(function(){return[g(v(h),{slot:"start"},{default:f(function(){return[g(v(x),{"default-href":"/"})]}),_:1}),g(v(b),null,{default:f(function(){return t[0]||(t[0]=[w("Exam Results",-1)])}),_:1,__:[0]})]}),_:1})]}),_:1}),g(v(L),{fullscreen:!0},{default:f(function(){return[g(v(z),{class:"summary-card"},{default:f(function(){return[g(v(E),null,{default:f(function(){return[g(v(O),{class:"summary-title"},{default:f(function(){return[g(v(S),{icon:v(P),color:"primary"},null,8,["icon"]),t[1]||(t[1]=w(" Exam Overview ",-1))]}),_:1,__:[1]})]}),_:1}),g(v(T),{class:"summary-content"},{default:f(function(){return[C("div",J,[g(v(N),{class:"summary-label"},{default:f(function(){return t[2]||(t[2]=[w("Exam",-1)])}),_:1,__:[2]}),g(v(N),{class:"summary-value"},{default:f(function(){return[w(R(le.value),1)]}),_:1})]),t[4]||(t[4]=C("div",{class:"divider"},null,-1)),C("div",V,[g(v(N),{class:"summary-label"},{default:f(function(){return t[3]||(t[3]=[w("Your Score",-1)])}),_:1,__:[3]}),g(v(N),{class:G(["summary-value",se(ue.value)])},{default:f(function(){return[w(R(ue.value)+"% ",1)]}),_:1},8,["class"])])]}),_:1,__:[4]})]}),_:1}),ne.value?(q(),j("div",W,[g(v(A),{name:"crescent",color:"primary"})])):ie.value||ae.value?ae.value?(q(),j("div",H,[g(v(S),{icon:v(F),size:"large",color:"danger"},null,8,["icon"]),g(v(N),null,{default:f(function(){return t[6]||(t[6]=[C("h3",null,"Error Loading Results",-1),C("p",null,"Please try again later",-1)])}),_:1,__:[6]}),g(v(I),{fill:"clear",onClick:de},{default:f(function(){return t[7]||(t[7]=[w("Retry",-1)])}),_:1,__:[7]})])):(q(),d(v(z),{key:3,class:"details-card"},{default:f(function(){return[g(v(E),null,{default:f(function(){return[g(v(O),null,{default:f(function(){return t[8]||(t[8]=[w("Detailed Results",-1)])}),_:1,__:[8]})]}),_:1}),g(v(T),null,{default:f(function(){return[C("div",K,[g(v(N),{class:"detail-label"},{default:f(function(){return t[9]||(t[9]=[w("Score",-1)])}),_:1,__:[9]}),g(v(N),{class:"detail-value"},{default:f(function(){return[w(R(oe.value.score_numerator)+"/"+R(oe.value.score_denominator),1)]}),_:1})]),C("div",Q,[g(v(N),{class:"detail-label"},{default:f(function(){return t[10]||(t[10]=[w("Percentage",-1)])}),_:1,__:[10]}),g(v(N),{class:G(["detail-value",se(ue.value)])},{default:f(function(){return[w(R(ue.value)+"% ",1)]}),_:1},8,["class"])]),oe.value.created_at?(q(),j("div",U,[g(v(N),{class:"detail-label"},{default:f(function(){return t[11]||(t[11]=[w("Date Taken",-1)])}),_:1,__:[11]}),g(v(N),{class:"detail-value"},{default:f(function(){return[w(R((e=oe.value.created_at,new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}))),1)];var e}),_:1})])):B("",!0),oe.value.comments?(q(),j("div",Z,[g(v(N),{class:"feedback-title"},{default:f(function(){return t[12]||(t[12]=[w("Instructor Feedback",-1)])}),_:1,__:[12]}),g(v(N),{class:"feedback-content"},{default:f(function(){return[w(R(oe.value.comments),1)]}),_:1})])):B("",!0)]}),_:1})]}),_:1})):(q(),j("div",X,[g(v(S),{icon:v(D),size:"large",color:"medium"},null,8,["icon"]),g(v(N),null,{default:f(function(){return t[5]||(t[5]=[C("h3",null,"No Exam Results",-1),C("p",null,"Your exam results will appear here once available",-1)])}),_:1,__:[5]})]))]}),_:1})]}),_:1})}}});t("default",M($,[["__scopeId","data-v-3c8f88e5"]]))}}})}();
