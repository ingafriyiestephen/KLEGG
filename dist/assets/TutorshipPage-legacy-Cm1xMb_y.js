!function(){function t(o){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(o)}function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,o){if(t){if("string"==typeof t)return r(t,o);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,o):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,o){(null==o||o>t.length)&&(o=t.length);for(var r=0,e=Array(o);r<o;r++)e[r]=t[r];return e}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,o,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function c(r,e,n,i){var c=e&&e.prototype instanceof d?e:d,s=Object.create(c.prototype);return a(s,"_invoke",function(r,e,a){var n,i,c,d=0,s=a||[],u=!1,p={p:0,n:0,v:t,a:b,f:b.bind(t,4),d:function(o,r){return n=o,i=0,c=t,p.n=r,l}};function b(r,e){for(i=r,c=e,o=0;!u&&d&&!a&&o<s.length;o++){var a,n=s[o],b=p.p,v=n[2];r>3?(a=v===e)&&(c=n[(i=n[4])?5:(i=3,3)],n[4]=n[5]=t):n[0]<=b&&((a=r<2&&b<n[1])?(i=0,p.v=e,p.n=n[1]):b<v&&(a=r<3||n[0]>e||e>v)&&(n[4]=r,n[5]=e,p.n=v,i=0))}if(a||r>1)return l;throw u=!0,e}return function(a,s,v){if(d>1)throw TypeError("Generator is already running");for(u&&1===s&&b(s,v),i=s,c=v;(o=i<2?t:c)||!u;){n||(i?i<3?(i>1&&(p.n=-1),b(i,c)):p.n=c:p.v=c);try{if(d=2,n){if(i||(a="next"),o=n[a]){if(!(o=o.call(n,c)))throw TypeError("iterator result is not an object");if(!o.done)return o;c=o.value,i<2&&(i=0)}else 1===i&&(o=n.return)&&o.call(n),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);n=t}else if((o=(u=p.n<0)?c:r.call(e,p))!==l)break}catch(o){n=t,i=1,c=o}finally{d=1}}return{value:o,done:u}}}(r,n,i),!0),s}var l={};function d(){}function s(){}function u(){}o=Object.getPrototypeOf;var p=[][n]?o(o([][n]())):(a(o={},n,function(){return this}),o),b=u.prototype=d.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,a(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t}return s.prototype=u,a(b,"constructor",u),a(u,"constructor",s),s.displayName="GeneratorFunction",a(u,i,"GeneratorFunction"),a(b),a(b,i,"Generator"),a(b,n,function(){return this}),a(b,"toString",function(){return"[object Generator]"}),(e=function(){return{w:c,m:v}})()}function a(t,o,r,e){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}a=function(t,o,r,e){function i(o,r){a(t,o,function(t){return this._invoke(o,r,t)})}o?n?n(t,o,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[o]=r:(i("next",0),i("throw",1),i("return",2))},a(t,o,r,e)}function n(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);o&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,e)}return r}function i(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?n(Object(r),!0).forEach(function(o){c(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function c(o,r,e){return(r=function(o){var r=function(o,r){if("object"!=t(o)||!o)return o;var e=o[Symbol.toPrimitive];if(void 0!==e){var a=e.call(o,r||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(o)}(o,"string");return"symbol"==t(r)?r:r+""}(r))in o?Object.defineProperty(o,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[r]=e,o}function l(t,o,r,e,a,n,i){try{var c=t[n](i),l=c.value}catch(t){return void r(t)}c.done?o(l):Promise.resolve(l).then(e,a)}function d(t){return function(){var o=this,r=arguments;return new Promise(function(e,a){var n=t.apply(o,r);function i(t){l(n,e,a,i,c,"next",t)}function c(t){l(n,e,a,i,c,"throw",t)}i(void 0)})}}System.register(["./index-legacy-BDm5fI0y.js","./index-legacy-5QTRqfGm.js"],function(t,r){"use strict";var a,n,c,l,s,u,p,b,v,f,m,g,h,x,y,k,w,j,_,O,S,P,C,E,A,z,T,I,N,Y,F,D,G,U,M,R,$,q,B,L;return{setters:[function(t){a=t.d,n=t.r,c=t.P,l=t.o,s=t.a,u=t.w,p=t.u,b=t.I,v=t.b,f=t.e,m=t.f,g=t.g,h=t.h,x=t.j,y=t.m,k=t.B,w=t.n,j=t.p,_=t.Q,O=t.s,S=t.v,P=t.l,C=t.L,E=t.R,A=t.S,z=t.N,T=t.O,I=t.t,N=t.T,Y=t.U,F=t.V,D=t.W,G=t.X,U=t.Y,M=t.Z,R=t.$,$=t.a0,q=t.a1,B=t._},function(t){L=t.T}],execute:function(){var r=document.createElement("style");r.textContent='.modern-school-theme[data-v-ad85b88e]{--ion-font-family: "Segoe UI", system-ui, -apple-system, sans-serif;--math-color: #ff6b6b;--science-color: #4ecdc4;--english-color: #ff9ff3;--history-color: #feca57;--default-color: #8395a7}ion-header[data-v-ad85b88e]{background:var(--ion-toolbar-background)}ion-toolbar[data-v-ad85b88e]{--background: var(--ion-toolbar-background);--color: var(--ion-text-color);--border-color: var(--ion-border-color)}.back-button[data-v-ad85b88e],.refresh-btn[data-v-ad85b88e]{--color: var(--ion-text-color)}.page-title[data-v-ad85b88e]{color:var(--ion-text-color);font-weight:600}.content-bg[data-v-ad85b88e]{--background: var(--ion-background-color)}.loading-container[data-v-ad85b88e]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:60vh;text-align:center;background:var(--ion-background-color)}.loading-container ion-spinner[data-v-ad85b88e]{width:48px;height:48px;margin-bottom:16px;color:var(--ion-color-primary)}.loading-container p[data-v-ad85b88e]{color:var(--ion-color-medium);margin-top:8px}.creative-empty-state[data-v-ad85b88e]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:70vh;padding:20px;text-align:center;background:var(--ion-background-color)}.desk-illustration[data-v-ad85b88e]{width:200px;height:150px;position:relative;margin-bottom:30px}.desk[data-v-ad85b88e]{position:absolute;bottom:0;width:180px;height:10px;background:#a55c40;border-radius:4px}.lamp[data-v-ad85b88e]{position:absolute;top:0;left:50%;transform:translate(-50%);width:60px;height:80px;background:var(--ion-color-step-200);border-radius:30px 30px 0 0}.lamp[data-v-ad85b88e]:after{content:"";position:absolute;bottom:-10px;left:0;width:100%;height:20px;background:var(--ion-color-primary);border-radius:0 0 10px 10px}.book-stack[data-v-ad85b88e]{position:absolute;bottom:15px;left:50%;transform:translate(-50%);width:120px}.book-stack .book[data-v-ad85b88e]{position:absolute;height:8px;background:var(--ion-color-step-100);border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,.1)}.book-stack .book[data-v-ad85b88e]:nth-child(1){width:100px;bottom:0;left:0;background:var(--english-color)}.book-stack .book[data-v-ad85b88e]:nth-child(2){width:110px;bottom:10px;left:5px;background:var(--history-color)}.book-stack .book[data-v-ad85b88e]:nth-child(3){width:90px;bottom:20px;left:15px;background:var(--science-color)}.creative-empty-state h3[data-v-ad85b88e]{font-size:1.3rem;color:var(--ion-text-color);margin-bottom:8px}.creative-empty-state p[data-v-ad85b88e]{color:var(--ion-color-medium);margin-bottom:25px}.cta-button[data-v-ad85b88e]{--background: var(--ion-color-primary);--background-activated: var(--ion-color-primary-shade);--color: var(--ion-color-primary-contrast);font-weight:500;padding:0 25px}.class-grid[data-v-ad85b88e]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;padding:20px;background:var(--ion-background-color)}.class-card[data-v-ad85b88e]{background:var(--ion-card-background);border-radius:12px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,.05);transition:all .2s ease;cursor:pointer;border:1px solid var(--ion-border-color)}.class-card[data-v-ad85b88e]:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.1)}.math-card[data-v-ad85b88e]{border-top:4px solid var(--math-color)}.science-card[data-v-ad85b88e]{border-top:4px solid var(--science-color)}.english-card[data-v-ad85b88e]{border-top:4px solid var(--english-color)}.history-card[data-v-ad85b88e]{border-top:4px solid var(--history-color)}.default-card[data-v-ad85b88e]{border-top:4px solid var(--default-color)}.card-header[data-v-ad85b88e]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:15px}.subject-badge[data-v-ad85b88e]{width:40px;height:40px;background:var(--ion-color-step-100);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.class-meta[data-v-ad85b88e]{display:flex;gap:12px}.student-count[data-v-ad85b88e],.rating[data-v-ad85b88e]{display:flex;align-items:center;gap:4px;font-size:.85rem;color:var(--ion-color-medium)}ion-icon[data-v-ad85b88e]{font-size:16px;color:var(--ion-color-medium)}.class-title[data-v-ad85b88e]{font-size:1.2rem;font-weight:700;color:var(--ion-text-color);margin:0 0 5px}.subject-name[data-v-ad85b88e]{font-size:.9rem;color:var(--ion-color-medium);margin:0 0 20px}.progress-bar[data-v-ad85b88e]{height:6px;background:var(--ion-color-step-100);border-radius:3px;margin-bottom:15px;overflow:hidden}.progress-fill[data-v-ad85b88e]{height:100%;background:var(--ion-color-primary);border-radius:3px;transition:width .5s ease}.card-footer[data-v-ad85b88e]{display:flex;justify-content:space-between;align-items:center}.completion-text[data-v-ad85b88e]{font-size:.8rem;color:var(--ion-color-medium);font-weight:500}.arrow-icon[data-v-ad85b88e]{color:var(--ion-color-medium);font-size:1.2rem}.quick-action[data-v-ad85b88e]{position:absolute;top:15px;right:15px;background:rgba(var(--ion-color-warning-rgb),.1);color:var(--ion-color-warning);padding:6px 10px;border-radius:16px;font-size:.8rem;display:flex;align-items:center;gap:4px;z-index:2}.action-ribbon.two-row[data-v-ad85b88e]{height:0;overflow:hidden;transition:height .3s ease;background:var(--ion-color-step-50);border-radius:8px}.action-ribbon.two-row.active[data-v-ad85b88e]{height:120px;padding:8px 0}.ribbon-row[data-v-ad85b88e]{display:flex;justify-content:space-around;width:100%}.ribbon-button[data-v-ad85b88e]{flex:1;display:flex;flex-direction:column;align-items:center;padding:6px 4px;margin:0 4px;min-width:0;background:transparent;border:none;color:var(--ion-color-medium);opacity:0;transform:translateY(10px);transition:all .3s calc(var(--delay) * .1s)}.action-ribbon.two-row.active .ribbon-button[data-v-ad85b88e]{opacity:1;transform:translateY(0)}.ribbon-button ion-icon[data-v-ad85b88e]{font-size:1.2rem;margin-bottom:4px;color:var(--ion-color-medium)}.ribbon-button span[data-v-ad85b88e]{font-size:.7rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;color:var(--ion-color-medium)}@media (max-width: 600px){.class-grid[data-v-ad85b88e]{grid-template-columns:1fr;padding:16px;gap:16px}.class-card[data-v-ad85b88e]{padding:16px}}.class-card[data-v-ad85b88e]:focus-visible{outline:2px solid var(--ion-color-primary);outline-offset:2px}.ribbon-button[data-v-ad85b88e]:focus-visible{outline:2px solid var(--ion-color-primary);outline-offset:2px}@media (hover: hover){.class-card[data-v-ad85b88e]:hover{transform:translateY(-5px);box-shadow:0 8px 24px rgba(0,0,0,.12)}.ribbon-button[data-v-ad85b88e]:hover{color:var(--ion-color-primary)}.ribbon-button:hover ion-icon[data-v-ad85b88e]{color:var(--ion-color-primary)}}@keyframes slideInUp-ad85b88e{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.class-card[data-v-ad85b88e]{animation:slideInUp-ad85b88e .4s ease-out}.class-card[data-v-ad85b88e]:nth-child(odd){animation-delay:.1s}.class-card[data-v-ad85b88e]:nth-child(2n){animation-delay:.2s}\n/*$vite$:1*/',document.head.appendChild(r);var W={key:0,class:"loading-container"},J={key:1,class:"creative-empty-state"},Q={key:2,class:"class-grid"},V=["onClick"],X={class:"card-content"},Z={class:"card-header"},H={class:"subject-badge"},K=["onClick"],tt={class:"subject-name"},ot={class:"ribbon-row top-row"},rt=["onClick"],et={class:"ribbon-row bottom-row"},at=["onClick"],nt=a({__name:"TutorshipPage",setup:function(t){var r=localStorage.getItem("parisklegg_token")||"",a=localStorage.getItem("parisklegg_user"),B=a?JSON.parse(a):null,nt=(null==B?void 0:B.user_id)||0;console.log(nt);var it=f(),ct=n(null),lt=n(!0),dt=n([]),st=function(){var t=d(e().m(function t(){var o,r;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,lt.value=!0,t.n=1,v.get("https://klegg-app-whh7m.ondigitalocean.app/api/tutorships",{headers:ft(),timeout:2e4});case 1:if(o=t.v,!isNaN(nt)){t.n=2;break}throw new Error("Invalid student ID");case 2:dt.value=o.data.filter(function(t){try{var o;return((null===(o=t.students_list)||void 0===o?void 0:o.split(",").map(Number).filter(function(t){return!isNaN(t)}))||[]).includes(nt)}catch(r){return console.warn("Error parsing students_list",t),!1}}).map(function(t){return i(i({},t),{},{rating_score:void 0!==t.average_rating?parseFloat(t.average_rating.toFixed(1)):void 0})}),t.n=4;break;case 3:t.p=3,r=t.v,mt(r);case 4:return t.p=4,lt.value=!1,t.f(4);case 5:return t.a(2)}},t,null,[[0,3,4,5]])}));return function(){return t.apply(this,arguments)}}(),ut=function(){lt.value=!0,st()},pt=[{id:1,icon:D,label:"Classroom",url:"classroom"},{id:2,icon:G,label:"Attendance",url:"attendance"},{id:3,icon:U,label:"Assignment",url:"assignment"}],bt=[{id:4,icon:R,label:"Materials",url:"materials"},{id:5,icon:$,label:"Assessment",url:"assessment"},{id:6,icon:q,label:"Exam",url:"exam"}],vt=function(t,o){it.push("/".concat(o,"/").concat(t,"/"))},ft=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(r)}},mt=function(t){if(console.error("Error fetching data:",t),v.isAxiosError(t)){var o;if(401===(null===(o=t.response)||void 0===o?void 0:o.status))return it.replace("/"),void L.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===t.code)return void L.show({text:"Request timeout. Please try again",position:"top"})}L.show({text:"Failed to load data. Please try again later",position:"top"})},gt=function(t){var o=t.matches;m(o)};c(d(e().m(function t(){return e().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,st();case 1:return t.a(2)}},t)})));return l(function(){var t;t=window.matchMedia("(prefers-color-scheme: dark)"),gt(t),t.addEventListener("change",gt),st()}),function(t,r){var e=C("ion-spinner");return T(),s(p(b),{class:"modern-school-theme"},{default:u(function(){return[g(p(O),null,{default:u(function(){return[g(p(h),null,{default:u(function(){return[g(p(x),{slot:"start"}),g(p(y),{class:"page-title"},{default:u(function(){return o(r[0]||(r[0]=[k("My Classes",-1)]))}),_:1}),g(p(x),{slot:"end"},{default:u(function(){return[g(p(w),{onClick:ut,fill:"clear",class:"refresh-btn"},{default:u(function(){return[g(p(j),{icon:p(_),slot:"icon-only"},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),g(p(z),{fullscreen:!0,class:"content-bg"},{default:u(function(){return[lt.value?(T(),S("div",W,[g(e,{name:"crescent",color:"primary"}),r[1]||(r[1]=P("p",null,"Loading your classes...",-1))])):0===dt.value.length?(T(),S("div",J,[r[3]||(r[3]=P("div",{class:"desk-illustration"},[P("div",{class:"desk"}),P("div",{class:"lamp"}),P("div",{class:"book-stack"},[P("div",{class:"book"}),P("div",{class:"book"}),P("div",{class:"book"})])],-1)),r[4]||(r[4]=P("h3",null,"No Classes Yet",-1)),r[5]||(r[5]=P("p",null,"When you enroll in a class, it'll appear here",-1)),g(p(w),{onClick:ut,fill:"solid",class:"cta-button"},{default:u(function(){return o(r[2]||(r[2]=[k(" Check Again ",-1)]))}),_:1})])):(T(),S("div",Q,[(T(!0),S(E,null,A(dt.value,function(t){var o;return T(),S("div",{key:t.tutorship_id,class:"class-card",onClick:function(o){return r=t.tutorship_id,void(ct.value=ct.value===r?null:r);var r}},[P("div",X,[P("div",Z,[P("div",H,I((t.subject_name,"ðŸ“–")),1),P("div",{class:"quick-action",onClick:N(function(o){return r=t.tutorship_id,void it.push("/rate/".concat(r));var r},["stop"])},[g(p(j),{icon:p(Y)},null,8,["icon"]),k(" "+I((null===(o=t.average_rating)||void 0===o?void 0:o.toFixed(1))||"Rate"),1)],8,K)]),P("h3",null,I(t.tutorship_name),1),P("p",tt,I(t.subject_name),1)]),P("div",{class:F(["action-ribbon two-row",{active:ct.value===t.tutorship_id}])},[P("div",ot,[(T(),S(E,null,A(pt,function(o){return P("button",{key:"first-"+o.id,onClick:N(function(r){return vt(t.tutorship_id,o.label)},["stop"]),class:"ribbon-button",style:M({"--delay":o.id})},[g(p(j),{icon:o.icon},null,8,["icon"]),P("span",null,I(o.label),1)],12,rt)}),64))]),P("div",et,[(T(),S(E,null,A(bt,function(o){return P("button",{key:"second-"+o.id,onClick:N(function(r){return vt(t.tutorship_id,o.url)},["stop"]),class:"ribbon-button",style:M({"--delay":o.id+pt.length})},[g(p(j),{icon:o.icon},null,8,["icon"]),P("span",null,I(o.label),1)],12,at)}),64))])],2)],8,V)}),128))]))]}),_:1})]}),_:1})}}});t("default",B(nt,[["__scopeId","data-v-ad85b88e"]]))}}})}();
