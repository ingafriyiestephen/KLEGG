!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function n(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function o(e,n,o){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,n||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,o,r,a){var i=o&&o.prototype instanceof l?o:l,d=Object.create(i.prototype);return u(d,"_invoke",function(n,o,r){var a,i,u,l=0,d=r||[],s=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,i=0,u=t,p.n=n,c}};function f(n,o){for(i=n,u=o,e=0;!s&&l&&!r&&e<d.length;e++){var r,a=d[e],f=p.p,v=a[2];n>3?(r=v===o)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=f&&((r=n<2&&f<a[1])?(i=0,p.v=o,p.n=a[1]):f<v&&(r=n<3||a[0]>o||o>v)&&(a[4]=n,a[5]=o,p.n=v,i=0))}if(r||n>1)return c;throw s=!0,o}return function(r,d,v){if(l>1)throw TypeError("Generator is already running");for(s&&1===d&&f(d,v),i=d,u=v;(e=i<2?t:u)||!s;){a||(i?i<3?(i>1&&(p.n=-1),f(i,u)):p.n=u:p.v=u);try{if(l=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=t}else if((e=(s=p.n<0)?u:n.call(o,p))!==c)break}catch(e){a=t,i=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,r,a),!0),d}var c={};function l(){}function d(){}function s(){}e=Object.getPrototypeOf;var p=[][o]?e(e([][o]())):(u(e={},o,function(){return this}),e),f=s.prototype=l.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,u(t,r,"GeneratorFunction")),t.prototype=Object.create(f),t}return d.prototype=s,u(f,"constructor",s),u(s,"constructor",d),d.displayName="GeneratorFunction",u(s,r,"GeneratorFunction"),u(f),u(f,r,"Generator"),u(f,o,function(){return this}),u(f,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:v}})()}function u(t,e,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}u=function(t,e,n,o){function a(e,n){u(t,e,function(t){return this._invoke(e,n,t)})}e?r?r(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},u(t,e,n,o)}function c(t,e,n,o,r,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(o,r)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var a=t.apply(e,n);function i(t){c(a,o,r,i,u,"next",t)}function u(t){c(a,o,r,i,u,"throw",t)}i(void 0)})}}System.register(["./index-legacy-C8AAjeca.js","./index-legacy-DhEKgVkm.js"],function(t,e){"use strict";var o,a,u,c,d,s,p,f,v,m,b,g,h,y,_,x,k,w,O,S,j,P,E,z,C,N,I,A,T,D,G,R,U,L,F,V,$,B,J,M,Y,q,Z,H,Q,W,X,K,tt,et,nt,ot,rt,at,it,ut,ct,lt,dt;return{setters:[function(t){o=t.d,a=t.r,u=t.ao,c=t.c,d=t.o,s=t.P,p=t.a,f=t.w,v=t.u,m=t.I,b=t.b,g=t.e,h=t.f,y=t.g,_=t.h,x=t.L,k=t.aq,w=t.m,O=t.B,S=t.s,j=t.v,P=t.a9,E=t.x,z=t.p,C=t.a1,N=t.a2,I=t.l,A=t.n,T=t.y,D=t.z,G=t.A,R=t.t,U=t.aQ,L=t.D,F=t.R,V=t.S,$=t.aR,B=t.a3,J=t.aS,M=t.a8,Y=t.a4,q=t.a5,Z=t.a6,H=t.aT,Q=t.aU,W=t.aV,X=t.N,K=t.aW,tt=t.aX,et=t.O,nt=t.k,ot=t.ab,rt=t.aY,at=t.aZ,it=t.a_,ut=t.ac,ct=t.ad,lt=t._},function(t){dt=t.T}],execute:function(){var e=document.createElement("style");e.textContent=".loading-container[data-v-7b18e8a8]{display:flex;justify-content:center;align-items:center;height:100px;margin:20px 0}.error-state[data-v-7b18e8a8]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:60vh;padding:20px}.error-state ion-icon[data-v-7b18e8a8]{margin-bottom:16px;color:var(--ion-color-medium)}.error-state h3[data-v-7b18e8a8]{font-size:1.2rem;font-weight:500;margin-bottom:8px;color:var(--ion-text-color)}.error-state p[data-v-7b18e8a8]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:16px}.notification-card[data-v-7b18e8a8]{margin:0;border-radius:0;box-shadow:none;border-bottom:1px solid var(--ion-border-color);background:var(--ion-card-background)}.notification-title[data-v-7b18e8a8]{color:var(--ion-text-color);white-space:pre-line}.notification-body[data-v-7b18e8a8]{font-size:1rem;line-height:1.5;color:var(--ion-text-color);white-space:pre-line}.reactions-container[data-v-7b18e8a8]{display:flex;gap:8px;margin-top:16px;padding-top:16px;border-top:1px solid var(--ion-border-color)}.reaction-button[data-v-7b18e8a8]{--color: var(--ion-color-medium);--background: var(--ion-item-background);--background-hover: var(--ion-color-light-shade);--background-activated: var(--ion-color-light-tint)}.comments-section[data-v-7b18e8a8]{margin-top:16px;background:var(--ion-background-color)}.comment-item[data-v-7b18e8a8]{--padding-start: 0;--inner-padding-end: 0;--background: var(--ion-item-background);border-bottom:1px solid var(--ion-border-color)}.comment-item[data-v-7b18e8a8]:last-child{border-bottom:none}.comment-item ion-avatar[data-v-7b18e8a8]{width:40px;height:40px;margin-right:12px}.comment-item h3[data-v-7b18e8a8]{font-size:.9rem;font-weight:500;color:var(--ion-text-color)}.comment-item p[data-v-7b18e8a8]{font-size:.9rem;color:var(--ion-text-color);margin:4px 0;opacity:.9}.comment-date[data-v-7b18e8a8]{font-size:.7rem;color:var(--ion-color-medium)}.comment-input-container[data-v-7b18e8a8]{position:sticky;bottom:0;background:var(--ion-background-color);padding:8px;border-top:1px solid var(--ion-border-color)}.comment-input-container ion-textarea[data-v-7b18e8a8]{background:var(--ion-color-step-100);border-radius:20px;--padding-start: 12px;--padding-end: 12px;font-size:.9rem;--color: var(--ion-text-color);--placeholder-color: var(--ion-color-medium);--placeholder-opacity: .6}ion-popover[data-v-7b18e8a8]{--background: var(--ion-card-background);--color: var(--ion-text-color)}ion-popover ion-content[data-v-7b18e8a8]{--padding-start: 8px;--padding-end: 8px;--padding-top: 8px;--padding-bottom: 8px;--background: var(--ion-card-background)}.reaction-picker-buttons[data-v-7b18e8a8]{display:flex;gap:4px;flex-wrap:wrap}.reaction-picker-button[data-v-7b18e8a8]{--padding-start: 8px;--padding-end: 8px;--background: var(--ion-item-background);--color: var(--ion-text-color);--border-radius: 16px;font-size:1.2rem}.vote-buttons[data-v-7b18e8a8]{display:flex;flex-direction:column;align-items:center;margin-right:8px;background:var(--ion-item-background);border-radius:20px;padding:4px}.vote-button[data-v-7b18e8a8]{--color: var(--ion-color-medium);--background: transparent;--background-hover: var(--ion-color-light-shade);--background-activated: var(--ion-color-light-tint)}.vote-button.active[data-v-7b18e8a8]{--color: var(--ion-color-primary)}.vote-count[data-v-7b18e8a8]{font-size:.8em;margin:4px 0;color:var(--ion-text-color);font-weight:500}ion-icon[data-v-7b18e8a8]{width:16px;height:16px;color:var(--ion-color-medium)}.status-indicator[data-v-7b18e8a8]{width:8px;height:8px;border-radius:50%;background:var(--ion-color-success);margin-right:8px}.status-indicator.offline[data-v-7b18e8a8]{background:var(--ion-color-medium)}.notification-badge[data-v-7b18e8a8]{--background: var(--ion-color-primary);--color: var(--ion-color-primary-contrast);font-size:.7rem;font-weight:600}.empty-state[data-v-7b18e8a8]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:40vh;padding:20px;color:var(--ion-color-medium)}.empty-state ion-icon[data-v-7b18e8a8]{font-size:3rem;margin-bottom:16px;opacity:.5}@media (max-width: 768px){.comment-item[data-v-7b18e8a8]{--padding-start: 8px;--padding-end: 8px}.vote-buttons[data-v-7b18e8a8]{margin-right:4px;padding:2px}}.comment-input-container ion-textarea[data-v-7b18e8a8]:focus-within{background:var(--ion-color-step-200);outline:2px solid var(--ion-color-primary-tint)}.reaction-button[data-v-7b18e8a8]:focus,.vote-button[data-v-7b18e8a8]:focus{outline:2px solid var(--ion-color-primary);outline-offset:2px}.notification-card.new-item[data-v-7b18e8a8]{animation:fadeInUp-7b18e8a8 .3s ease-out}@keyframes fadeInUp-7b18e8a8{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}\n/*$vite$:1*/",document.head.appendChild(e);var st={key:0,class:"loading-container"},pt={key:1,class:"error-state"},ft={key:2},vt={class:"notification-body"},mt={class:"reactions-container"},bt={class:"comments-section"},gt=["src"],ht={class:"comment-date"},yt={slot:"end",class:"vote-buttons"},_t={class:"vote-count"},xt={class:"vote-count"},kt={class:"comment-input-container"},wt=o({__name:"NotificationPage",setup:function(t){var e=localStorage.getItem("parisklegg_token")||"",o=localStorage.getItem("parisklegg_user");o&&JSON.parse(o);var lt=null,wt=a({name:"",id:0,otp:0,phone:""}),Ot=u(),St=g(),jt=Number(Ot.params.id),Pt=a(!0),Et=a(!1),zt=a(!1),Ct=a(!1),Nt=a(!1),It=a(null),At=a([]),Tt=a(1),Dt=a(!0),Gt=a(""),Rt=a(null),Ut=a(!1),Lt=a(null),Ft=a(0),Vt=["like","heart","thumbs-up"],$t=c(function(){var t;return(null===(t=It.value)||void 0===t||null===(t=t.user_reaction)||void 0===t?void 0:t.reaction_type)||null}),Bt=function(t){return{like:ct,heart:ut,"thumbs-up":ot}[t]||ct},Jt=function(t){if(!t)return"Just now";var e=t.replace(/\.\d{6}Z$/,""),n=new Date(e);if(isNaN(n.getTime()))return"Invalid date";var o=n.toLocaleString("en-US",{month:"short"}),r=n.getDate(),a=String(n.getHours()).padStart(2,"0"),i=String(n.getMinutes()).padStart(2,"0");return"".concat(o," ").concat(r,", ").concat(a,":").concat(i)},Mt=function(){var t=l(i().m(function t(){var e,n;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,Pt.value=!0,Et.value=!1,t.n=1,b.get("https://klegg-app-whh7m.ondigitalocean.app/api/notifications/".concat(jt),{headers:te(),timeout:2e4});case 1:if(e=t.v,It.value=e.data,console.log("Notification loaded:",e.data),0!==e.data.is_read){t.n=2;break}return t.n=2,b.post("https://klegg-app-whh7m.ondigitalocean.app/api/notifications/".concat(jt,"/read"),{},{headers:te(),timeout:1e4});case 2:return t.n=3,Yt();case 3:t.n=5;break;case 4:t.p=4,n=t.v,console.error("Error loading notification:",n),ee(n),Et.value=!0;case 5:return t.p=5,Pt.value=!1,t.f(5);case 6:return t.a(2)}},t,null,[[0,4,5,6]])}));return function(){return t.apply(this,arguments)}}(),Yt=function(){var t=l(i().m(function t(){var e,n,o,a=arguments;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:1,t.p=1,t.n=2,b.get("https://klegg-app-whh7m.ondigitalocean.app/api/notifications/".concat(jt,"/comments"),{params:{page:e},headers:te(),timeout:1e4});case 2:n=t.v,At.value=1===e?n.data.data:[].concat(r(At.value),r(n.data.data)),Tt.value=e,Dt.value=!!n.data.next_page_url,t.n=4;break;case 3:t.p=3,o=t.v,console.error("Error loading comments:",o);case 4:return t.a(2)}},t,null,[[1,3]])}));return function(){return t.apply(this,arguments)}}(),qt=function(){var t=l(i().m(function t(e){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Yt(Tt.value+1);case 1:e.target.complete();case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),Zt=function(){var t=l(i().m(function t(){var e,n,o;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(Gt.value.trim()){t.n=1;break}return t.a(2);case 1:return zt.value=!0,t.p=2,t.n=3,b.post("https://klegg-app-whh7m.ondigitalocean.app/api/notifications/".concat(jt,"/create_comment"),{comment_body:Gt.value},{headers:te(),timeout:1e4});case 3:e=t.v,n={id:e.data.comment.id,comment_body:e.data.comment.comment_body,created_at:e.data.comment.created_at,user_id:e.data.comment.user_id,user_name:e.data.comment.user_name,avatar:e.data.comment.avatar||null,upvotes_count:0,downvotes_count:0,user_vote:null},At.value.unshift(n),Gt.value="",It.value&&(It.value.comments_count+=1),t.n=5;break;case 4:t.p=4,o=t.v,console.error("Error adding comment:",o);case 5:return t.p=5,zt.value=!1,t.f(5);case 6:return t.a(2)}},t,null,[[2,4,5,6]])}));return function(){return t.apply(this,arguments)}}(),Ht=function(){var t=l(i().m(function t(e){var n;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return Rt.value=e,t.p=1,t.n=2,b.delete("https://klegg-app-whh7m.ondigitalocean.app/api/comments/".concat(e),{headers:te(),timeout:1e4});case 2:At.value=At.value.filter(function(t){return t.id!==e}),It.value&&(It.value.comments_count-=1),t.n=4;break;case 3:t.p=3,n=t.v,console.error("Error deleting comment:",n);case 4:return t.p=4,Rt.value=null,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}));return function(e){return t.apply(this,arguments)}}(),Qt=function(){var t=l(i().m(function t(e){return i().w(function(t){for(;;)switch(t.n){case 0:if($t.value!==e){t.n=2;break}return t.n=1,Kt();case 1:t.n=3;break;case 2:return t.n=3,Xt(e);case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),Wt=function(){var t=l(i().m(function t(e,o){var r,a,u,c,l;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!Nt.value){t.n=1;break}return t.a(2);case 1:if(Nt.value=!0,t.p=2,-1!==(r=At.value.findIndex(function(t){return t.id===e}))){t.n=3;break}return t.a(2);case 3:return a=At.value[r],(u=a.user_vote)===o?(a.user_vote=null,"upvote"===o&&a.upvotes_count--,"downvote"===o&&a.downvotes_count--):("upvote"===u&&a.upvotes_count--,"downvote"===u&&a.downvotes_count--,a.user_vote=o,"upvote"===o&&a.upvotes_count++,"downvote"===o&&a.downvotes_count++),t.n=4,b.post("https://klegg-app-whh7m.ondigitalocean.app/api/comments/".concat(e,"/vote"),{vote_type:o},{headers:te(),timeout:1e4});case 4:c=t.v,At.value[r]=n(n({},At.value[r]),{},{upvotes_count:c.data.upvotes_count,downvotes_count:c.data.downvotes_count,user_vote:c.data.user_vote}),t.n=6;break;case 5:t.p=5,l=t.v,console.error("Error voting on comment:",l),Yt(Tt.value);case 6:return t.p=6,Nt.value=!1,t.f(6);case 7:return t.a(2)}},t,null,[[2,5,6,7]])}));return function(e,n){return t.apply(this,arguments)}}(),Xt=function(){var t=l(i().m(function t(e){var n,o;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return Ct.value=!0,Ut.value=!1,t.p=1,t.n=2,b.post("https://klegg-app-whh7m.ondigitalocean.app/api/notifications/".concat(jt,"/reactions"),{reaction_type:e},{headers:te(),timeout:1e4});case 2:n=t.v,It.value&&(It.value.reaction_counts=n.data.reaction_counts,It.value.user_reaction={reaction_type:e},Lt.value=n.data.reaction_id,console.log("Reaction added:",Lt.value)),t.n=4;break;case 3:t.p=3,o=t.v,console.error("Error adding reaction:",o);case 4:return t.p=4,Ct.value=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}));return function(e){return t.apply(this,arguments)}}(),Kt=function(){var t=l(i().m(function t(){var e,n;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return Ct.value=!0,t.p=1,t.n=2,b.delete("https://klegg-app-whh7m.ondigitalocean.app/api/notifications/".concat(jt,"/delete_reaction"),{headers:te(),timeout:1e4});case 2:e=t.v,It.value&&(It.value.reaction_counts=e.data.reaction_counts,Lt.value=0,It.value.user_reaction=null),t.n=4;break;case 3:t.p=3,n=t.v,console.error("Error removing reaction:",n);case 4:return t.p=4,Ct.value=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}));return function(){return t.apply(this,arguments)}}(),te=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)}},ee=function(t){if(console.error("Error fetching data:",t),b.isAxiosError(t)){var e;if(401===(null===(e=t.response)||void 0===e?void 0:e.status))return St.replace("/"),void dt.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===t.code)return void dt.show({text:"Request timeout. Please try again",position:"top"})}dt.show({text:"Failed to load data. Please try again later",position:"top"})},ne=function(t){var e=t.matches;h(e)},oe=function(){var t=window.matchMedia("(prefers-color-scheme: dark)");return ne(t),t.addEventListener("change",ne),t};return d(function(){oe(),Mt();var t=localStorage.getItem("parisklegg_user");if(t){var e=JSON.parse(t);e&&(wt.value.name=e.fullname,wt.value.id=e.user_id,wt.value.email=e.username,lt=e.user_id)}Ft.value=lt?Number(lt):0}),s(l(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:oe();case 1:return t.a(2)}},t)}))),function(t,e){var n=x("ion-buttons");return et(),p(v(m),null,{default:f(function(){return[y(v(S),null,{default:f(function(){return[y(v(_),null,{default:f(function(){return[y(n,{slot:"start"},{default:f(function(){return[y(v(k))]}),_:1}),y(v(w),null,{default:f(function(){return r(e[3]||(e[3]=[O(" Notification ",-1)]))}),_:1})]}),_:1})]}),_:1}),y(v(X),{fullscreen:!0},{default:f(function(){return[Pt.value?(et(),j("div",st,[y(v(E),{name:"crescent",color:"primary"})])):Et.value?(et(),j("div",pt,[y(v(z),{icon:v(C),color:"danger",size:"large"},null,8,["icon"]),y(v(N),null,{default:f(function(){return r(e[4]||(e[4]=[I("h3",null,"Error Loading Notification",-1),I("p",null,"Please try again later",-1)]))}),_:1}),y(v(A),{fill:"clear",onClick:Mt},{default:f(function(){return r(e[5]||(e[5]=[O("Retry",-1)]))}),_:1})])):It.value?(et(),j("div",ft,[y(v(T),{class:"notification-card"},{default:f(function(){return[y(v(D),null,{default:f(function(){return[y(v(G),{class:"notification-title"},{default:f(function(){return[O(R(It.value.title),1)]}),_:1}),y(v(U),null,{default:f(function(){return[O(R(Jt(It.value.created_at)),1)]}),_:1})]}),_:1}),y(v(L),null,{default:f(function(){return[I("p",vt,R(It.value.body),1),I("div",mt,[(et(!0),j(F,null,V(It.value.reaction_counts,function(t,e){return et(),p(v(A),{key:e,fill:"clear",size:"small",onClick:function(t){return Qt(e)},color:$t.value===e?"primary":"medium",disabled:Ct.value},{default:f(function(){return[Ct.value&&$t.value===e?(et(),p(v(E),{key:0,name:"dots",slot:"start"})):(et(),p(v(z),{key:1,icon:Bt(e),slot:"start"},null,8,["icon"])),O(" "+R(t),1)]}),_:2},1032,["onClick","color","disabled"])}),128)),y(v(A),{fill:"clear",size:"small",onClick:e[0]||(e[0]=function(t){return Ut.value=!0}),disabled:Ct.value},{default:f(function(){return[y(v(z),{icon:v($),slot:"icon-only"},null,8,["icon"])]}),_:1},8,["disabled"])])]}),_:1})]}),_:1}),I("div",bt,[y(v(B),null,{default:f(function(){return[y(v(J),null,{default:f(function(){return[y(v(M),null,{default:f(function(){return[O("Comments ("+R(It.value.comments_count)+")",1)]}),_:1})]}),_:1}),(et(!0),j(F,null,V(At.value,function(t){return et(),p(v(Z),{key:t.id,class:"comment-item"},{default:f(function(){return[y(v(nt),{slot:"start",style:{"margin-left":"20px"}},{default:f(function(){return[I("img",{src:t.avatar||"/assets/img/default-avatar.svg"},null,8,gt)]}),_:2},1024),y(v(M),null,{default:f(function(){return[I("h3",null,R(t.user_name),1),I("p",null,R(t.comment_body),1),I("p",ht,R(Jt(t.created_at)),1)]}),_:2},1024),I("div",yt,[y(v(A),{fill:"clear",size:"small",onClick:function(e){return Wt(t.id,"upvote")},disabled:Nt.value},{default:f(function(){return[y(v(z),{icon:v(ot),color:"upvote"===t.user_vote?"primary":"medium"},null,8,["icon","color"]),I("span",_t,R(t.upvotes_count),1)]}),_:2},1032,["onClick","disabled"]),y(v(A),{fill:"clear",size:"small",onClick:function(e){return Wt(t.id,"downvote")},disabled:Nt.value},{default:f(function(){return[y(v(z),{icon:v(rt),color:"downvote"===t.user_vote?"danger":"medium"},null,8,["icon","color"]),I("span",xt,R(t.downvotes_count),1)]}),_:2},1032,["onClick","disabled"])]),t.user_id===Ft.value?(et(),p(v(A),{key:0,fill:"clear",color:"danger",onClick:function(e){return Ht(t.id)},disabled:Rt.value===t.id},{default:f(function(){return[Rt.value===t.id?(et(),p(v(E),{key:0,name:"dots",slot:"icon-only"})):(et(),p(v(z),{key:1,icon:v(at),slot:"icon-only"},null,8,["icon"]))]}),_:2},1032,["onClick","disabled"])):P("",!0)]}),_:2},1024)}),128)),y(v(Y),{onIonInfinite:qt,threshold:"100px",disabled:!Dt.value},{default:f(function(){return[y(v(q),{"loading-spinner":"bubbles","loading-text":"Loading more comments..."})]}),_:1},8,["disabled"])]}),_:1})]),I("div",kt,[y(v(Z),null,{default:f(function(){return[y(v(H),{modelValue:Gt.value,"onUpdate:modelValue":e[1]||(e[1]=function(t){return Gt.value=t}),placeholder:"Add a comment...","auto-grow":""},null,8,["modelValue"]),y(v(A),{slot:"end",fill:"clear",disabled:!Gt.value.trim(),onClick:Zt},{default:f(function(){return[zt.value?(et(),p(v(E),{key:0,slot:"start",name:"dots"})):P("",!0),y(v(z),{icon:v(Q),color:"primary"},null,8,["icon"])]}),_:1},8,["disabled"])]}),_:1})])])):P("",!0),y(v(W),{"is-open":Ut.value,onDidDismiss:e[2]||(e[2]=function(t){return Ut.value=!1})},{default:f(function(){return[y(v(X),null,{default:f(function(){return[y(v(K),null,{default:f(function(){return[y(v(tt),null,{default:f(function(){return[(et(),j(F,null,V(Vt,function(t){return y(v(it),{key:t,size:"auto",onClick:function(e){return Xt(t)}},{default:f(function(){return[y(v(A),{fill:"clear"},{default:f(function(){return[y(v(z),{icon:Bt(t),size:"large"},null,8,["icon"])]}),_:2},1024)]}),_:2},1032,["onClick"])}),64))]}),_:1})]}),_:1})]}),_:1})]}),_:1},8,["is-open"])]}),_:1})]}),_:1})}}});t("default",lt(wt,[["__scopeId","data-v-7b18e8a8"]]))}}})}();
