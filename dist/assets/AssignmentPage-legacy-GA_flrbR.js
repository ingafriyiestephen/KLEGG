!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function c(n,r,o,i){var c=r&&r.prototype instanceof l?r:l,s=Object.create(c.prototype);return a(s,"_invoke",function(n,a,r){var o,i,c,l=0,s=r||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,i=0,c=e,f.n=n,u}};function m(n,a){for(i=n,c=a,t=0;!d&&l&&!r&&t<s.length;t++){var r,o=s[t],m=f.p,p=o[2];n>3?(r=p===a)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((r=n<2&&m<o[1])?(i=0,f.v=a,f.n=o[1]):m<p&&(r=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,f.n=p,i=0))}if(r||n>1)return u;throw d=!0,a}return function(r,s,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),i=s,c=p;(t=i<2?e:c)||!d;){o||(i?i<3?(i>1&&(f.n=-1),m(i,c)):f.n=c:f.v=c);try{if(l=2,o){if(i||(r="next"),t=o[r]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=e}else if((t=(d=f.n<0)?c:n.call(a,f))!==u)break}catch(t){o=e,i=1,c=t}finally{l=1}}return{value:t,done:d}}}(n,o,i),!0),s}var u={};function l(){}function s(){}function d(){}t=Object.getPrototypeOf;var f=[][o]?t(t([][o]())):(a(t={},o,function(){return this}),t),m=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=d,a(m,"constructor",d),a(d,"constructor",s),s.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(m),a(m,i,"Generator"),a(m,o,function(){return this}),a(m,"toString",function(){return"[object Generator]"}),(n=function(){return{w:c,m:p}})()}function a(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,n,r){function i(t,n){a(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},a(e,t,n,r)}function r(e,t,n,a,r,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(a,r)}System.register(["./index-legacy-C3op4-Ni.js","./index-legacy-EE099LYJ.js"],function(t,a){"use strict";var o,i,c,u,l,s,d,f,m,p,g,v,y,h,b,x,_,w,k,S,C,j,T,A,O,z,D,P,E,I,G,N,F,M,B,$,U,J,L,R,q,K,V,H,W,Y,Z,Q,X,ee,te,ne,ae,re,oe,ie;return{setters:[function(e){o=e.d,i=e.ar,c=e.r,u=e.S,l=e.a,s=e.o,d=e.b,f=e.w,m=e.u,p=e.I,g=e.e,v=e.f,y=e.g,h=e.h,b=e.i,x=e.P,_=e.l,w=e.A,k=e.q,S=e.k,C=e.s,j=e.a9,T=e.a3,A=e.t,O=e.x,z=e.C,D=e.n,P=e.G,E=e.aG,I=e.v,G=e.az,N=e.m,F=e.a2,M=e.a4,B=e.T,$=e.U,U=e.M,J=e.N,L=e.av,R=e.a7,q=e.$,K=e.K,V=e.as,H=e.J,W=e.aF,Y=e.aH,Z=e.aA,Q=e.aB,X=e.am,ee=e.aI,te=e.aJ,ne=e.aK,ae=e.aL,re=e.aM,oe=e._},function(e){ie=e.T}],execute:function(){var a=document.createElement("style");a.textContent=".header-section[data-v-9dcc013e]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-secondary) 100%);color:#fff;padding-bottom:16px}.header-section .title[data-v-9dcc013e]{display:block;font-size:1.5rem;font-weight:600;color:#fff;margin-bottom:16px}.summary-cards[data-v-9dcc013e]{display:flex;gap:16px;margin-top:8px}.summary-card[data-v-9dcc013e]{flex:1;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1);margin:0}.summary-card.open[data-v-9dcc013e]{--background: rgba(var(--ion-color-success-rgb), .1)}.summary-card.closed[data-v-9dcc013e]{--background: rgba(var(--ion-color-warning-rgb), .1)}.summary-content[data-v-9dcc013e]{display:flex;align-items:center;gap:12px}.summary-icon[data-v-9dcc013e]{font-size:32px}.summary-card.open .summary-icon[data-v-9dcc013e]{color:var(--ion-color-success)}.summary-card.closed .summary-icon[data-v-9dcc013e]{color:var(--ion-color-warning)}.summary-count[data-v-9dcc013e]{font-size:1.5rem;font-weight:700;display:block;line-height:1.2;color:var(--ion-color-light)}.summary-label[data-v-9dcc013e]{font-size:.875rem;opacity:.8;display:block;color:var(--ion-color-light)}.theme-text-nine[data-v-9dcc013e],.theme-text-eight[data-v-9dcc013e]{opacity:.9;color:var(--ion-text-color)}.loading-container[data-v-9dcc013e]{display:flex;justify-content:center;align-items:center;height:200px}.empty-state[data-v-9dcc013e],.error-state[data-v-9dcc013e]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:60vh;padding:20px}.empty-state ion-icon[data-v-9dcc013e],.error-state ion-icon[data-v-9dcc013e]{font-size:64px;margin-bottom:16px}.empty-state h3[data-v-9dcc013e],.error-state h3[data-v-9dcc013e]{font-size:1.2rem;font-weight:500;margin-bottom:8px;color:var(--ion-color-dark)}.empty-state p[data-v-9dcc013e],.error-state p[data-v-9dcc013e]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:16px}.status-indicator[data-v-9dcc013e]{width:4px;height:100%;border-radius:4px;position:absolute;left:0}.assignment-item[data-v-9dcc013e]{--padding-start: 12px;--inner-padding-end: 12px;--background: var(--ion-item-background, var(--ion-background-color, #fff));margin-bottom:8px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08)}.assignment-content[data-v-9dcc013e]{margin-left:12px}.assignment-header[data-v-9dcc013e]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.assignment-title[data-v-9dcc013e]{font-weight:600;font-size:1rem;flex:1;margin-right:8px}.assignment-meta[data-v-9dcc013e]{font-size:.8rem;color:var(--ion-color-medium);margin-bottom:8px}.assignment-meta ion-icon[data-v-9dcc013e]{margin-right:4px;vertical-align:middle}.assignment-notes[data-v-9dcc013e]{font-size:.875rem;color:var(--ion-color-medium);margin-bottom:12px;line-height:1.5}.assignment-footer[data-v-9dcc013e]{display:flex;justify-content:space-between;align-items:center;padding-top:8px;border-top:1px solid var(--ion-color-light)}.due-date[data-v-9dcc013e]{font-size:.8rem;color:var(--ion-color-medium)}.due-date ion-icon[data-v-9dcc013e]{margin-right:4px;vertical-align:middle}@media (min-width: 768px){.summary-cards[data-v-9dcc013e]{gap:24px}.assignment-item[data-v-9dcc013e]{margin:0 auto 12px;max-width:800px}}\n/*$vite$:1*/",document.head.appendChild(a);var ce={class:"header-section ion-padding"},ue={class:"summary-cards"},le={class:"summary-content"},se={class:"summary-content"},de={key:0,class:"loading-container"},fe={key:1,class:"empty-state"},me={key:2,class:"error-state"},pe={key:3},ge={class:"assignment-header"},ve={class:"assignment-meta theme-text-eight"},ye={key:0,class:"assignment-notes"},he={class:"assignment-footer"},be=o({__name:"AssignmentPage",setup:function(t){var a=localStorage.getItem("parisklegg_token")||"",o=localStorage.getItem("parisklegg_user"),oe=o?JSON.parse(o):null;null==oe||oe.user_id;var be=i(),xe=v(),_e=Number(be.params.id),we=c(""),ke=c(!0),Se=c(!1),Ce=c(!1),je=c([]),Te=c(0),Ae=c(0),Oe=function(e){var t=new Date,n=new Date(e.submission_date),a=n.getTime()-t.getTime(),r=Math.ceil(a/864e5);return t>n?"closed":r<=1?"dueSoon":r<=3?"upcoming":"open"},ze=function(e){switch(Oe(e)){case"closed":case"dueSoon":return"var(--ion-color-warning)";case"upcoming":return"var(--ion-color-primary)";default:return"var(--ion-color-success)"}},De=function(e){switch(Oe(e)){case"closed":case"dueSoon":return"warning";case"open":default:return"success";case"upcoming":return"primary"}},Pe=function(e){switch(Oe(e)){case"closed":case"open":return re;case"dueSoon":return ae;case"upcoming":return ne;default:return te}},Ee=function(e){var t=new Date,n=new Date(e.submission_date),a=n.getTime()-t.getTime(),r=Math.ceil(a/864e5);return t>n?"Closed":r<=1?"Due Soon":r<=3?"Due in ".concat(r," days"):"Open"},Ie=function(e){var t=new Date(e),n=new Date(t);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).format(n)},Ge=function(){var e,t=(e=n().m(function e(){var t,a;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,ke.value=!0,Se.value=!1,je.value=[],Te.value=0,Ae.value=0,e.n=1,g.post("https://klegg-app-whh7m.ondigitalocean.app/api/assignment",{tutorship_id:_e},{headers:Ne(),timeout:2e4});case 1:(t=e.v).data.length>0&&(Ce.value=!0,we.value=t.data[0].tutorship_name||"My Assignments",je.value=t.data.sort(function(e,t){return new Date(e.submission_date).getTime()-new Date(t.submission_date).getTime()}),je.value.forEach(function(e){"closed"===Oe(e)?Te.value++:Ae.value++})),e.n=3;break;case 2:e.p=2,a=e.v,Fe(a),Se.value=!0;case 3:return e.p=3,ke.value=!1,e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}),function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,u,"next",e)}function u(e){r(i,a,o,c,u,"throw",e)}c(void 0)})});return function(){return t.apply(this,arguments)}}(),Ne=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(a)}},Fe=function(e){if(console.error("Error fetching data:",e),g.isAxiosError(e)){var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status))return xe.replace("/"),void ie.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===e.code)return void ie.show({text:"Request timeout. Please try again",position:"top"})}ie.show({text:"Failed to load data. Please try again later",position:"top"})};return u.setOverlaysWebView({overlay:!1}),u.setBackgroundColor({color:"#ffffff"}),u.setStyle({style:l.Light}),s(function(){Ge()}),function(t,n){return J(),d(m(p),null,{default:f(function(){return[y(m(k),null,{default:f(function(){return[y(m(h),null,{default:f(function(){return[y(m(b),{slot:"start"},{default:f(function(){return[y(m(x),{"default-href":"/"})]}),_:1}),y(m(_),null,{default:f(function(){return e(n[1]||(n[1]=[w("Assignments",-1)]))}),_:1})]}),_:1})]}),_:1}),y(m(U),{fullscreen:!0},{default:f(function(){return[S("div",ce,[we.value?(J(),d(m(T),{key:0,class:"title"},{default:f(function(){return[w(A(we.value),1)]}),_:1})):j("",!0),S("div",ue,[y(m(O),{class:"summary-card open"},{default:f(function(){return[y(m(z),null,{default:f(function(){return[S("div",le,[y(m(D),{icon:m(P),class:"summary-icon"},null,8,["icon"]),S("div",null,[y(m(T),{class:"summary-count"},{default:f(function(){return[w(A(Ae.value),1)]}),_:1}),y(m(T),{class:"summary-label"},{default:f(function(){return e(n[2]||(n[2]=[w("Open",-1)]))}),_:1})])])]}),_:1})]}),_:1}),y(m(O),{class:"summary-card closed"},{default:f(function(){return[y(m(z),null,{default:f(function(){return[S("div",se,[y(m(D),{icon:m(E),class:"summary-icon"},null,8,["icon"]),S("div",null,[y(m(T),{class:"summary-count"},{default:f(function(){return[w(A(Te.value),1)]}),_:1}),y(m(T),{class:"summary-label"},{default:f(function(){return e(n[3]||(n[3]=[w("Closed",-1)]))}),_:1})])])]}),_:1})]}),_:1})])]),ke.value?(J(),C("div",de,[y(m(I),{name:"crescent",color:"primary"})])):Ce.value||Se.value?Se.value?(J(),C("div",me,[y(m(D),{icon:m(F),color:"warning"},null,8,["icon"]),y(m(T),null,{default:f(function(){return e(n[6]||(n[6]=[S("h3",null,"Error Loading Assignments",-1),S("p",null,"Please try again later",-1)]))}),_:1}),y(m(N),{fill:"clear",onClick:Ge},{default:f(function(){return e(n[7]||(n[7]=[w("Retry",-1)]))}),_:1})])):(J(),C("div",pe,[y(m(M),{lines:"none"},{default:f(function(){return[(J(!0),C(B,null,$(je.value,function(e,t){return J(),d(m(L),{key:t},{default:f(function(){return[y(m(R),{class:"assignment-item",detail:!1},{default:f(function(){return[S("div",{slot:"start",class:"status-indicator",style:q({backgroundColor:ze(e)})},null,4),y(m(K),{class:"assignment-content"},{default:f(function(){return[S("div",ge,[y(m(T),{class:"assignment-title"},{default:f(function(){return[w(A(e.assignment_name),1)]}),_:2},1024),y(m(V),{color:De(e)},{default:f(function(){return[y(m(D),{icon:Pe(e),slot:"start"},null,8,["icon"]),w(" "+A(Ee(e)),1)]}),_:2},1032,["color"])]),S("div",ve,[y(m(T),{class:"assignment-date"},{default:f(function(){return[y(m(D),{icon:m(H)},null,8,["icon"]),w(" Posted: "+A(Ie(e.created_at)),1)]}),_:2},1024)]),e.additional_note?(J(),C("div",ye,[y(m(T),{class:"theme-text-nine"},{default:f(function(){return[w(A(e.additional_note),1)]}),_:2},1024)])):j("",!0),S("div",he,[y(m(T),{class:"due-date"},{default:f(function(){return[y(m(D),{icon:m(W)},null,8,["icon"]),w(" Due: "+A(Ie(e.submission_date)),1)]}),_:2},1024),e.assignment_file?(J(),d(m(N),{key:0,fill:"clear",size:"small",onClick:function(t){return n=e.assignment_file,void window.open("https://klegg-app-whh7m.ondigitalocean.app/files/".concat(n),"_blank");var n}},{default:f(function(){return[y(m(D),{slot:"start",icon:m(Y)},null,8,["icon"]),n[8]||(n[8]=w(" Download ",-1))]}),_:1},8,["onClick"])):j("",!0)])]}),_:2},1024)]}),_:2},1024),y(m(Z),{side:"end"},{default:f(function(){return[y(m(Q),{color:"tertiary",onClick:function(t){return function(e){console.log("Sharing assignment:",e)}(e)}},{default:f(function(){return[y(m(D),{slot:"icon-only",icon:m(X)},null,8,["icon"])]}),_:1},8,["onClick"]),y(m(Q),{color:"primary",onClick:function(t){return function(e){console.log("Viewing submission for:",e)}(e)}},{default:f(function(){return[y(m(D),{slot:"icon-only",icon:m(ee)},null,8,["icon"])]}),_:1},8,["onClick"])]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})])):(J(),C("div",fe,[y(m(D),{icon:m(G),color:"medium"},null,8,["icon"]),y(m(T),null,{default:f(function(){return e(n[4]||(n[4]=[S("h3",null,"No Assignments",-1),S("p",null,"Your assignments will appear here when created by your teacher",-1)]))}),_:1}),y(m(N),{fill:"clear",onClick:n[0]||(n[0]=function(e){return t.$router.back()})},{default:f(function(){return e(n[5]||(n[5]=[w("Back to Classes",-1)]))}),_:1})]))]}),_:1})]}),_:1})}}});t("default",oe(be,[["__scopeId","data-v-9dcc013e"]]))}}})}();
