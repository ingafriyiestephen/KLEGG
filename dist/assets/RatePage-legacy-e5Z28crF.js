System.register(["./index-legacy-LZepmReL.js"],function(e,a){"use strict";var t,l,n,o,r,i,s,d,u,c,f,p,m,v,g,x,h,b,y,_,k,w,z,C,S,V,A,P,T,j,D,E,I,R,W,Y,B,F,G,M;return{setters:[e=>{t=e.d,l=e.ao,n=e.r,o=e.c,r=e.o,i=e.S,s=e.a,d=e.b,u=e.w,c=e.u,f=e.I,p=e.g,m=e.h,v=e.i,g=e.P,x=e.l,h=e.A,b=e.q,y=e.x,_=e.y,k=e.z,w=e.aN,z=e.C,C=e.k,S=e.s,V=e.U,A=e.T,P=e.a3,T=e.t,j=e.a7,D=e.aQ,E=e.m,I=e.v,R=e.M,W=e.aY,Y=e.e,B=e.N,F=e.n,G=e.W,M=e._}],execute:function(){var a=document.createElement("style");a.textContent=".course-header[data-v-8e4e2dfe]{text-align:center;margin-bottom:24px;padding:0 16px}.course-title[data-v-8e4e2dfe]{font-size:1.5rem;font-weight:600;margin:8px 0}.course-code[data-v-8e4e2dfe]{font-size:.9rem;margin-bottom:4px}.instructor[data-v-8e4e2dfe]{font-size:1rem;margin-top:4px}.rating-card[data-v-8e4e2dfe]{border-radius:16px;box-shadow:0 4px 16px rgba(0,0,0,.1);margin:0}.stars-container[data-v-8e4e2dfe]{display:flex;flex-direction:column;align-items:center;margin:24px 0}.stars[data-v-8e4e2dfe]{display:flex;gap:12px;margin-bottom:8px}.star-icon[data-v-8e4e2dfe]{cursor:pointer;transition:transform .2s ease}.star-icon[data-v-8e4e2dfe]:hover{transform:scale(1.2)}.rating-hint[data-v-8e4e2dfe]{text-align:center;font-size:.9rem;margin:0}.feedback-item[data-v-8e4e2dfe]{--background: transparent;--padding-start: 0;--inner-padding-end: 0;margin:24px 0}.submit-button[data-v-8e4e2dfe]{margin-top:16px;--border-radius: 12px;height:48px;font-weight:600}@media (max-width: 576px){.stars[data-v-8e4e2dfe]{gap:8px}.star-icon[data-v-8e4e2dfe]{font-size:32px}.course-title[data-v-8e4e2dfe]{font-size:1.3rem}}\n",document.head.appendChild(a);const N={class:"stars-container"},U={class:"stars"},$={key:0,class:"rating-hint"},q={key:1,class:"rating-hint"},H={key:1};e("default",M(t({__name:"RatePage",setup(e){const a=localStorage.getItem("parisklegg_token")||"",t=l().params.id||1;n("Advanced Mathematics"),n("Dr. Sarah Johnson");const M=n(0),J=n(""),L=n(!1),O=n(""),Q=n(!1),K=["Poor","Fair","Good","Very Good","Excellent"],X=o(()=>K[M.value-1]),Z=async()=>{try{L.value=!0,await Y.post(`https://school.klgilc.com/api/courses/${t}/ratings`,{rating:M.value,comment:J.value},{headers:ae(),timeout:2e4}),O.value="Thank you for your feedback!",Q.value=!0,ee()}catch(e){O.value="Failed to submit rating. Please try again.",Q.value=!0,console.error(e)}finally{L.value=!1}},ee=()=>{M.value=0,J.value=""},ae=()=>({"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${a}`});return r(()=>{i.setOverlaysWebView({overlay:!1}),i.setBackgroundColor({color:"#ffffff"}),i.setStyle({style:s.Light})}),(e,a)=>(B(),d(c(f),null,{default:u(()=>[p(c(b),null,{default:u(()=>[p(c(m),{color:"primary"},{default:u(()=>[p(c(v),{slot:"start"},{default:u(()=>[p(c(g),{"default-href":"/courses"})]),_:1}),p(c(x),null,{default:u(()=>a[2]||(a[2]=[h("Course Rating",-1)])),_:1,__:[2]})]),_:1})]),_:1}),p(c(R),{class:"ion-padding",fullscreen:!0},{default:u(()=>[p(c(y),{class:"rating-card"},{default:u(()=>[p(c(_),null,{default:u(()=>[p(c(k),null,{default:u(()=>a[3]||(a[3]=[h("Share Your Experience",-1)])),_:1,__:[3]}),p(c(w),null,{default:u(()=>a[4]||(a[4]=[h("How would you rate this course?",-1)])),_:1,__:[4]})]),_:1}),p(c(z),null,{default:u(()=>[C("div",N,[C("div",U,[(B(),S(A,null,V(5,e=>p(c(F),{key:e,icon:e<=M.value?e:c(G),color:e<=M.value?"warning":"medium",size:"large",onClick:a=>{return t=e,void(M.value=t);var t},class:"star-icon"},null,8,["icon","color","onClick"])),64))]),p(c(P),{color:"medium"},{default:u(()=>[0===M.value?(B(),S("p",$,"Tap to rate")):(B(),S("p",q,T(X.value),1))]),_:1})]),p(c(j),{class:"feedback-item",lines:"none"},{default:u(()=>[p(c(D),{label:"Your feedback (optional)","label-placement":"floating",placeholder:"What did you like or think could be improved?",modelValue:J.value,"onUpdate:modelValue":a[0]||(a[0]=e=>J.value=e),counter:!0,disabled:L.value},null,8,["modelValue","disabled"])]),_:1}),p(c(E),{expand:"block",shape:"round",disabled:0===M.value||L.value,onClick:Z,class:"submit-button"},{default:u(()=>[L.value?(B(),d(c(I),{key:0,name:"crescent"})):(B(),S("span",H,"Submit Rating"))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),p(c(W),{"is-open":Q.value,message:O.value,duration:2e3,onDidDismiss:a[1]||(a[1]=e=>Q.value=!1),position:"top"},null,8,["is-open","message"])]),_:1}))}}),[["__scopeId","data-v-8e4e2dfe"]]))}}});
