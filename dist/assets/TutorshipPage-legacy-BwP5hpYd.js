!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,r,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function c(e,a,n,i){var c=a&&a.prototype instanceof s?a:s,d=Object.create(c.prototype);return o(d,"_invoke",function(e,o,a){var n,i,c,s=0,d=a||[],u=!1,b={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,o){return n=e,i=0,c=t,b.n=o,l}};function p(e,o){for(i=e,c=o,r=0;!u&&s&&!a&&r<d.length;r++){var a,n=d[r],p=b.p,v=n[2];e>3?(a=v===o)&&(c=n[(i=n[4])?5:(i=3,3)],n[4]=n[5]=t):n[0]<=p&&((a=e<2&&p<n[1])?(i=0,b.v=o,b.n=n[1]):p<v&&(a=e<3||n[0]>o||o>v)&&(n[4]=e,n[5]=o,b.n=v,i=0))}if(a||e>1)return l;throw u=!0,o}return function(a,d,v){if(s>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,v),i=d,c=v;(r=i<2?t:c)||!u;){n||(i?i<3?(i>1&&(b.n=-1),p(i,c)):b.n=c:b.v=c);try{if(s=2,n){if(i||(a="next"),r=n[a]){if(!(r=r.call(n,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,i<2&&(i=0)}else 1===i&&(r=n.return)&&r.call(n),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);n=t}else if((r=(u=b.n<0)?c:e.call(o,b))!==l)break}catch(r){n=t,i=1,c=r}finally{s=1}}return{value:r,done:u}}}(e,n,i),!0),d}var l={};function s(){}function d(){}function u(){}r=Object.getPrototypeOf;var b=[][n]?r(r([][n]())):(o(r={},n,function(){return this}),r),p=u.prototype=s.prototype=Object.create(b);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,o(t,i,"GeneratorFunction")),t.prototype=Object.create(p),t}return d.prototype=u,o(p,"constructor",u),o(u,"constructor",d),d.displayName="GeneratorFunction",o(u,i,"GeneratorFunction"),o(p),o(p,i,"Generator"),o(p,n,function(){return this}),o(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:c,m:v}})()}function o(t,e,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}o=function(t,e,r,a){function i(e,r){o(t,e,function(t){return this._invoke(e,r,t)})}e?n?n(t,e,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[e]=r:(i("next",0),i("throw",1),i("return",2))},o(t,e,r,a)}function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach(function(e){n(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function n(e,o,r){return(o=function(e){var o=function(e,o){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,o||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==t(o)?o:o+""}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}function i(t,e,o,r,a,n,i){try{var c=t[n](i),l=c.value}catch(t){return void o(t)}c.done?e(l):Promise.resolve(l).then(r,a)}function c(t){return function(){var e=this,o=arguments;return new Promise(function(r,a){var n=t.apply(e,o);function c(t){i(n,r,a,c,l,"next",t)}function l(t){i(n,r,a,c,l,"throw",t)}c(void 0)})}}System.register(["./index-legacy-UPaEcoFv.js","./index-legacy-ZvApCsva.js"],function(t,o){"use strict";var r,n,i,l,s,d,u,b,p,v,f,g,m,x,h,y,w,k,j,_,O,P,S,C,z,E,T,N,Y,A,I,F,D,G,q,R,U,B,W,J,L;return{setters:[function(t){r=t.d,n=t.r,i=t.S,l=t.a,s=t.O,d=t.o,u=t.b,b=t.w,p=t.u,v=t.I,f=t.e,g=t.f,m=t.g,x=t.h,h=t.i,y=t.P,w=t.l,k=t.A,j=t.m,_=t.n,O=t.Q,P=t.q,S=t.s,C=t.k,z=t.R,E=t.T,T=t.U,N=t.M,Y=t.N,A=t.t,I=t.V,F=t.W,D=t.X,G=t.J,q=t.Y,R=t.Z,U=t.$,B=t.a0,W=t.a1,J=t._},function(t){L=t.T}],execute:function(){var o=document.createElement("style");o.textContent='.modern-school-theme[data-v-1e851b33]{--ion-font-family: "Segoe UI", system-ui, -apple-system, sans-serif;--math-color: #ff6b6b;--science-color: #4ecdc4;--english-color: #ff9ff3;--history-color: #feca57;--default-color: #8395a7}.floating-header[data-v-1e851b33]{position:fixed;top:0;left:0;right:0;display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:var(--ion-card-background);box-shadow:0 2px 15px rgba(0,0,0,.08);z-index:10;border-bottom:1px solid var(--ion-border-color)}.header-title[data-v-1e851b33]{font-size:1.4rem;font-weight:700;color:var(--ion-text-color);margin:0}.back-btn[data-v-1e851b33]{--color: var(--ion-text-color);--icon-font-size: 1.4rem}.refresh-btn[data-v-1e851b33]{--color: var(--ion-text-color)}.loading-container[data-v-1e851b33]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:60vh;text-align:center;background:var(--ion-background-color)}.loading-container ion-spinner[data-v-1e851b33]{width:48px;height:48px;margin-bottom:16px;color:var(--ion-color-primary)}.loading-container p[data-v-1e851b33]{color:var(--ion-color-medium);margin-top:8px}@keyframes pageFlip-1e851b33{0%,to{transform:rotateY(0)}50%{transform:rotateY(-20deg)}}.creative-empty-state[data-v-1e851b33]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:70vh;padding:20px;text-align:center;background:var(--ion-background-color)}.desk-illustration[data-v-1e851b33]{width:200px;height:150px;position:relative;margin-bottom:30px}.desk[data-v-1e851b33]{position:absolute;bottom:0;width:180px;height:10px;background:#a55c40;border-radius:4px}.lamp[data-v-1e851b33]{position:absolute;top:0;left:50%;transform:translate(-50%);width:60px;height:80px;background:var(--ion-color-step-200);border-radius:30px 30px 0 0}.lamp[data-v-1e851b33]:after{content:"";position:absolute;bottom:-10px;left:0;width:100%;height:20px;background:var(--ion-color-primary);border-radius:0 0 10px 10px}.book-stack[data-v-1e851b33]{position:absolute;bottom:15px;left:50%;transform:translate(-50%);width:120px}.book-stack .book[data-v-1e851b33]{position:absolute;height:8px;background:var(--ion-color-step-100);border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,.1)}.book-stack .book[data-v-1e851b33]:nth-child(1){width:100px;bottom:0;left:0;background:var(--english-color)}.book-stack .book[data-v-1e851b33]:nth-child(2){width:110px;bottom:10px;left:5px;background:var(--history-color)}.book-stack .book[data-v-1e851b33]:nth-child(3){width:90px;bottom:20px;left:15px;background:var(--science-color)}.creative-empty-state h3[data-v-1e851b33]{font-size:1.3rem;color:var(--ion-text-color);margin-bottom:8px}.creative-empty-state p[data-v-1e851b33]{color:var(--ion-color-medium);margin-bottom:25px}.cta-button[data-v-1e851b33]{--background: var(--ion-color-primary);--background-activated: var(--ion-color-primary-shade);--color: var(--ion-color-primary-contrast);font-weight:500;padding:0 25px}.class-grid[data-v-1e851b33]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;padding:20px;background:var(--ion-background-color)}.class-card[data-v-1e851b33]{background:var(--ion-card-background);border-radius:12px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,.05);transition:transform .2s ease,box-shadow .2s ease;cursor:pointer;border:1px solid var(--ion-border-color)}.class-card[data-v-1e851b33]:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.1)}.math-card[data-v-1e851b33]{border-top:4px solid var(--math-color)}.science-card[data-v-1e851b33]{border-top:4px solid var(--science-color)}.english-card[data-v-1e851b33]{border-top:4px solid var(--english-color)}.history-card[data-v-1e851b33]{border-top:4px solid var(--history-color)}.default-card[data-v-1e851b33]{border-top:4px solid var(--default-color)}.card-header[data-v-1e851b33]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:15px}.subject-badge[data-v-1e851b33]{width:40px;height:40px;background:var(--ion-color-step-100);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.class-meta[data-v-1e851b33]{display:flex;gap:12px}.student-count[data-v-1e851b33],.rating[data-v-1e851b33]{display:flex;align-items:center;gap:4px;font-size:.85rem;color:var(--ion-color-medium)}ion-icon[data-v-1e851b33]{font-size:16px;color:var(--ion-color-medium)}.class-title[data-v-1e851b33]{font-size:1.2rem;font-weight:700;color:var(--ion-text-color);margin:0 0 5px}.subject-name[data-v-1e851b33]{font-size:.9rem;color:var(--ion-color-medium);margin:0 0 20px}.progress-bar[data-v-1e851b33]{height:6px;background:var(--ion-color-step-100);border-radius:3px;margin-bottom:15px;overflow:hidden}.card-footer[data-v-1e851b33]{display:flex;justify-content:space-between;align-items:center}.completion-text[data-v-1e851b33]{font-size:.8rem;color:var(--ion-color-medium);font-weight:500}.arrow-icon[data-v-1e851b33]{color:var(--ion-color-medium);font-size:1.2rem}.class-card[data-v-1e851b33]{position:relative;background:var(--ion-card-background);border-radius:16px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,.08);overflow:hidden;transition:all .3s ease;cursor:pointer;border:1px solid var(--ion-border-color)}.class-card[data-v-1e851b33]:hover{transform:translateY(-5px);box-shadow:0 8px 24px rgba(0,0,0,.12)}.action-ribbon.two-row[data-v-1e851b33]{height:0;overflow:hidden;transition:height .3s ease;background:var(--ion-color-step-50);border-radius:8px;display:flex;flex-direction:column;gap:8px}.action-ribbon.two-row.active[data-v-1e851b33]{height:120px;padding:8px 0;opacity:1}.ribbon-row[data-v-1e851b33]{display:flex;justify-content:space-around;width:100%;flex:1}.ribbon-button[data-v-1e851b33]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:6px 4px;margin:0 4px;min-width:0;background:transparent;border:none;color:var(--ion-color-medium);opacity:0;transform:translateY(10px);transition:all .3s calc(var(--delay) * .1s)}.action-ribbon.two-row.active .ribbon-button[data-v-1e851b33]{opacity:1;transform:translateY(0)}.quick-action[data-v-1e851b33]{position:absolute;top:15px;right:15px;background:rgba(var(--ion-color-warning-rgb),.1);color:var(--ion-color-warning);padding:6px 10px;border-radius:16px;font-size:.8rem;display:flex;align-items:center;gap:4px;z-index:2}.progress-container[data-v-1e851b33]{display:flex;align-items:center;gap:10px;margin-top:15px}.progress-bar[data-v-1e851b33]{flex-grow:1;height:6px;background:rgba(var(--ion-color-primary-rgb),.1);border-radius:3px;overflow:hidden}.progress-fill[data-v-1e851b33]{height:100%;background:var(--ion-color-primary);border-radius:3px;transition:width .5s ease}.subject-badge[data-v-1e851b33]{width:40px;height:40px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:#fff}.math-badge[data-v-1e851b33]{background:linear-gradient(135deg,var(--math-color),#ff8e8e)}.science-badge[data-v-1e851b33]{background:linear-gradient(135deg,var(--science-color),#88f3ed)}.english-badge[data-v-1e851b33]{background:linear-gradient(135deg,var(--english-color),#fd79a8)}.history-badge[data-v-1e851b33]{background:linear-gradient(135deg,var(--history-color),#ff9f43)}.action-ribbon.two-row[data-v-1e851b33]{height:0;overflow:hidden;transition:height .3s ease;background:var(--ion-color-step-50);border-radius:8px}.action-ribbon.two-row.active[data-v-1e851b33]{height:120px;padding:8px 0}.ribbon-row[data-v-1e851b33]{display:flex;justify-content:space-around;width:100%}.ribbon-button[data-v-1e851b33]{flex:1;display:flex;flex-direction:column;align-items:center;padding:6px 4px;margin:0 4px;min-width:0}.ribbon-button ion-icon[data-v-1e851b33]{font-size:1.2rem;margin-bottom:4px;color:var(--ion-color-medium)}.ribbon-button span[data-v-1e851b33]{font-size:.7rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;color:var(--ion-color-medium)}.dark .class-card[data-v-1e851b33]{box-shadow:0 4px 12px rgba(0,0,0,.15)}.dark .class-card[data-v-1e851b33]:hover{box-shadow:0 8px 24px rgba(0,0,0,.2)}.dark .floating-header[data-v-1e851b33]{box-shadow:0 2px 15px rgba(0,0,0,.15)}.dark .action-ribbon[data-v-1e851b33],.dark .action-ribbon.two-row[data-v-1e851b33]{background:var(--ion-color-step-150)}@media (max-width: 600px){.class-grid[data-v-1e851b33]{grid-template-columns:1fr;padding:16px;gap:16px}.floating-header[data-v-1e851b33]{padding:12px 15px}.class-card[data-v-1e851b33]{padding:16px}}@media (prefers-contrast: high){.class-card[data-v-1e851b33]{border:2px solid var(--ion-border-color)}.action-ribbon[data-v-1e851b33]{border:1px solid var(--ion-border-color)}}@media (prefers-reduced-motion: reduce){.class-card[data-v-1e851b33]{transition:none}.class-card[data-v-1e851b33]:hover{transform:none}.action-ribbon[data-v-1e851b33]{transition:none}}@supports (padding: max(0px)){.class-grid[data-v-1e851b33],.floating-header[data-v-1e851b33]{padding-left:max(20px,env(safe-area-inset-left));padding-right:max(20px,env(safe-area-inset-right))}}.class-card[data-v-1e851b33]:focus-visible{outline:2px solid var(--ion-color-primary);outline-offset:2px}.ribbon-button[data-v-1e851b33]:focus-visible{outline:2px solid var(--ion-color-primary);outline-offset:2px}@media (hover: hover){.class-card[data-v-1e851b33]:hover{transform:translateY(-5px);box-shadow:0 8px 24px rgba(0,0,0,.12)}.ribbon-button[data-v-1e851b33]:hover{color:var(--ion-color-primary)}.ribbon-button:hover ion-icon[data-v-1e851b33]{color:var(--ion-color-primary)}}@keyframes slideInUp-1e851b33{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.class-card[data-v-1e851b33]{animation:slideInUp-1e851b33 .4s ease-out}.class-card[data-v-1e851b33]:nth-child(odd){animation-delay:.1s}.class-card[data-v-1e851b33]:nth-child(2n){animation-delay:.2s}\n',document.head.appendChild(o);var M={key:0,class:"loading-container"},V={key:1,class:"creative-empty-state"},Q={key:2,class:"class-grid"},X=["onClick"],Z={class:"card-content"},$={class:"card-header"},H={class:"subject-badge"},K=["onClick"],tt={class:"subject-name"},et={class:"ribbon-row top-row"},ot=["onClick"],rt={class:"ribbon-row bottom-row"},at=["onClick"],nt=r({__name:"TutorshipPage",setup:function(t){var o=localStorage.getItem("parisklegg_token")||"",r=localStorage.getItem("parisklegg_user"),J=r?JSON.parse(r):null,nt=(null==J?void 0:J.user_id)||0;console.log(nt);var it=g(),ct=n(null),lt=n(!0),st=n([]),dt=function(){var t=c(e().m(function t(){var o,r;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,lt.value=!0,t.n=1,f.get("https://school.klgilc.com/api/tutorships",{headers:ft(),timeout:2e4});case 1:if(o=t.v,!isNaN(nt)){t.n=2;break}throw new Error("Invalid student ID");case 2:st.value=o.data.filter(function(t){try{var e;return((null===(e=t.students_list)||void 0===e?void 0:e.split(",").map(Number).filter(function(t){return!isNaN(t)}))||[]).includes(nt)}catch(o){return console.warn("Error parsing students_list",t),!1}}).map(function(t){return a(a({},t),{},{rating_score:void 0!==t.average_rating?parseFloat(t.average_rating.toFixed(1)):void 0})}),t.n=4;break;case 3:t.p=3,r=t.v,gt(r);case 4:return t.p=4,lt.value=!1,t.f(4);case 5:return t.a(2)}},t,null,[[0,3,4,5]])}));return function(){return t.apply(this,arguments)}}(),ut=function(){lt.value=!0,dt()},bt=[{id:1,icon:G,label:"Timetable",url:"timetable"},{id:2,icon:q,label:"Attendance",url:"attendance"},{id:3,icon:R,label:"Assignment",url:"assignment"}],pt=[{id:4,icon:B,label:"Assessment",url:"assessment"},{id:5,icon:W,label:"Exam",url:"exam"}],vt=function(t,e){it.push("/".concat(e,"/").concat(t,"/"))},ft=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(o)}},gt=function(t){if(console.error("Error fetching data:",t),f.isAxiosError(t)){var e;if(401===(null===(e=t.response)||void 0===e?void 0:e.status))return it.replace("/"),void L.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===t.code)return void L.show({text:"Request timeout. Please try again",position:"top"})}L.show({text:"Failed to load data. Please try again later",position:"top"})};return i.setOverlaysWebView({overlay:!1}),i.setBackgroundColor({color:"#ffffff"}),i.setStyle({style:l.Light}),s(c(e().m(function t(){return e().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,dt();case 1:return t.a(2)}},t)}))),d(dt),function(t,e){var o=z("ion-spinner");return Y(),u(p(v),{class:"modern-school-theme"},{default:b(function(){return[m(p(P),{class:"header-gradient"},{default:b(function(){return[m(p(x),null,{default:b(function(){return[m(p(h),{slot:"start"},{default:b(function(){return[m(p(y),{"default-href":"/home",class:"back-button"})]}),_:1}),m(p(w),{class:"page-title"},{default:b(function(){return e[0]||(e[0]=[k("My Classes",-1)])}),_:1,__:[0]}),m(p(h),{slot:"end"},{default:b(function(){return[m(p(j),{onClick:ut,fill:"clear",class:"refresh-btn"},{default:b(function(){return[m(p(_),{icon:p(O),slot:"icon-only"},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(p(N),{fullscreen:!0,class:"content-bg"},{default:b(function(){return[lt.value?(Y(),S("div",M,[m(o,{name:"crescent",color:"primary"}),e[1]||(e[1]=C("p",null,"Loading your classes...",-1))])):0===st.value.length?(Y(),S("div",V,[e[3]||(e[3]=C("div",{class:"desk-illustration"},[C("div",{class:"desk"}),C("div",{class:"lamp"}),C("div",{class:"book-stack"},[C("div",{class:"book"}),C("div",{class:"book"}),C("div",{class:"book"})])],-1)),e[4]||(e[4]=C("h3",null,"No Classes Yet",-1)),e[5]||(e[5]=C("p",null,"When you enroll in a class, it'll appear here",-1)),m(p(j),{onClick:ut,fill:"solid",class:"cta-button"},{default:b(function(){return e[2]||(e[2]=[k(" Check Again ",-1)])}),_:1,__:[2]})])):(Y(),S("div",Q,[(Y(!0),S(E,null,T(st.value,function(t){var e;return Y(),S("div",{key:t.tutorship_id,class:"class-card",onClick:function(e){return o=t.tutorship_id,void(ct.value=ct.value===o?null:o);var o}},[C("div",Z,[C("div",$,[C("div",H,A((t.subject_name,"📖")),1),C("div",{class:"quick-action",onClick:I(function(e){return o=t.tutorship_id,void it.push("/rate/".concat(o));var o},["stop"])},[m(p(_),{icon:p(F)},null,8,["icon"]),k(" "+A((null===(e=t.average_rating)||void 0===e?void 0:e.toFixed(1))||"Rate"),1)],8,K)]),C("h3",null,A(t.tutorship_name),1),C("p",tt,A(t.subject_name),1)]),C("div",{class:D(["action-ribbon two-row",{active:ct.value===t.tutorship_id}])},[C("div",et,[(Y(),S(E,null,T(bt,function(e){return C("button",{key:"first-"+e.id,onClick:I(function(o){return vt(t.tutorship_id,e.label)},["stop"]),class:"ribbon-button",style:U({"--delay":e.id})},[m(p(_),{icon:e.icon},null,8,["icon"]),C("span",null,A(e.label),1)],12,ot)}),64))]),C("div",rt,[(Y(),S(E,null,T(pt,function(e){return C("button",{key:"second-"+e.id,onClick:I(function(o){return vt(t.tutorship_id,e.url)},["stop"]),class:"ribbon-button",style:U({"--delay":e.id+bt.length})},[m(p(_),{icon:e.icon},null,8,["icon"]),C("span",null,A(e.label),1)],12,at)}),64))])],2)],8,X)}),128))]))]}),_:1})]}),_:1})}}});t("default",J(nt,[["__scopeId","data-v-1e851b33"]]))}}})}();
