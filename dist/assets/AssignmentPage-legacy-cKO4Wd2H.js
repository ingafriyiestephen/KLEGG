System.register(["./index-legacy-LZepmReL.js","./index-legacy-DduMCVS-.js"],function(e,a){"use strict";var t,n,o,i,s,l,r,c,d,u,m,g,f,p,b,v,y,_,h,x,w,k,C,D,S,z,T,A,j,E,P,I,N,O,$,B,M,F,J,R,U,q,G,L,V,H,K,W,Y,Z,Q,X,ee,ae,te,ne;return{setters:[e=>{t=e.d,n=e.ao,o=e.r,i=e.S,s=e.a,l=e.o,r=e.b,c=e.w,d=e.u,u=e.I,m=e.e,g=e.f,f=e.g,p=e.h,b=e.i,v=e.P,y=e.l,_=e.A,h=e.q,x=e.k,w=e.s,k=e.a9,C=e.a3,D=e.t,S=e.x,z=e.C,T=e.n,A=e.G,j=e.aD,E=e.v,P=e.aw,I=e.m,N=e.a2,O=e.a4,$=e.T,B=e.U,M=e.M,F=e.N,J=e.as,R=e.a7,U=e.$,q=e.K,G=e.ap,L=e.J,V=e.aC,H=e.aE,K=e.ax,W=e.ay,Y=e.aj,Z=e.aF,Q=e.aG,X=e.aH,ee=e.aI,ae=e.aJ,te=e._},e=>{ne=e.T}],execute:function(){var a=document.createElement("style");a.textContent=".header-section[data-v-4bbef26e]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-secondary) 100%);color:#fff;padding-bottom:16px}.header-section .title[data-v-4bbef26e]{display:block;font-size:1.5rem;font-weight:600;color:#fff;margin-bottom:16px}.summary-cards[data-v-4bbef26e]{display:flex;gap:16px;margin-top:8px}.summary-card[data-v-4bbef26e]{flex:1;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1);margin:0}.summary-card.open[data-v-4bbef26e]{--background: rgba(var(--ion-color-success-rgb), .1)}.summary-card.closed[data-v-4bbef26e]{--background: rgba(var(--ion-color-warning-rgb), .1)}.summary-content[data-v-4bbef26e]{display:flex;align-items:center;gap:12px}.summary-icon[data-v-4bbef26e]{font-size:32px}.summary-card.open .summary-icon[data-v-4bbef26e]{color:var(--ion-color-success)}.summary-card.closed .summary-icon[data-v-4bbef26e]{color:var(--ion-color-warning)}.summary-count[data-v-4bbef26e]{font-size:1.5rem;font-weight:700;display:block;line-height:1.2;color:var(--ion-color-light)}.summary-label[data-v-4bbef26e]{font-size:.875rem;opacity:.8;display:block;color:var(--ion-color-light)}.loading-container[data-v-4bbef26e]{display:flex;justify-content:center;align-items:center;height:200px}.empty-state[data-v-4bbef26e],.error-state[data-v-4bbef26e]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:60vh;padding:20px}.empty-state ion-icon[data-v-4bbef26e],.error-state ion-icon[data-v-4bbef26e]{font-size:64px;margin-bottom:16px}.empty-state h3[data-v-4bbef26e],.error-state h3[data-v-4bbef26e]{font-size:1.2rem;font-weight:500;margin-bottom:8px;color:var(--ion-color-dark)}.empty-state p[data-v-4bbef26e],.error-state p[data-v-4bbef26e]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:16px}.status-indicator[data-v-4bbef26e]{width:4px;height:100%;border-radius:4px;position:absolute;left:0}.assignment-item[data-v-4bbef26e]{--padding-start: 12px;--inner-padding-end: 12px;--background: var(--ion-item-background, var(--ion-background-color, #fff));margin-bottom:8px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08)}.assignment-content[data-v-4bbef26e]{margin-left:12px}.assignment-header[data-v-4bbef26e]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.assignment-title[data-v-4bbef26e]{font-weight:600;font-size:1rem;flex:1;margin-right:8px}.assignment-meta[data-v-4bbef26e]{font-size:.8rem;color:var(--ion-color-medium);margin-bottom:8px}.assignment-meta ion-icon[data-v-4bbef26e]{margin-right:4px;vertical-align:middle}.assignment-notes[data-v-4bbef26e]{font-size:.875rem;color:var(--ion-color-medium);margin-bottom:12px;line-height:1.5}.assignment-footer[data-v-4bbef26e]{display:flex;justify-content:space-between;align-items:center;padding-top:8px;border-top:1px solid var(--ion-color-light)}.due-date[data-v-4bbef26e]{font-size:.8rem;color:var(--ion-color-medium)}.due-date ion-icon[data-v-4bbef26e]{margin-right:4px;vertical-align:middle}@media (min-width: 768px){.summary-cards[data-v-4bbef26e]{gap:24px}.assignment-item[data-v-4bbef26e]{margin:0 auto 12px;max-width:800px}}\n",document.head.appendChild(a);const oe={class:"header-section ion-padding"},ie={class:"summary-cards"},se={class:"summary-content"},le={class:"summary-content"},re={key:0,class:"loading-container"},ce={key:1,class:"empty-state"},de={key:2,class:"error-state"},ue={key:3},me={class:"assignment-header"},ge={class:"assignment-meta"},fe={key:0,class:"assignment-notes"},pe={class:"assignment-footer"};e("default",te(t({__name:"AssignmentPage",setup(e){const a=localStorage.getItem("parisklegg_token")||"",t=localStorage.getItem("parisklegg_user"),te=t?JSON.parse(t):null;null==te||te.user_id;const be=n(),ve=g(),ye=Number(be.params.id),_e=o(""),he=o(!0),xe=o(!1),we=o(!1),ke=o([]),Ce=o(0),De=o(0),Se=e=>{const a=new Date,t=new Date(e.submission_date),n=t.getTime()-a.getTime(),o=Math.ceil(n/864e5);return a>t?"closed":o<=1?"dueSoon":o<=3?"upcoming":"open"},ze=e=>{switch(Se(e)){case"closed":case"dueSoon":return"var(--ion-color-warning)";case"upcoming":return"var(--ion-color-primary)";default:return"var(--ion-color-success)"}},Te=e=>{switch(Se(e)){case"closed":case"dueSoon":return"warning";case"open":default:return"success";case"upcoming":return"primary"}},Ae=e=>{switch(Se(e)){case"closed":case"open":return ae;case"dueSoon":return ee;case"upcoming":return X;default:return Q}},je=e=>{const a=new Date,t=new Date(e.submission_date),n=t.getTime()-a.getTime(),o=Math.ceil(n/864e5);return a>t?"Closed":o<=1?"Due Soon":o<=3?`Due in ${o} days`:"Open"},Ee=e=>{const a=new Date(e),t=new Date(a);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).format(t)},Pe=async()=>{try{he.value=!0,xe.value=!1,ke.value=[],Ce.value=0,De.value=0;const e=await m.post("https://school.klgilc.com/api/assignment",{tutorship_id:ye},{headers:Ie(),timeout:2e4});e.data.length>0&&(we.value=!0,_e.value=e.data[0].tutorship_name||"My Assignments",ke.value=e.data.sort((e,a)=>new Date(e.submission_date).getTime()-new Date(a.submission_date).getTime()),ke.value.forEach(e=>{"closed"===Se(e)?Ce.value++:De.value++}))}catch(e){Ne(e),xe.value=!0}finally{he.value=!1}},Ie=()=>({"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${a}`}),Ne=e=>{if(console.error("Error fetching data:",e),m.isAxiosError(e)){var a;if(401===(null===(a=e.response)||void 0===a?void 0:a.status))return ve.replace("/"),void ne.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===e.code)return void ne.show({text:"Request timeout. Please try again",position:"top"})}ne.show({text:"Failed to load data. Please try again later",position:"top"})};return i.setOverlaysWebView({overlay:!1}),i.setBackgroundColor({color:"#ffffff"}),i.setStyle({style:s.Light}),l(()=>{Pe()}),(e,a)=>(F(),r(d(u),null,{default:c(()=>[f(d(h),null,{default:c(()=>[f(d(p),null,{default:c(()=>[f(d(b),{slot:"start"},{default:c(()=>[f(d(v),{"default-href":"/"})]),_:1}),f(d(y),null,{default:c(()=>a[1]||(a[1]=[_("Assignments",-1)])),_:1,__:[1]})]),_:1})]),_:1}),f(d(M),{fullscreen:!0},{default:c(()=>[x("div",oe,[_e.value?(F(),r(d(C),{key:0,class:"title"},{default:c(()=>[_(D(_e.value),1)]),_:1})):k("",!0),x("div",ie,[f(d(S),{class:"summary-card open"},{default:c(()=>[f(d(z),null,{default:c(()=>[x("div",se,[f(d(T),{icon:d(A),class:"summary-icon"},null,8,["icon"]),x("div",null,[f(d(C),{class:"summary-count"},{default:c(()=>[_(D(De.value),1)]),_:1}),f(d(C),{class:"summary-label"},{default:c(()=>a[2]||(a[2]=[_("Open",-1)])),_:1,__:[2]})])])]),_:1})]),_:1}),f(d(S),{class:"summary-card closed"},{default:c(()=>[f(d(z),null,{default:c(()=>[x("div",le,[f(d(T),{icon:d(j),class:"summary-icon"},null,8,["icon"]),x("div",null,[f(d(C),{class:"summary-count"},{default:c(()=>[_(D(Ce.value),1)]),_:1}),f(d(C),{class:"summary-label"},{default:c(()=>a[3]||(a[3]=[_("Closed",-1)])),_:1,__:[3]})])])]),_:1})]),_:1})])]),he.value?(F(),w("div",re,[f(d(E),{name:"crescent",color:"primary"})])):we.value||xe.value?xe.value?(F(),w("div",de,[f(d(T),{icon:d(N),color:"warning"},null,8,["icon"]),f(d(C),null,{default:c(()=>a[6]||(a[6]=[x("h3",null,"Error Loading Assignments",-1),x("p",null,"Please try again later",-1)])),_:1,__:[6]}),f(d(I),{fill:"clear",onClick:Pe},{default:c(()=>a[7]||(a[7]=[_("Retry",-1)])),_:1,__:[7]})])):(F(),w("div",ue,[f(d(O),{lines:"none"},{default:c(()=>[(F(!0),w($,null,B(ke.value,(e,t)=>(F(),r(d(J),{key:t},{default:c(()=>[f(d(R),{class:"assignment-item",detail:!1},{default:c(()=>[x("div",{slot:"start",class:"status-indicator",style:U({backgroundColor:ze(e)})},null,4),f(d(q),{class:"assignment-content"},{default:c(()=>[x("div",me,[f(d(C),{class:"assignment-title"},{default:c(()=>[_(D(e.assignment_name),1)]),_:2},1024),f(d(G),{color:Te(e)},{default:c(()=>[f(d(T),{icon:Ae(e),slot:"start"},null,8,["icon"]),_(" "+D(je(e)),1)]),_:2},1032,["color"])]),x("div",ge,[f(d(C),{class:"assignment-date"},{default:c(()=>[f(d(T),{icon:d(L)},null,8,["icon"]),_(" Posted: "+D(Ee(e.created_at)),1)]),_:2},1024)]),e.additional_note?(F(),w("div",fe,[f(d(C),null,{default:c(()=>[_(D(e.additional_note),1)]),_:2},1024)])):k("",!0),x("div",pe,[f(d(C),{class:"due-date"},{default:c(()=>[f(d(T),{icon:d(V)},null,8,["icon"]),_(" Due: "+D(Ee(e.submission_date)),1)]),_:2},1024),e.assignment_file?(F(),r(d(I),{key:0,fill:"clear",size:"small",onClick:a=>{return t=e.assignment_file,void window.open(`https://school.klgilc.com/files/${t}`,"_blank");var t}},{default:c(()=>[f(d(T),{slot:"start",icon:d(H)},null,8,["icon"]),a[8]||(a[8]=_(" Download ",-1))]),_:2,__:[8]},1032,["onClick"])):k("",!0)])]),_:2},1024)]),_:2},1024),f(d(K),{side:"end"},{default:c(()=>[f(d(W),{color:"tertiary",onClick:a=>(e=>{console.log("Sharing assignment:",e)})(e)},{default:c(()=>[f(d(T),{slot:"icon-only",icon:d(Y)},null,8,["icon"])]),_:2},1032,["onClick"]),f(d(W),{color:"primary",onClick:a=>(e=>{console.log("Viewing submission for:",e)})(e)},{default:c(()=>[f(d(T),{slot:"icon-only",icon:d(Z)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(F(),w("div",ce,[f(d(T),{icon:d(P),color:"medium"},null,8,["icon"]),f(d(C),null,{default:c(()=>a[4]||(a[4]=[x("h3",null,"No Assignments",-1),x("p",null,"Your assignments will appear here when created by your teacher",-1)])),_:1,__:[4]}),f(d(I),{fill:"clear",onClick:a[0]||(a[0]=a=>e.$router.back())},{default:c(()=>a[5]||(a[5]=[_("Back to Classes",-1)])),_:1,__:[5]})]))]),_:1})]),_:1}))}}),[["__scopeId","data-v-4bbef26e"]]))}}});
