!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,a,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(e,r,o,i){var s=r&&r.prototype instanceof l?r:l,c=Object.create(s.prototype);return t(c,"_invoke",function(e,t,r){var o,i,s,l=0,c=r||[],d=!1,f={p:0,n:0,v:n,a:m,f:m.bind(n,4),d:function(e,t){return o=e,i=0,s=n,f.n=t,u}};function m(e,t){for(i=e,s=t,a=0;!d&&l&&!r&&a<c.length;a++){var r,o=c[a],m=f.p,v=o[2];e>3?(r=v===t)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=n):o[0]<=m&&((r=e<2&&m<o[1])?(i=0,f.v=t,f.n=o[1]):m<v&&(r=e<3||o[0]>t||t>v)&&(o[4]=e,o[5]=t,f.n=v,i=0))}if(r||e>1)return u;throw d=!0,t}return function(r,c,v){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&m(c,v),i=c,s=v;(a=i<2?n:s)||!d;){o||(i?i<3?(i>1&&(f.n=-1),m(i,s)):f.n=s:f.v=s);try{if(l=2,o){if(i||(r="next"),a=o[r]){if(!(a=a.call(o,s)))throw TypeError("iterator result is not an object");if(!a.done)return a;s=a.value,i<2&&(i=0)}else 1===i&&(a=o.return)&&a.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=n}else if((a=(d=f.n<0)?s:e.call(t,f))!==u)break}catch(a){o=n,i=1,s=a}finally{l=1}}return{value:a,done:d}}}(e,o,i),!0),c}var u={};function l(){}function c(){}function d(){}a=Object.getPrototypeOf;var f=[][o]?a(a([][o]())):(t(a={},o,function(){return this}),a),m=d.prototype=l.prototype=Object.create(f);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return c.prototype=d,t(m,"constructor",d),t(d,"constructor",c),c.displayName="GeneratorFunction",t(d,i,"GeneratorFunction"),t(m),t(m,i,"Generator"),t(m,o,function(){return this}),t(m,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:v}})()}function t(e,n,a,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}t=function(e,n,a,r){function i(n,a){t(e,n,function(e){return this._invoke(n,a,e)})}n?o?o(e,n,{value:a,enumerable:!r,configurable:!r,writable:!r}):e[n]=a:(i("next",0),i("throw",1),i("return",2))},t(e,n,a,r)}function n(e,t,n,a,r,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(a,r)}System.register(["./index-legacy-UPaEcoFv.js","./index-legacy-ZvApCsva.js"],function(t,a){"use strict";var r,o,i,s,u,l,c,d,f,m,v,p,g,y,h,_,x,b,w,k,S,j,O,z,P,A,E,T,C,G,N,B,F,I,M,D,L,R,q,U,V,H,J,K,W,X,Y,Q,Z,$;return{setters:[function(e){r=e.d,o=e.ar,i=e.r,s=e.c,u=e.S,l=e.a,c=e.o,d=e.b,f=e.w,m=e.u,v=e.I,p=e.e,g=e.f,y=e.g,h=e.h,_=e.i,x=e.P,b=e.l,w=e.A,k=e.q,S=e.s,j=e.x,O=e.y,z=e.z,P=e.n,A=e.aN,E=e.C,T=e.k,C=e.a3,G=e.t,N=e.X,B=e.v,F=e.az,I=e.a2,M=e.m,D=e.a4,L=e.U,R=e.T,q=e.M,U=e.N,V=e.av,H=e.a7,J=e.aO,K=e.K,W=e.as,X=e.aA,Y=e.aB,Q=e.an,Z=e._},function(e){$=e.T}],execute:function(){var a=document.createElement("style");a.textContent=".summary-card[data-v-53f6a6d9]{margin:16px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1)}.summary-title[data-v-53f6a6d9]{display:flex;align-items:center;gap:8px;font-size:1.1rem;font-weight:600;color:var(--ion-text-color);white-space:pre-line}.summary-title ion-icon[data-v-53f6a6d9]{font-size:24px}.summary-content[data-v-53f6a6d9]{display:flex;justify-content:space-between;padding:16px}.summary-item[data-v-53f6a6d9]{display:flex;flex-direction:column;align-items:center;flex:1}.divider[data-v-53f6a6d9]{width:1px;background-color:var(--ion-color-light);margin:0 8px}.summary-label[data-v-53f6a6d9]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:4px}.summary-value[data-v-53f6a6d9]{font-size:1.5rem;font-weight:600}.summary-value.excellent[data-v-53f6a6d9]{color:var(--ion-color-success)}.summary-value.good[data-v-53f6a6d9]{color:var(--ion-color-primary)}.summary-value.average[data-v-53f6a6d9]{color:var(--ion-color-warning)}.summary-value.poor[data-v-53f6a6d9]{color:var(--ion-color-danger)}.loading-container[data-v-53f6a6d9]{display:flex;justify-content:center;align-items:center;height:200px}.empty-state[data-v-53f6a6d9],.error-state[data-v-53f6a6d9]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:60vh;padding:20px}.empty-state ion-icon[data-v-53f6a6d9],.error-state ion-icon[data-v-53f6a6d9]{font-size:64px;margin-bottom:16px}.empty-state h3[data-v-53f6a6d9],.error-state h3[data-v-53f6a6d9]{font-size:1.2rem;font-weight:500;margin-bottom:8px;color:var(--ion-color-dark)}.empty-state p[data-v-53f6a6d9],.error-state p[data-v-53f6a6d9]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:16px}.assessment-item[data-v-53f6a6d9]{--padding-start: 12px;--inner-padding-end: 12px;--background: var(--ion-item-background, var(--ion-background-color, #fff));margin:8px 16px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08)}.assessment-item ion-icon[data-v-53f6a6d9]{font-size:24px}.assessment-content[data-v-53f6a6d9]{margin-left:12px}.assessment-header[data-v-53f6a6d9]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.assessment-title[data-v-53f6a6d9]{font-weight:600;font-size:1rem;flex:1;margin-right:8px}.assessment-meta[data-v-53f6a6d9]{display:flex;justify-content:space-between;font-size:.8rem;color:var(--ion-color-medium)}.assessment-score[data-v-53f6a6d9]{font-weight:500}.assessment-date[data-v-53f6a6d9]{color:var(--ion-color-medium)}@media (min-width: 768px){.summary-card[data-v-53f6a6d9]{margin:16px auto;max-width:800px}.assessment-item[data-v-53f6a6d9]{margin:8px auto;max-width:800px}}\n",document.head.appendChild(a);var ee={class:"summary-item"},te={class:"summary-item"},ne={key:0,class:"loading-container"},ae={key:1,class:"empty-state"},re={key:2,class:"error-state"},oe={class:"assessment-header"},ie={class:"assessment-meta"},se=r({__name:"AssessmentPage",setup:function(t){var a=localStorage.getItem("parisklegg_token")||"",r=localStorage.getItem("parisklegg_user"),Z=r?JSON.parse(r):null,se=(null==Z?void 0:Z.user_id)||0,ue=o(),le=g(),ce=Number(ue.params.id),de=i(!0),fe=i(!1),me=i([]),ve=s(function(){return me.value.length>0}),pe=s(function(){return me.value.length}),ge=s(function(){if(0===me.value.length)return 0;var e=me.value.reduce(function(e,t){return e+ye(t)},0);return Math.round(e/me.value.length)}),ye=function(e){return 0===e.score_denominator?0:Math.round(e.score_numerator/e.score_denominator*100)},he=function(){var t,a=(t=e().m(function t(){var n,a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,de.value=!0,fe.value=!1,me.value=[],e.n=1,p.post("https://school.klgilc.com/api/marks",{tutorship_id:ce,student_id:se},{headers:_e(),timeout:2e4});case 1:n=e.v,me.value=n.data,e.n=3;break;case 2:e.p=2,a=e.v,console.error("Error fetching assessments:",a),xe(a),fe.value=!0;case 3:return e.p=3,de.value=!1,e.f(3);case 4:return e.a(2)}},t,null,[[0,2,3,4]])}),function(){var e=this,a=arguments;return new Promise(function(r,o){var i=t.apply(e,a);function s(e){n(i,r,o,s,u,"next",e)}function u(e){n(i,r,o,s,u,"throw",e)}s(void 0)})});return function(){return a.apply(this,arguments)}}(),_e=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(a)}},xe=function(e){if(console.error("Error fetching data:",e),p.isAxiosError(e)){var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status))return le.replace("/"),void $.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===e.code)return void $.show({text:"Request timeout. Please try again",position:"top"})}$.show({text:"Failed to load data. Please try again later",position:"top"})};return u.setOverlaysWebView({overlay:!1}),u.setBackgroundColor({color:"#ffffff"}),u.setStyle({style:l.Light}),c(function(){he()}),function(e,t){return U(),d(m(v),null,{default:f(function(){return[y(m(k),null,{default:f(function(){return[y(m(h),null,{default:f(function(){return[y(m(_),{slot:"start"},{default:f(function(){return[y(m(x),{"default-href":"/"})]}),_:1}),y(m(b),null,{default:f(function(){return t[0]||(t[0]=[w("Assessment",-1)])}),_:1,__:[0]})]}),_:1})]}),_:1}),y(m(q),{fullscreen:!0},{default:f(function(){return[y(m(j),{class:"summary-card"},{default:f(function(){return[y(m(O),null,{default:f(function(){return[y(m(z),{class:"summary-title"},{default:f(function(){return[y(m(P),{icon:m(A),color:"primary"},null,8,["icon"]),t[1]||(t[1]=w(" Overall Performance ",-1))]}),_:1,__:[1]})]}),_:1}),y(m(E),{class:"summary-content"},{default:f(function(){return[T("div",ee,[y(m(C),{class:"summary-label"},{default:f(function(){return t[2]||(t[2]=[w("Assignments Graded",-1)])}),_:1,__:[2]}),y(m(C),{class:"summary-value"},{default:f(function(){return[w(G(pe.value),1)]}),_:1})]),t[4]||(t[4]=T("div",{class:"divider"},null,-1)),T("div",te,[y(m(C),{class:"summary-label"},{default:f(function(){return t[3]||(t[3]=[w("Average Score",-1)])}),_:1,__:[3]}),y(m(C),{class:N(["summary-value",(e=ge.value,e>=85?"excellent":e>=70?"good":e>=50?"average":"poor")])},{default:f(function(){return[w(G(ge.value)+"% ",1)]}),_:1},8,["class"])])];var e}),_:1,__:[4]})]}),_:1}),de.value?(U(),S("div",ne,[y(m(B),{name:"crescent",color:"primary"})])):ve.value||fe.value?fe.value?(U(),S("div",re,[y(m(P),{icon:m(I),size:"large",color:"danger"},null,8,["icon"]),y(m(C),null,{default:f(function(){return t[6]||(t[6]=[T("h3",null,"Error Loading Grades",-1),T("p",null,"Please try again later",-1)])}),_:1,__:[6]}),y(m(M),{fill:"clear",onClick:he},{default:f(function(){return t[7]||(t[7]=[w("Retry",-1)])}),_:1,__:[7]})])):(U(),d(m(D),{key:3,lines:"none"},{default:f(function(){return[(U(!0),S(R,null,L(me.value,function(e,t){return U(),d(m(V),{key:t},{default:f(function(){return[y(m(H),{class:"assessment-item"},{default:f(function(){return[y(m(P),{slot:"start",icon:m(J),color:"primary"},null,8,["icon"]),y(m(K),{class:"assessment-content"},{default:f(function(){return[T("div",oe,[y(m(C),{class:"assessment-title"},{default:f(function(){return[w(G(e.assignment_name||"Assignment"),1)]}),_:2},1024),y(m(W),{color:(t=ye(e),t>=85?"success":t>=70?"primary":t>=50?"warning":"danger")},{default:f(function(){return[w(G(ye(e))+"% ",1)]}),_:2},1032,["color"])]),T("div",ie,[y(m(C),{class:"assessment-score"},{default:f(function(){return[w(G(e.score_numerator)+"/"+G(e.score_denominator),1)]}),_:2},1024),y(m(C),{class:"assessment-date"},{default:f(function(){return[w(G((t=e.created_at,n=new Date(t),a=n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),r=n.getHours().toString().padStart(2,"0"),o=n.getMinutes().toString().padStart(2,"0"),"".concat(a,", ").concat(r,":").concat(o))),1)];var t,n,a,r,o}),_:2},1024)])];var t}),_:2},1024)]}),_:2},1024),y(m(X),{side:"end"},{default:f(function(){return[y(m(Y),{color:"tertiary",onClick:function(t){return function(e){console.log("Viewing details for:",e)}(e)}},{default:f(function(){return[y(m(P),{slot:"icon-only",icon:m(Q)},null,8,["icon"])]}),_:2},1032,["onClick"])]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})):(U(),S("div",ae,[y(m(P),{icon:m(F),size:"large",color:"medium"},null,8,["icon"]),y(m(C),null,{default:f(function(){return t[5]||(t[5]=[T("h3",null,"No Grades Available",-1),T("p",null,"Your grades will appear here once they're posted",-1)])}),_:1,__:[5]})]))]}),_:1})]}),_:1})}}});t("default",Z(se,[["__scopeId","data-v-53f6a6d9"]]))}}})}();
