!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function u(n,a,o,i){var u=a&&a.prototype instanceof l?a:l,c=Object.create(u.prototype);return r(c,"_invoke",function(n,r,a){var o,i,u,l=0,c=a||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,i=0,u=e,d.n=n,s}};function m(n,r){for(i=n,u=r,t=0;!f&&l&&!a&&t<c.length;t++){var a,o=c[t],m=d.p,p=o[2];n>3?(a=p===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(i=0,d.v=r,d.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,d.n=p,i=0))}if(a||n>1)return s;throw f=!0,r}return function(a,c,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===c&&m(c,p),i=c,u=p;(t=i<2?e:u)||!f;){o||(i?i<3?(i>1&&(d.n=-1),m(i,u)):d.n=u:d.v=u);try{if(l=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==s)break}catch(t){o=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,i),!0),c}var s={};function l(){}function c(){}function f(){}t=Object.getPrototypeOf;var d=[][o]?t(t([][o]())):(r(t={},o,function(){return this}),t),m=f.prototype=l.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return c.prototype=f,r(m,"constructor",f),r(f,"constructor",c),c.displayName="GeneratorFunction",r(f,i,"GeneratorFunction"),r(m),r(m,i,"Generator"),r(m,o,function(){return this}),r(m,"toString",function(){return"[object Generator]"}),(n=function(){return{w:u,m:p}})()}function r(e,t,n,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}r=function(e,t,n,a){function i(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},r(e,t,n,a)}function a(e,t,n,r,a,o,i){try{var u=e[o](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,a)}System.register(["./index-legacy-C3op4-Ni.js","./index-legacy-EE099LYJ.js"],function(t,r){"use strict";var o,i,u,s,l,c,f,d,m,p,v,g,y,h,x,b,_,w,k,S,j,A,O,z,P,E,T,C,G,N,I,M,B,F,D,L,R,U,$,q,V,H,J,K,W,X,Y,Q,Z,ee;return{setters:[function(e){o=e.d,i=e.ar,u=e.r,s=e.c,l=e.S,c=e.a,f=e.o,d=e.b,m=e.w,p=e.u,v=e.I,g=e.e,y=e.f,h=e.g,x=e.h,b=e.i,_=e.P,w=e.l,k=e.A,S=e.q,j=e.s,A=e.x,O=e.y,z=e.z,P=e.n,E=e.aN,T=e.C,C=e.k,G=e.a3,N=e.t,I=e.X,M=e.v,B=e.az,F=e.a2,D=e.m,L=e.a4,R=e.U,U=e.T,$=e.M,q=e.N,V=e.av,H=e.a7,J=e.aO,K=e.K,W=e.as,X=e.aA,Y=e.aB,Q=e.an,Z=e._},function(e){ee=e.T}],execute:function(){var r=document.createElement("style");r.textContent=".summary-card[data-v-4fe78e86]{margin:16px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1)}.summary-title[data-v-4fe78e86]{display:flex;align-items:center;gap:8px;font-size:1.1rem;font-weight:600;color:var(--ion-text-color);white-space:pre-line}.summary-title ion-icon[data-v-4fe78e86]{font-size:24px}.summary-content[data-v-4fe78e86]{display:flex;justify-content:space-between;padding:16px}.summary-item[data-v-4fe78e86]{display:flex;flex-direction:column;align-items:center;flex:1}.divider[data-v-4fe78e86]{width:1px;background-color:var(--ion-color-light);margin:0 8px}.summary-label[data-v-4fe78e86]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:4px}.summary-value[data-v-4fe78e86]{font-size:1.5rem;font-weight:600}.summary-value.excellent[data-v-4fe78e86]{color:var(--ion-color-success)}.summary-value.good[data-v-4fe78e86]{color:var(--ion-color-primary)}.summary-value.average[data-v-4fe78e86]{color:var(--ion-color-warning)}.summary-value.poor[data-v-4fe78e86]{color:var(--ion-color-danger)}.loading-container[data-v-4fe78e86]{display:flex;justify-content:center;align-items:center;height:200px}.empty-state[data-v-4fe78e86],.error-state[data-v-4fe78e86]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:60vh;padding:20px}.empty-state ion-icon[data-v-4fe78e86],.error-state ion-icon[data-v-4fe78e86]{font-size:64px;margin-bottom:16px}.empty-state h3[data-v-4fe78e86],.error-state h3[data-v-4fe78e86]{font-size:1.2rem;font-weight:500;margin-bottom:8px;color:var(--ion-color-dark)}.empty-state p[data-v-4fe78e86],.error-state p[data-v-4fe78e86]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:16px}.assessment-item[data-v-4fe78e86]{--padding-start: 12px;--inner-padding-end: 12px;--background: var(--ion-item-background, var(--ion-background-color, #fff));margin:8px 16px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08)}.assessment-item ion-icon[data-v-4fe78e86]{font-size:24px}.assessment-content[data-v-4fe78e86]{margin-left:12px}.assessment-header[data-v-4fe78e86]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.assessment-title[data-v-4fe78e86]{font-weight:600;font-size:1rem;flex:1;margin-right:8px}.assessment-meta[data-v-4fe78e86]{display:flex;justify-content:space-between;font-size:.8rem;color:var(--ion-color-medium)}.assessment-score[data-v-4fe78e86]{font-weight:500}.assessment-date[data-v-4fe78e86]{color:var(--ion-color-medium)}@media (min-width: 768px){.summary-card[data-v-4fe78e86]{margin:16px auto;max-width:800px}.assessment-item[data-v-4fe78e86]{margin:8px auto;max-width:800px}}\n/*$vite$:1*/",document.head.appendChild(r);var te={class:"summary-item"},ne={class:"summary-item"},re={key:0,class:"loading-container"},ae={key:1,class:"empty-state"},oe={key:2,class:"error-state"},ie={class:"assessment-header"},ue={class:"assessment-meta"},se=o({__name:"AssessmentPage",setup:function(t){var r=localStorage.getItem("parisklegg_token")||"",o=localStorage.getItem("parisklegg_user"),Z=o?JSON.parse(o):null,se=(null==Z?void 0:Z.user_id)||0,le=i(),ce=y(),fe=Number(le.params.id),de=u(!0),me=u(!1),pe=u([]),ve=s(function(){return pe.value.length>0}),ge=s(function(){return pe.value.length}),ye=s(function(){if(0===pe.value.length)return 0;var e=pe.value.reduce(function(e,t){return e+he(t)},0);return Math.round(e/pe.value.length)}),he=function(e){return 0===e.score_denominator?0:Math.round(e.score_numerator/e.score_denominator*100)},xe=function(){var e,t=(e=n().m(function e(){var t,r;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,de.value=!0,me.value=!1,pe.value=[],e.n=1,g.post("https://klegg-app-whh7m.ondigitalocean.app/api/marks",{tutorship_id:fe,student_id:se},{headers:be(),timeout:2e4});case 1:t=e.v,pe.value=t.data,e.n=3;break;case 2:e.p=2,r=e.v,console.error("Error fetching assessments:",r),_e(r),me.value=!0;case 3:return e.p=3,de.value=!1,e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,s,"next",e)}function s(e){a(i,r,o,u,s,"throw",e)}u(void 0)})});return function(){return t.apply(this,arguments)}}(),be=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(r)}},_e=function(e){if(console.error("Error fetching data:",e),g.isAxiosError(e)){var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status))return ce.replace("/"),void ee.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===e.code)return void ee.show({text:"Request timeout. Please try again",position:"top"})}ee.show({text:"Failed to load data. Please try again later",position:"top"})};return l.setOverlaysWebView({overlay:!1}),l.setBackgroundColor({color:"#ffffff"}),l.setStyle({style:c.Light}),f(function(){xe()}),function(t,n){return q(),d(p(v),null,{default:m(function(){return[h(p(S),null,{default:m(function(){return[h(p(x),null,{default:m(function(){return[h(p(b),{slot:"start"},{default:m(function(){return[h(p(_),{"default-href":"/"})]}),_:1}),h(p(w),null,{default:m(function(){return e(n[0]||(n[0]=[k("Assessment",-1)]))}),_:1})]}),_:1})]}),_:1}),h(p($),{fullscreen:!0},{default:m(function(){return[h(p(A),{class:"summary-card"},{default:m(function(){return[h(p(O),null,{default:m(function(){return[h(p(z),{class:"summary-title"},{default:m(function(){return[h(p(P),{icon:p(E),color:"primary"},null,8,["icon"]),n[1]||(n[1]=k(" Overall Performance ",-1))]}),_:1})]}),_:1}),h(p(T),{class:"summary-content"},{default:m(function(){return[C("div",te,[h(p(G),{class:"summary-label"},{default:m(function(){return e(n[2]||(n[2]=[k("Assignments Graded",-1)]))}),_:1}),h(p(G),{class:"summary-value"},{default:m(function(){return[k(N(ge.value),1)]}),_:1})]),n[4]||(n[4]=C("div",{class:"divider"},null,-1)),C("div",ne,[h(p(G),{class:"summary-label"},{default:m(function(){return e(n[3]||(n[3]=[k("Average Score",-1)]))}),_:1}),h(p(G),{class:I(["summary-value",(t=ye.value,t>=85?"excellent":t>=70?"good":t>=50?"average":"poor")])},{default:m(function(){return[k(N(ye.value)+"% ",1)]}),_:1},8,["class"])])];var t}),_:1})]}),_:1}),de.value?(q(),j("div",re,[h(p(M),{name:"crescent",color:"primary"})])):ve.value||me.value?me.value?(q(),j("div",oe,[h(p(P),{icon:p(F),size:"large",color:"danger"},null,8,["icon"]),h(p(G),null,{default:m(function(){return e(n[6]||(n[6]=[C("h3",null,"Error Loading Grades",-1),C("p",null,"Please try again later",-1)]))}),_:1}),h(p(D),{fill:"clear",onClick:xe},{default:m(function(){return e(n[7]||(n[7]=[k("Retry",-1)]))}),_:1})])):(q(),d(p(L),{key:3,lines:"none"},{default:m(function(){return[(q(!0),j(U,null,R(pe.value,function(e,t){return q(),d(p(V),{key:t},{default:m(function(){return[h(p(H),{class:"assessment-item"},{default:m(function(){return[h(p(P),{slot:"start",icon:p(J),color:"primary"},null,8,["icon"]),h(p(K),{class:"assessment-content"},{default:m(function(){return[C("div",ie,[h(p(G),{class:"assessment-title"},{default:m(function(){return[k(N(e.assignment_name||"Assignment"),1)]}),_:2},1024),h(p(W),{color:(t=he(e),t>=85?"success":t>=70?"primary":t>=50?"warning":"danger")},{default:m(function(){return[k(N(he(e))+"% ",1)]}),_:2},1032,["color"])]),C("div",ue,[h(p(G),{class:"assessment-score"},{default:m(function(){return[k(N(e.score_numerator)+"/"+N(e.score_denominator),1)]}),_:2},1024),h(p(G),{class:"assessment-date"},{default:m(function(){return[k(N((t=e.created_at,n=new Date(t),r=n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),a=n.getHours().toString().padStart(2,"0"),o=n.getMinutes().toString().padStart(2,"0"),"".concat(r,", ").concat(a,":").concat(o))),1)];var t,n,r,a,o}),_:2},1024)])];var t}),_:2},1024)]}),_:2},1024),h(p(X),{side:"end"},{default:m(function(){return[h(p(Y),{color:"tertiary",onClick:function(t){return function(e){console.log("Viewing details for:",e)}(e)}},{default:m(function(){return[h(p(P),{slot:"icon-only",icon:p(Q)},null,8,["icon"])]}),_:1},8,["onClick"])]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})):(q(),j("div",ae,[h(p(P),{icon:p(B),size:"large",color:"medium"},null,8,["icon"]),h(p(G),null,{default:m(function(){return e(n[5]||(n[5]=[C("h3",null,"No Grades Available",-1),C("p",null,"Your grades will appear here once they're posted",-1)]))}),_:1})]))]}),_:1})]}),_:1})}}});t("default",Z(se,[["__scopeId","data-v-4fe78e86"]]))}}})}();
