!function(){function t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=Array(n);e<n;e++)o[e]=t[e];return o}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function l(e,r,a,i){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return o(s,"_invoke",function(e,o,r){var a,i,l,c=0,s=r||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(n,e){return a=n,i=0,l=t,p.n=e,u}};function f(e,o){for(i=e,l=o,n=0;!d&&c&&!r&&n<s.length;n++){var r,a=s[n],f=p.p,g=a[2];e>3?(r=g===o)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=f&&((r=e<2&&f<a[1])?(i=0,p.v=o,p.n=a[1]):f<g&&(r=e<3||a[0]>o||o>g)&&(a[4]=e,a[5]=o,p.n=g,i=0))}if(r||e>1)return u;throw d=!0,o}return function(r,s,g){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,g),i=s,l=g;(n=i<2?t:l)||!d;){a||(i?i<3?(i>1&&(p.n=-1),f(i,l)):p.n=l:p.v=l);try{if(c=2,a){if(i||(r="next"),n=a[r]){if(!(n=n.call(a,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,i<2&&(i=0)}else 1===i&&(n=a.return)&&n.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=t}else if((n=(d=p.n<0)?l:e.call(o,p))!==u)break}catch(n){a=t,i=1,l=n}finally{c=1}}return{value:n,done:d}}}(e,a,i),!0),s}var u={};function c(){}function s(){}function d(){}n=Object.getPrototypeOf;var p=[][a]?n(n([][a]())):(o(n={},a,function(){return this}),n),f=d.prototype=c.prototype=Object.create(p);function g(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,o(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=d,o(f,"constructor",d),o(d,"constructor",s),s.displayName="GeneratorFunction",o(d,i,"GeneratorFunction"),o(f),o(f,i,"Generator"),o(f,a,function(){return this}),o(f,"toString",function(){return"[object Generator]"}),(e=function(){return{w:l,m:g}})()}function o(t,n,e,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}o=function(t,n,e,r){function i(n,e){o(t,n,function(t){return this._invoke(n,e,t)})}n?a?a(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(i("next",0),i("throw",1),i("return",2))},o(t,n,e,r)}function r(t,n,e,o,r,a,i){try{var l=t[a](i),u=l.value}catch(t){return void e(t)}l.done?n(u):Promise.resolve(u).then(o,r)}function a(t){return function(){var n=this,e=arguments;return new Promise(function(o,a){var i=t.apply(n,e);function l(t){r(i,o,a,l,u,"next",t)}function u(t){r(i,o,a,l,u,"throw",t)}l(void 0)})}}System.register(["./index-legacy-D7Bnmc80.js","./index-legacy-4MJDgNEx.js"],function(n,o){"use strict";var r,i,l,u,c,s,d,p,f,g,v,m,b,h,y,x,k,w,_,S,j,A,P,C,O,T,I,E,K,G,N,L,D,F,q,z,B,U,$,M;return{setters:[function(t){r=t.af,i=t.ag,l=t.d,u=t.r,c=t.o,s=t.a,d=t.w,p=t.u,f=t.I,g=t.f,v=t.g,m=t.h,b=t.m,h=t.B,y=t.s,x=t.l,k=t.v,w=t.aa,_=t.t,S=t.a4,j=t.a7,A=t.p,P=t.ah,C=t.a9,O=t.ai,T=t.ab,I=t.aj,E=t.ak,K=t.al,G=t.am,N=t.n,L=t.an,D=t.ao,F=t.N,q=t.ap,z=t.b,B=t.e,U=t.O,$=t._},function(t){M=t.T}],execute:function(){var R=document.createElement("style");R.textContent=".profile-section[data-v-127739b1]{display:flex;align-items:center;padding:20px;background:var(--ion-card-background, var(--ion-item-background));border-radius:12px;margin-bottom:20px;box-shadow:0 2px 8px rgba(0,0,0,.08);border:1px solid var(--ion-border-color, rgba(0, 0, 0, .08));transition:all .3s ease}.profile-img[data-v-127739b1]{width:72px;height:72px;border-radius:50%;margin-right:16px;object-fit:cover;border:2px solid var(--ion-color-light-shade);transition:border-color .3s ease}.profile-info h2[data-v-127739b1]{font-size:1.1rem;margin:0 0 4px;font-weight:600;color:var(--ion-text-color);transition:color .3s ease}.profile-info p[data-v-127739b1]{color:var(--ion-color-medium);margin:0 0 4px;font-size:.9rem;transition:color .3s ease}.settings-list[data-v-127739b1]{background:transparent;margin-bottom:24px}.settings-list ion-item[data-v-127739b1]{--padding-start: 12px;--padding-end: 12px;--min-height: 56px;--border-color: var(--ion-border-color);--background: var(--ion-item-background);--background-hover: var(--ion-color-step-50);--background-activated: var(--ion-color-step-100);transition:all .3s ease}.settings-list ion-item[data-v-127739b1]:hover{--background: var(--ion-color-step-50)}.logout-section[data-v-127739b1]{display:flex;justify-content:center;margin-top:8px;padding:16px 0}.logout-button[data-v-127739b1]{--padding-start: 20px;--padding-end: 20px;--background-activated: var(--ion-color-danger-tint);font-weight:500;border:1px solid var(--ion-border-color);border-radius:8px;transition:all .3s ease}.logout-button[data-v-127739b1]:hover{--background: var(--ion-color-danger-tint);border-color:var(--ion-color-danger)}.theme-select[data-v-127739b1]{min-width:120px}@media (prefers-color-scheme: dark){.profile-section[data-v-127739b1]{box-shadow:0 2px 8px rgba(0,0,0,.3);border-color:var(--ion-color-step-300, #333)}.profile-img[data-v-127739b1]{border-color:var(--ion-color-step-400, #444)}}ion-content.dark{background:var(--ion-color-step-50, #1a1a1a);border-color:var(--ion-color-step-200, #333)}ion-content.dark{color:var(--ion-text-color, #ffffff)}ion-content.dark{color:var(--ion-color-step-600, #888)}[data-v-127739b1]{transition:background-color .3s ease,border-color .3s ease,color .3s ease}@supports (-webkit-touch-callout: none){.dark .quick-action-button[data-v-127739b1]{--padding-top: 14px;--padding-bottom: 14px;--padding-start: 6px;--padding-end: 6px;border:1px solid var(--ion-color-step-250)}.dark .quick-action-button ion-label[data-v-127739b1]{padding:0 4px;margin-top:6px}}\n/*$vite$:1*/",document.head.appendChild(R);var J=r("Share",{web:function(){return i(function(){return o.import("./web-legacy-IQ81ZgHG.js")},void 0).then(function(t){return new t.ShareWeb})}}),V={class:"profile-section"},W=["src"],H={class:"profile-info"},Q={key:0},X={class:"logout-section"},Y="https://www.gravatar.com/avatar/?d=mp",Z=l({__name:"SettingsPage",setup:function(n){var o=B(),r=u({name:"",id:0,otp:0,phone:""}),i=["Close"],l=u(!1),$=localStorage.getItem("parisklegg_token")||"",R=null,Z=function(t){var n=t.matches;g(n)},tt=function(){var t=window.matchMedia("(prefers-color-scheme: dark)");return Z(t),t.addEventListener("change",Z),t};c(a(e().m(function t(){var n,o;return e().w(function(t){for(;;)switch(t.n){case 0:tt(),(n=localStorage.getItem("parisklegg_user"))&&(o=JSON.parse(n))&&(r.value.name=o.fullname,r.value.id=o.user_id,r.value.email=o.username,r.value.image=o.profile_photo_path||Y,R=o.user_id);case 1:return t.a(2)}},t)})));var nt=function(){var t=a(e().m(function t(){var n;return e().w(function(t){for(;;)switch(t.n){case 0:if("android"!==(n=q.getPlatform())){t.n=1;break}return t.a(2,ot());case 1:if("ios"!==n){t.n=2;break}return t.a(2,rt());case 2:return t.a(2,et())}},t)}));return function(){return t.apply(this,arguments)}}(),et=function(){var t=a(e().m(function t(){return e().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,J.share({title:"Klegg",text:"Access the Klegg app on the web.",url:"https://klegg.vercel.app",dialogTitle:"Available to learners at the Klegg Institute of Language and Communication"});case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),ot=function(){var t=a(e().m(function t(){return e().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,J.share({title:"Download Klegg.",text:"Get the Klegg app on the Google Play Store.",url:"https://play.google.com/store/apps/details?id=com.webmucho.klegg",dialogTitle:"Available to learners at the Klegg Institute of Language and Communication"});case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),rt=function(){var t=a(e().m(function t(){return e().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,J.share({title:"Download Klegg.",text:"Get the Klegg app on the App Store.",url:"https://apps.apple.com/gh/app/klegg/id6753220908",dialogTitle:"Available to learners at the Klegg Institute of Language and Communication"});case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),at=function(t){window.location.href=t},it=function(){var t=a(e().m(function t(){var n,r,a;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return l.value=!0,t.p=1,t.n=2,z.post("https://klegg-app-whh7m.ondigitalocean.app/api/logout",{user_id:R,bearer_token:$},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat($)}});case 2:n=t.v,r=n.data,console.log(r.data),!0===r.success&&(console.log("User logged out"),localStorage.removeItem("parisklegg_user"),localStorage.removeItem("parisklegg_token"),o.replace("/")),t.n=4;break;case 3:t.p=3,a=t.v,lt(a);case 4:return t.p=4,l.value=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}));return function(){return t.apply(this,arguments)}}(),lt=function(t){if(console.error("Error fetching data:",t),z.isAxiosError(t)){var n;if(401===(null===(n=t.response)||void 0===n?void 0:n.status))return o.replace("/"),void M.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===t.code)return void M.show({text:"Request timeout. Please try again",position:"top"})}M.show({text:"Failed to load data. Please try again later",position:"top"})};return function(n,e){return U(),s(p(f),null,{default:d(function(){return[v(p(y),null,{default:d(function(){return[v(p(m),null,{default:d(function(){return[v(p(b),null,{default:d(function(){return t(e[4]||(e[4]=[h("Settings",-1)]))}),_:1})]}),_:1})]}),_:1}),v(p(F),{class:"ion-padding"},{default:d(function(){return[x("div",V,[x("img",{src:r.value.image||Y,class:"profile-img",alt:"Profile Picture"},null,8,W),x("div",H,[x("h2",null,_(r.value.name||"User Name"),1),r.value.phone?(U(),k("p",Q,_(r.value.phone||"Phone"),1)):w("",!0),x("p",null,_(r.value.email||"Email"),1)])]),v(p(S),{lines:"none",class:"settings-list"},{default:d(function(){return[v(p(j),{button:"",onClick:e[0]||(e[0]=function(t){return at("https://legal.klgilc.com/privacy-policy.html")})},{default:d(function(){return[v(p(A),{slot:"start",icon:p(P),color:"medium"},null,8,["icon"]),v(p(C),null,{default:d(function(){return t(e[5]||(e[5]=[h("Privacy Policy",-1)]))}),_:1})]}),_:1}),v(p(j),{button:"",onClick:e[1]||(e[1]=function(t){return at("https://legal.klgilc.com/terms-of-service.html")})},{default:d(function(){return[v(p(A),{slot:"start",icon:p(O),color:"medium"},null,8,["icon"]),v(p(C),null,{default:d(function(){return t(e[6]||(e[6]=[h("Terms of Service",-1)]))}),_:1})]}),_:1}),v(p(j),{button:"",onClick:e[2]||(e[2]=function(t){return at("https://wa.me/+233208345390")})},{default:d(function(){return[v(p(A),{slot:"start",icon:p(T),color:"medium"},null,8,["icon"]),v(p(C),null,{default:d(function(){return t(e[7]||(e[7]=[h("Contact Support",-1)]))}),_:1})]}),_:1}),v(p(j),{button:"",onClick:e[3]||(e[3]=function(t){return at("https://legal.klgilc.com/account-deletion.html")})},{default:d(function(){return[v(p(A),{slot:"start",icon:p(I),color:"medium"},null,8,["icon"]),v(p(C),null,{default:d(function(){return t(e[8]||(e[8]=[h("Delete Account",-1)]))}),_:1})]}),_:1}),v(p(j),{button:"",onClick:nt},{default:d(function(){return[v(p(A),{slot:"start",icon:p(E),color:"medium"},null,8,["icon"]),v(p(C),null,{default:d(function(){return t(e[9]||(e[9]=[h("Share App",-1)]))}),_:1})]}),_:1}),v(p(j),{button:"",id:"about-alert"},{default:d(function(){return[v(p(A),{slot:"start",icon:p(K),color:"medium"},null,8,["icon"]),v(p(C),null,{default:d(function(){return t(e[10]||(e[10]=[h("About",-1)]))}),_:1})]}),_:1}),v(p(G),{trigger:"about-alert",header:"Klegg","sub-header":"Version 1.1.0",message:"â’¸ 2026 - Klegg Institute of Language and Communication.",buttons:i})]}),_:1}),x("div",X,[v(p(N),{fill:"clear",color:"medium",onClick:it,class:"logout-button"},{default:d(function(){return[v(p(A),{slot:"start",icon:p(L)},null,8,["icon"]),e[11]||(e[11]=h(" Sign Out ",-1))]}),_:1})]),v(p(D),{"is-open":l.value,message:"Please wait..."},null,8,["is-open"])]}),_:1})]}),_:1})}}});n("default",$(Z,[["__scopeId","data-v-127739b1"]]))}}})}();
