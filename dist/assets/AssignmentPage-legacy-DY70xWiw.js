!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function c(n,a,o,i){var c=a&&a.prototype instanceof s?a:s,l=Object.create(c.prototype);return r(l,"_invoke",function(n,r,a){var o,i,c,s=0,l=a||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,i=0,c=e,f.n=n,u}};function m(n,r){for(i=n,c=r,t=0;!d&&s&&!a&&t<l.length;t++){var a,o=l[t],m=f.p,p=o[2];n>3?(a=p===r)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(i=0,f.v=r,f.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,i=0))}if(a||n>1)return u;throw d=!0,r}return function(a,l,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&m(l,p),i=l,c=p;(t=i<2?e:c)||!d;){o||(i?i<3?(i>1&&(f.n=-1),m(i,c)):f.n=c:f.v=c);try{if(s=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(d=f.n<0)?c:n.call(r,f))!==u)break}catch(t){o=e,i=1,c=t}finally{s=1}}return{value:t,done:d}}}(n,o,i),!0),l}var u={};function s(){}function l(){}function d(){}t=Object.getPrototypeOf;var f=[][o]?t(t([][o]())):(r(t={},o,function(){return this}),t),m=d.prototype=s.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,r(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=d,r(m,"constructor",d),r(d,"constructor",l),l.displayName="GeneratorFunction",r(d,i,"GeneratorFunction"),r(m),r(m,i,"Generator"),r(m,o,function(){return this}),r(m,"toString",function(){return"[object Generator]"}),(n=function(){return{w:c,m:p}})()}function r(e,t,n,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}r=function(e,t,n,a){function i(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},r(e,t,n,a)}function a(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,u,"next",e)}function u(e){a(i,r,o,c,u,"throw",e)}c(void 0)})}}System.register(["./index-legacy-DacpHz19.js","./index-legacy-Dgim11H5.js"],function(t,r){"use strict";var a,i,c,u,s,l,d,f,m,p,g,v,y,h,b,x,w,_,k,S,j,O,C,T,A,D,z,P,E,F,I,G,N,M,B,R,$,L,U,q,H,J,K,Z,V,Y,Q,W,X,ee,te,ne,re,ae,oe,ie,ce,ue;return{setters:[function(e){a=e.d,i=e.ao,c=e.r,u=e.c,s=e.i,l=e.o,d=e.P,f=e.a,m=e.w,p=e.u,g=e.I,v=e.b,y=e.e,h=e.f,b=e.g,x=e.h,w=e.j,_=e.aq,k=e.m,S=e.B,j=e.s,O=e.l,C=e.v,T=e.a9,A=e.a2,D=e.t,z=e.y,P=e.D,E=e.p,F=e.H,I=e.aG,G=e.x,N=e.az,M=e.n,B=e.a1,R=e.a3,$=e.R,L=e.S,U=e.N,q=e.O,H=e.av,J=e.a6,K=e.Z,Z=e.a8,V=e.ar,Y=e.K,Q=e.aF,W=e.aH,X=e.aA,ee=e.aB,te=e.aj,ne=e.aI,re=e.aJ,ae=e.aK,oe=e.aL,ie=e.aM,ce=e._},function(e){ue=e.T}],execute:function(){var r=document.createElement("style");r.textContent=".header-section[data-v-47e13cd8]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-secondary) 100%);color:#fff;padding-bottom:16px}.header-section .title[data-v-47e13cd8]{display:block;font-size:1.5rem;font-weight:600;color:#fff;margin-bottom:16px}.summary-cards[data-v-47e13cd8]{display:flex;gap:16px;margin-top:8px}.summary-card[data-v-47e13cd8]{flex:1;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1);margin:0}.summary-card.open[data-v-47e13cd8]{--background: rgba(var(--ion-color-success-rgb), .1)}.summary-card.closed[data-v-47e13cd8]{--background: rgba(var(--ion-color-warning-rgb), .1)}.summary-content[data-v-47e13cd8]{display:flex;align-items:center;gap:12px}.summary-icon[data-v-47e13cd8]{font-size:32px}.summary-card.open .summary-icon[data-v-47e13cd8]{color:var(--ion-color-success)}.summary-card.closed .summary-icon[data-v-47e13cd8]{color:var(--ion-color-warning)}.summary-count[data-v-47e13cd8]{font-size:1.5rem;font-weight:700;display:block;line-height:1.2;color:var(--ion-color-light)}.summary-label[data-v-47e13cd8]{font-size:.875rem;opacity:.8;display:block;color:var(--ion-color-light)}.theme-text-nine[data-v-47e13cd8],.theme-text-eight[data-v-47e13cd8]{opacity:.9;color:var(--ion-text-color)}.loading-container[data-v-47e13cd8]{display:flex;justify-content:center;align-items:center;height:200px}.empty-state[data-v-47e13cd8],.error-state[data-v-47e13cd8]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:60vh;padding:20px}.empty-state ion-icon[data-v-47e13cd8],.error-state ion-icon[data-v-47e13cd8]{font-size:64px;margin-bottom:16px}.empty-state h3[data-v-47e13cd8],.error-state h3[data-v-47e13cd8]{font-size:1.2rem;font-weight:500;margin-bottom:8px;color:var(--ion-color-dark)}.empty-state p[data-v-47e13cd8],.error-state p[data-v-47e13cd8]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:16px}.status-indicator[data-v-47e13cd8]{width:4px;height:100%;border-radius:4px;position:absolute;left:0}.assignment-item[data-v-47e13cd8]{--padding-start: 12px;--inner-padding-end: 12px;--background: var(--ion-item-background, var(--ion-background-color, #fff));margin-bottom:8px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08)}.assignment-content[data-v-47e13cd8]{margin-left:12px}.assignment-header[data-v-47e13cd8]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.assignment-title[data-v-47e13cd8]{font-weight:600;font-size:1rem;flex:1;margin-right:8px}.assignment-meta[data-v-47e13cd8]{font-size:.8rem;color:var(--ion-color-medium);margin-bottom:8px}.assignment-meta ion-icon[data-v-47e13cd8]{margin-right:4px;vertical-align:middle}.assignment-notes[data-v-47e13cd8]{font-size:.875rem;color:var(--ion-color-medium);margin-bottom:12px;line-height:1.5}.assignment-footer[data-v-47e13cd8]{display:flex;justify-content:space-between;align-items:center;padding-top:8px;border-top:1px solid var(--ion-color-light)}.due-date[data-v-47e13cd8]{font-size:.8rem;color:var(--ion-color-medium)}.due-date ion-icon[data-v-47e13cd8]{margin-right:4px;vertical-align:middle}@media (min-width: 768px){.summary-cards[data-v-47e13cd8]{gap:24px}.assignment-item[data-v-47e13cd8]{margin:0 auto 12px;max-width:800px}}\n/*$vite$:1*/",document.head.appendChild(r);var se={class:"header-section ion-padding"},le={class:"summary-cards"},de={class:"summary-content"},fe={class:"summary-content"},me={key:0,class:"loading-container"},pe={key:1,class:"empty-state"},ge={key:2,class:"error-state"},ve={key:3},ye={class:"assignment-header"},he={class:"assignment-meta theme-text-eight"},be={key:0,class:"assignment-notes"},xe={class:"assignment-footer"},we=a({__name:"AssignmentPage",setup:function(t){var r=localStorage.getItem("parisklegg_token")||"",a=localStorage.getItem("parisklegg_user"),ce=a?JSON.parse(a):null;null==ce||ce.user_id;var we=i(),_e=y(),ke=Number(we.params.id),Se=c(""),je=c(!0),Oe=c(!1),Ce=c(!1),Te=c([]),Ae=c(0),De=c(0),ze=function(e){var t=new Date,n=new Date(e.submission_date),r=n.getTime()-t.getTime(),a=Math.ceil(r/864e5);return t>n?"closed":a<=1?"dueSoon":a<=3?"upcoming":"open"},Pe=u(function(){return s("ios")||s("android")}),Ee=function(e){switch(ze(e)){case"closed":case"dueSoon":return"var(--ion-color-warning)";case"upcoming":return"var(--ion-color-primary)";default:return"var(--ion-color-success)"}},Fe=function(e){switch(ze(e)){case"closed":case"dueSoon":return"warning";case"open":default:return"success";case"upcoming":return"primary"}},Ie=function(e){switch(ze(e)){case"closed":case"open":return ie;case"dueSoon":return oe;case"upcoming":return ae;default:return re}},Ge=function(e){var t=new Date,n=new Date(e.submission_date),r=n.getTime()-t.getTime(),a=Math.ceil(r/864e5);return t>n?"Closed":a<=1?"Due Soon":a<=3?"Due in ".concat(a," days"):"Open"},Ne=function(e){var t=new Date(e),n=new Date(t);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).format(n)},Me=function(){var e=o(n().m(function e(){var t,r;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,je.value=!0,Oe.value=!1,Te.value=[],Ae.value=0,De.value=0,e.n=1,v.post("https://klegg-app-whh7m.ondigitalocean.app/api/assignment",{tutorship_id:ke},{headers:Re(),timeout:2e4});case 1:(t=e.v).data.length>0&&(Ce.value=!0,Se.value=t.data[0].tutorship_name||"My Assignments",Te.value=t.data.sort(function(e,t){return new Date(e.submission_date).getTime()-new Date(t.submission_date).getTime()}),Te.value.forEach(function(e){"closed"===ze(e)?Ae.value++:De.value++})),e.n=3;break;case 2:e.p=2,r=e.v,$e(r),Oe.value=!0;case 3:return e.p=3,je.value=!1,e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=o(n().m(function e(t){var r,a,o,i=arguments;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"view",e.p=1,e.n=2,ue.show({text:"view"===r?"Opening file...":"Opening file for download...",position:"top"});case 2:return e.v,a="https://school.klgilc.com/api/files/".concat(t,"/view"),window.open(a,"_blank"),e.n=3,ue.show({text:"File opened successfully",position:"top",duration:"short"});case 3:e.n=5;break;case 4:return e.p=4,o=e.v,console.error("File access error:",o),e.n=5,ue.show({text:"Failed to open file. Please try again.",position:"top",duration:"long"});case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),Re=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(r)}},$e=function(e){if(console.error("Error fetching data:",e),v.isAxiosError(e)){var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status))return _e.replace("/"),void ue.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===e.code)return void ue.show({text:"Request timeout. Please try again",position:"top"})}ue.show({text:"Failed to load data. Please try again later",position:"top"})},Le=function(e){var t=e.matches;h(t)},Ue=function(){var e=window.matchMedia("(prefers-color-scheme: dark)");return Le(e),e.addEventListener("change",Le),e};return l(function(){Ue(),Me()}),d(o(n().m(function e(){return n().w(function(e){for(;;)switch(e.n){case 0:Ue();case 1:return e.a(2)}},e)}))),function(t,n){return q(),f(p(g),null,{default:m(function(){return[b(p(j),null,{default:m(function(){return[b(p(x),null,{default:m(function(){return[b(p(w),{slot:"start"},{default:m(function(){return[b(p(_),{"default-href":"/"})]}),_:1}),b(p(k),null,{default:m(function(){return e(n[1]||(n[1]=[S("Assignments",-1)]))}),_:1})]}),_:1})]}),_:1}),b(p(U),{fullscreen:!0},{default:m(function(){return[O("div",se,[Se.value?(q(),f(p(A),{key:0,class:"title"},{default:m(function(){return[S(D(Se.value),1)]}),_:1})):T("",!0),O("div",le,[b(p(z),{class:"summary-card open"},{default:m(function(){return[b(p(P),null,{default:m(function(){return[O("div",de,[b(p(E),{icon:p(F),class:"summary-icon"},null,8,["icon"]),O("div",null,[b(p(A),{class:"summary-count"},{default:m(function(){return[S(D(De.value),1)]}),_:1}),b(p(A),{class:"summary-label"},{default:m(function(){return e(n[2]||(n[2]=[S("Open",-1)]))}),_:1})])])]}),_:1})]}),_:1}),b(p(z),{class:"summary-card closed"},{default:m(function(){return[b(p(P),null,{default:m(function(){return[O("div",fe,[b(p(E),{icon:p(I),class:"summary-icon"},null,8,["icon"]),O("div",null,[b(p(A),{class:"summary-count"},{default:m(function(){return[S(D(Ae.value),1)]}),_:1}),b(p(A),{class:"summary-label"},{default:m(function(){return e(n[3]||(n[3]=[S("Closed",-1)]))}),_:1})])])]}),_:1})]}),_:1})])]),je.value?(q(),C("div",me,[b(p(G),{name:"crescent",color:"primary"})])):Ce.value||Oe.value?Oe.value?(q(),C("div",ge,[b(p(E),{icon:p(B),color:"warning"},null,8,["icon"]),b(p(A),null,{default:m(function(){return e(n[6]||(n[6]=[O("h3",null,"Error Loading Assignments",-1),O("p",null,"Please try again later",-1)]))}),_:1}),b(p(M),{fill:"clear",onClick:Me},{default:m(function(){return e(n[7]||(n[7]=[S("Retry",-1)]))}),_:1})])):(q(),C("div",ve,[b(p(R),{lines:"none"},{default:m(function(){return[(q(!0),C($,null,L(Te.value,function(e,t){return q(),f(p(H),{key:t},{default:m(function(){return[b(p(J),{class:"assignment-item",detail:!1},{default:m(function(){return[O("div",{slot:"start",class:"status-indicator",style:K({backgroundColor:Ee(e)})},null,4),b(p(Z),{class:"assignment-content"},{default:m(function(){return[O("div",ye,[b(p(A),{class:"assignment-title"},{default:m(function(){return[S(D(e.assignment_name),1)]}),_:2},1024),b(p(V),{color:Fe(e)},{default:m(function(){return[b(p(E),{icon:Ie(e),slot:"start"},null,8,["icon"]),S(" "+D(Ge(e)),1)]}),_:2},1032,["color"])]),O("div",he,[b(p(A),{class:"assignment-date"},{default:m(function(){return[b(p(E),{icon:p(Y)},null,8,["icon"]),S(" Posted: "+D(Ne(e.created_at)),1)]}),_:2},1024)]),e.additional_note?(q(),C("div",be,[b(p(A),{class:"theme-text-nine"},{default:m(function(){return[S(D(e.additional_note),1)]}),_:2},1024)])):T("",!0),O("div",xe,[b(p(A),{class:"due-date"},{default:m(function(){return[b(p(E),{icon:p(Q)},null,8,["icon"]),S(" Due: "+D(Ne(e.submission_date)),1)]}),_:2},1024),e.assignment_file?(q(),f(p(M),{key:0,fill:"clear",size:"small",onClick:function(t){return Be(e.assignment_file,Pe.value?"view":"download")}},{default:m(function(){return[b(p(E),{slot:"start",icon:p(W)},null,8,["icon"]),S(" "+D(Pe.value?"Open":"Download"),1)]}),_:1},8,["onClick"])):T("",!0)])]}),_:2},1024)]}),_:2},1024),b(p(X),{side:"end"},{default:m(function(){return[b(p(ee),{color:"tertiary",onClick:function(t){return function(e){console.log("Sharing assignment:",e)}(e)}},{default:m(function(){return[b(p(E),{slot:"icon-only",icon:p(te)},null,8,["icon"])]}),_:1},8,["onClick"]),b(p(ee),{color:"primary",onClick:function(t){return function(e){console.log("Viewing submission for:",e)}(e)}},{default:m(function(){return[b(p(E),{slot:"icon-only",icon:p(ne)},null,8,["icon"])]}),_:1},8,["onClick"])]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})])):(q(),C("div",pe,[b(p(E),{icon:p(N),color:"medium"},null,8,["icon"]),b(p(A),null,{default:m(function(){return e(n[4]||(n[4]=[O("h3",null,"No Assignments",-1),O("p",null,"Your assignments will appear here when created by your teacher",-1)]))}),_:1}),b(p(M),{fill:"clear",onClick:n[0]||(n[0]=function(e){return t.$router.back()})},{default:m(function(){return e(n[5]||(n[5]=[S("Back to Classes",-1)]))}),_:1})]))]}),_:1})]}),_:1})}}});t("default",ce(we,[["__scopeId","data-v-47e13cd8"]]))}}})}();
