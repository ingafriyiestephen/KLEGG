System.register(["./index-legacy-LZepmReL.js","./index-legacy-DduMCVS-.js"],function(e,a){"use strict";var t,o,d,i,r,n,s,l,c,b,p,f,u,g,v,x,h,m,y,k,w,_,j,z,C,N,Y,A,E,S,I,T,F,O,P,$,q,R,B,W,D;return{setters:[e=>{t=e.d,o=e.r,d=e.S,i=e.a,r=e.O,n=e.o,s=e.b,l=e.w,c=e.u,b=e.I,p=e.e,f=e.f,u=e.g,g=e.h,v=e.i,x=e.P,h=e.l,m=e.A,y=e.m,k=e.n,w=e.Q,_=e.q,j=e.s,z=e.k,C=e.R,N=e.T,Y=e.U,A=e.M,E=e.N,S=e.t,I=e.V,T=e.W,F=e.X,O=e.J,P=e.Y,$=e.Z,q=e.$,R=e.a0,B=e.a1,W=e._},e=>{D=e.T}],execute:function(){var a=document.createElement("style");a.textContent='.modern-school-theme[data-v-1d86d6eb]{--ion-font-family: "Segoe UI", system-ui, -apple-system, sans-serif;--math-color: #ff6b6b;--science-color: #4ecdc4;--english-color: #ff9ff3;--history-color: #feca57;--default-color: #8395a7}.floating-header[data-v-1d86d6eb]{position:fixed;top:0;left:0;right:0;display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:#fff;box-shadow:0 2px 15px rgba(0,0,0,.08);z-index:10}.header-title[data-v-1d86d6eb]{font-size:1.4rem;font-weight:700;color:#2f3542;margin:0}.back-btn[data-v-1d86d6eb]{--color: #2f3542;--icon-font-size: 1.4rem}.refresh-btn[data-v-1d86d6eb]{--color: #2f3542}.loading-container[data-v-1d86d6eb]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:60vh;text-align:center}.loading-container ion-spinner[data-v-1d86d6eb]{width:48px;height:48px;margin-bottom:16px}.loading-container p[data-v-1d86d6eb]{color:var(--ion-color-medium);margin-top:8px}@keyframes pageFlip-1d86d6eb{0%,to{transform:rotateY(0)}50%{transform:rotateY(-20deg)}}.creative-empty-state[data-v-1d86d6eb]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:70vh;padding:20px;text-align:center}.desk-illustration[data-v-1d86d6eb]{width:200px;height:150px;position:relative;margin-bottom:30px}.desk[data-v-1d86d6eb]{position:absolute;bottom:0;width:180px;height:10px;background:#a55c40;border-radius:4px}.lamp[data-v-1d86d6eb]{position:absolute;top:0;left:50%;transform:translate(-50%);width:60px;height:80px;background:#f5f6fa;border-radius:30px 30px 0 0}.lamp[data-v-1d86d6eb]:after{content:"";position:absolute;bottom:-10px;left:0;width:100%;height:20px;background:#e84118;border-radius:0 0 10px 10px}.book-stack[data-v-1d86d6eb]{position:absolute;bottom:15px;left:50%;transform:translate(-50%);width:120px}.book-stack .book[data-v-1d86d6eb]{position:absolute;height:8px;background:#fff;border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,.1)}.book-stack .book[data-v-1d86d6eb]:nth-child(1){width:100px;bottom:0;left:0;background:#ff9ff3}.book-stack .book[data-v-1d86d6eb]:nth-child(2){width:110px;bottom:10px;left:5px;background:#feca57}.book-stack .book[data-v-1d86d6eb]:nth-child(3){width:90px;bottom:20px;left:15px;background:#4ecdc4}.creative-empty-state h3[data-v-1d86d6eb]{font-size:1.3rem;color:#2f3542;margin-bottom:8px}.creative-empty-state p[data-v-1d86d6eb]{color:#57606f;margin-bottom:25px}.cta-button[data-v-1d86d6eb]{--background: #3f51b5;--background-activated: #303f9f;--color: white;font-weight:500;padding:0 25px}.class-grid[data-v-1d86d6eb]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;padding:20px}.class-card[data-v-1d86d6eb]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,.05);transition:transform .2s ease,box-shadow .2s ease;cursor:pointer}.class-card[data-v-1d86d6eb]:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.1)}.math-card[data-v-1d86d6eb]{border-top:4px solid var(--math-color)}.science-card[data-v-1d86d6eb]{border-top:4px solid var(--science-color)}.english-card[data-v-1d86d6eb]{border-top:4px solid var(--english-color)}.history-card[data-v-1d86d6eb]{border-top:4px solid var(--history-color)}.default-card[data-v-1d86d6eb]{border-top:4px solid var(--default-color)}.card-header[data-v-1d86d6eb]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:15px}.subject-badge[data-v-1d86d6eb]{width:40px;height:40px;background:#f5f6fa;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.class-meta[data-v-1d86d6eb]{display:flex;gap:12px}.student-count[data-v-1d86d6eb],.rating[data-v-1d86d6eb]{display:flex;align-items:center;gap:4px;font-size:.85rem;color:#57606f}ion-icon[data-v-1d86d6eb]{font-size:16px}.class-title[data-v-1d86d6eb]{font-size:1.2rem;font-weight:700;color:#2f3542;margin:0 0 5px}.subject-name[data-v-1d86d6eb]{font-size:.9rem;color:#747d8c;margin:0 0 20px}.progress-bar[data-v-1d86d6eb]{height:6px;background:#f1f2f6;border-radius:3px;margin-bottom:15px;overflow:hidden}.progress-fill[data-v-1d86d6eb]{height:100%;background:#3f51b5;border-radius:3px;transition:width .5s ease}.card-footer[data-v-1d86d6eb]{display:flex;justify-content:space-between;align-items:center}.completion-text[data-v-1d86d6eb]{font-size:.8rem;color:#57606f;font-weight:500}.arrow-icon[data-v-1d86d6eb]{color:#a4b0be;font-size:1.2rem}@media (max-width: 600px){.class-grid[data-v-1d86d6eb]{grid-template-columns:1fr}.floating-header[data-v-1d86d6eb]{padding:12px 15px}}.class-card[data-v-1d86d6eb]{position:relative;background:#fff;border-radius:16px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,.08);overflow:hidden;transition:all .3s ease;cursor:pointer}.class-card[data-v-1d86d6eb]:hover{transform:translateY(-5px);box-shadow:0 8px 24px rgba(0,0,0,.12)}.action-ribbon[data-v-1d86d6eb]{display:flex;justify-content:space-between;height:0;opacity:0;overflow:hidden;transition:all .4s cubic-bezier(.34,1.56,.64,1)}.action-ribbon.active[data-v-1d86d6eb]{height:60px;opacity:1;margin-top:15px;padding-top:15px;border-top:1px dashed rgba(var(--ion-color-primary-rgb),.2)}.ribbon-button[data-v-1d86d6eb]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:transparent;border:none;color:var(--ion-color-medium);transform:translateY(20px);opacity:0;transition:all .3s ease calc(var(--delay) * .1s)}.action-ribbon.active .ribbon-button[data-v-1d86d6eb]{transform:translateY(0);opacity:1}.ribbon-button ion-icon[data-v-1d86d6eb]{font-size:1.2rem;margin-bottom:5px;transition:all .2s ease}.ribbon-button span[data-v-1d86d6eb]{font-size:.7rem;font-weight:500}.ribbon-button[data-v-1d86d6eb]:active{color:var(--ion-color-primary)}.ribbon-button:active ion-icon[data-v-1d86d6eb]{transform:scale(1.2)}.quick-action[data-v-1d86d6eb]{position:absolute;top:15px;right:15px;background:rgba(var(--ion-color-warning-rgb),.1);color:var(--ion-color-warning);padding:6px 10px;border-radius:16px;font-size:.8rem;display:flex;align-items:center;gap:4px;z-index:2}.progress-container[data-v-1d86d6eb]{display:flex;align-items:center;gap:10px;margin-top:15px}.progress-bar[data-v-1d86d6eb]{flex-grow:1;height:6px;background:rgba(var(--ion-color-primary-rgb),.1);border-radius:3px;overflow:hidden}.progress-fill[data-v-1d86d6eb]{height:100%;background:var(--ion-color-primary);border-radius:3px;transition:width .5s ease}.subject-badge[data-v-1d86d6eb]{width:40px;height:40px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:#fff}.math-badge[data-v-1d86d6eb]{background:linear-gradient(135deg,#ff6b6b,#ff8e8e)}.science-badge[data-v-1d86d6eb]{background:linear-gradient(135deg,#4ecdc4,#88f3ed)}.english-badge[data-v-1d86d6eb]{background:linear-gradient(135deg,#ff9ff3,#fd79a8)}.history-badge[data-v-1d86d6eb]{background:linear-gradient(135deg,#feca57,#ff9f43)}.action-ribbon.two-row[data-v-1d86d6eb]{height:0;overflow:hidden;transition:height .3s ease}.action-ribbon.two-row.active[data-v-1d86d6eb]{height:120px;padding:8px 0}.ribbon-button[data-v-1d86d6eb]{flex:1;display:flex;flex-direction:column;align-items:center;padding:6px 4px;margin:0 4px;min-width:0}.ribbon-button ion-icon[data-v-1d86d6eb]{font-size:1.2rem;margin-bottom:2px}.action-ribbon.two-row[data-v-1d86d6eb]{display:flex;flex-direction:column;gap:8px;padding:8px 0;width:100%}.ribbon-row[data-v-1d86d6eb]{display:flex;justify-content:space-around;width:100%}.ribbon-button[data-v-1d86d6eb]{flex:1;display:flex;flex-direction:column;align-items:center;padding:6px 4px;margin:0 4px;min-width:0;opacity:0;transform:translateY(10px);transition:all .3s calc(var(--delay) * .1s)}.action-ribbon.active .ribbon-button[data-v-1d86d6eb]{opacity:1;transform:translateY(0)}.ribbon-button ion-icon[data-v-1d86d6eb]{font-size:1.2rem;margin-bottom:4px}.ribbon-button span[data-v-1d86d6eb]{font-size:.7rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}\n',document.head.appendChild(a);const J={key:0,class:"loading-container"},L={key:1,class:"creative-empty-state"},M={key:2,class:"class-grid"},U=["onClick"],V={class:"card-content"},Q={class:"card-header"},X={class:"subject-badge"},Z=["onClick"],G={class:"subject-name"},H={class:"ribbon-row top-row"},K=["onClick"],ee={class:"ribbon-row bottom-row"},ae=["onClick"];e("default",W(t({__name:"TutorshipPage",setup(e){const a=localStorage.getItem("parisklegg_token")||"",t=localStorage.getItem("parisklegg_user"),W=t?JSON.parse(t):null,te=(null==W?void 0:W.user_id)||0;console.log(te);const oe=f(),de=o(null),ie=o(!0),re=o([]),ne=async()=>{try{ie.value=!0;const e=await p.get("https://school.klgilc.com/api/tutorships",{headers:pe(),timeout:2e4});if(isNaN(te))throw new Error("Invalid student ID");re.value=e.data.filter(e=>{try{var a;return((null===(a=e.students_list)||void 0===a?void 0:a.split(",").map(Number).filter(e=>!isNaN(e)))||[]).includes(te)}catch(t){return console.warn("Error parsing students_list",e),!1}}).map(e=>({...e,rating_score:void 0!==e.average_rating?parseFloat(e.average_rating.toFixed(1)):void 0}))}catch(e){fe(e)}finally{ie.value=!1}},se=()=>{ie.value=!0,ne()},le=[{id:1,icon:O,label:"Timetable",url:"timetable"},{id:2,icon:P,label:"Attendance",url:"attendance"},{id:3,icon:$,label:"Assignment",url:"assignment"}],ce=[{id:4,icon:R,label:"Assessment",url:"assessment"},{id:5,icon:B,label:"Exam",url:"exam"}],be=(e,a)=>{oe.push(`/${a}/${e}/`)},pe=()=>({"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${a}`}),fe=e=>{if(console.error("Error fetching data:",e),p.isAxiosError(e)){var a;if(401===(null===(a=e.response)||void 0===a?void 0:a.status))return oe.replace("/"),void D.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===e.code)return void D.show({text:"Request timeout. Please try again",position:"top"})}D.show({text:"Failed to load data. Please try again later",position:"top"})};return d.setOverlaysWebView({overlay:!1}),d.setBackgroundColor({color:"#ffffff"}),d.setStyle({style:i.Light}),r(async()=>{await ne()}),n(ne),(e,a)=>{const t=C("ion-spinner");return E(),s(c(b),{class:"modern-school-theme"},{default:l(()=>[u(c(_),{class:"header-gradient"},{default:l(()=>[u(c(g),null,{default:l(()=>[u(c(v),{slot:"start"},{default:l(()=>[u(c(x),{"default-href":"/home",class:"back-button"})]),_:1}),u(c(h),{class:"page-title"},{default:l(()=>a[0]||(a[0]=[m("My Classes",-1)])),_:1,__:[0]}),u(c(v),{slot:"end"},{default:l(()=>[u(c(y),{onClick:se,fill:"clear",class:"refresh-btn"},{default:l(()=>[u(c(k),{icon:c(w),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),u(c(A),{fullscreen:!0,class:"content-bg"},{default:l(()=>[ie.value?(E(),j("div",J,[u(t,{name:"crescent",color:"primary"}),a[1]||(a[1]=z("p",null,"Loading your classes...",-1))])):0===re.value.length?(E(),j("div",L,[a[3]||(a[3]=z("div",{class:"desk-illustration"},[z("div",{class:"desk"}),z("div",{class:"lamp"}),z("div",{class:"book-stack"},[z("div",{class:"book"}),z("div",{class:"book"}),z("div",{class:"book"})])],-1)),a[4]||(a[4]=z("h3",null,"No Classes Yet",-1)),a[5]||(a[5]=z("p",null,"When you enroll in a class, it'll appear here",-1)),u(c(y),{onClick:se,fill:"solid",class:"cta-button"},{default:l(()=>a[2]||(a[2]=[m(" Check Again ",-1)])),_:1,__:[2]})])):(E(),j("div",M,[(E(!0),j(N,null,Y(re.value,e=>{var a;return E(),j("div",{key:e.tutorship_id,class:"class-card",onClick:a=>{return t=e.tutorship_id,void(de.value=de.value===t?null:t);var t}},[z("div",V,[z("div",Q,[z("div",X,S((e.subject_name,"📖")),1),z("div",{class:"quick-action",onClick:I(a=>{return t=e.tutorship_id,void oe.push(`/rate/${t}`);var t},["stop"])},[u(c(k),{icon:c(T)},null,8,["icon"]),m(" "+S((null===(a=e.average_rating)||void 0===a?void 0:a.toFixed(1))||"Rate"),1)],8,Z)]),z("h3",null,S(e.tutorship_name),1),z("p",G,S(e.subject_name),1)]),z("div",{class:F(["action-ribbon two-row",{active:de.value===e.tutorship_id}])},[z("div",H,[(E(),j(N,null,Y(le,a=>z("button",{key:"first-"+a.id,onClick:I(t=>be(e.tutorship_id,a.label),["stop"]),class:"ribbon-button",style:q({"--delay":a.id})},[u(c(k),{icon:a.icon},null,8,["icon"]),z("span",null,S(a.label),1)],12,K)),64))]),z("div",ee,[(E(),j(N,null,Y(ce,a=>z("button",{key:"second-"+a.id,onClick:I(t=>be(e.tutorship_id,a.url),["stop"]),class:"ribbon-button",style:q({"--delay":a.id+le.length})},[u(c(k),{icon:a.icon},null,8,["icon"]),z("span",null,S(a.label),1)],12,ae)),64))])],2)],8,U)}),128))]))]),_:1})]),_:1})}}}),[["__scopeId","data-v-1d86d6eb"]]))}}});
