!function(){function t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function u(e,a,o,i){var u=a&&a.prototype instanceof s?a:s,l=Object.create(u.prototype);return r(l,"_invoke",function(e,r,a){var o,i,u,s=0,l=a||[],d=!1,f={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(n,e){return o=n,i=0,u=t,f.n=e,c}};function m(e,r){for(i=e,u=r,n=0;!d&&s&&!a&&n<l.length;n++){var a,o=l[n],m=f.p,p=o[2];e>3?(a=p===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=m&&((a=e<2&&m<o[1])?(i=0,f.v=r,f.n=o[1]):m<p&&(a=e<3||o[0]>r||r>p)&&(o[4]=e,o[5]=r,f.n=p,i=0))}if(a||e>1)return c;throw d=!0,r}return function(a,l,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&m(l,p),i=l,u=p;(n=i<2?t:u)||!d;){o||(i?i<3?(i>1&&(f.n=-1),m(i,u)):f.n=u:f.v=u);try{if(s=2,o){if(i||(a="next"),n=o[a]){if(!(n=n.call(o,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,i<2&&(i=0)}else 1===i&&(n=o.return)&&n.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((n=(d=f.n<0)?u:e.call(r,f))!==c)break}catch(n){o=t,i=1,u=n}finally{s=1}}return{value:n,done:d}}}(e,o,i),!0),l}var c={};function s(){}function l(){}function d(){}n=Object.getPrototypeOf;var f=[][o]?n(n([][o]())):(r(n={},o,function(){return this}),n),m=d.prototype=s.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,r(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t}return l.prototype=d,r(m,"constructor",d),r(d,"constructor",l),l.displayName="GeneratorFunction",r(d,i,"GeneratorFunction"),r(m),r(m,i,"Generator"),r(m,o,function(){return this}),r(m,"toString",function(){return"[object Generator]"}),(e=function(){return{w:u,m:p}})()}function r(t,n,e,a){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}r=function(t,n,e,a){function i(n,e){r(t,n,function(t){return this._invoke(n,e,t)})}n?o?o(t,n,{value:e,enumerable:!a,configurable:!a,writable:!a}):t[n]=e:(i("next",0),i("throw",1),i("return",2))},r(t,n,e,a)}function a(t,n,e,r,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,a)}function o(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var i=t.apply(n,e);function u(t){a(i,r,o,u,c,"next",t)}function c(t){a(i,r,o,u,c,"throw",t)}u(void 0)})}}System.register(["./index-legacy-D7Bnmc80.js","./index-legacy-4MJDgNEx.js"],function(n,r){"use strict";var a,i,u,c,s,l,d,f,m,p,g,v,y,b,h,x,w,_,k,S,O,j,C,T,A,D,P,z,E,I,F,N,G,M,B,R,$,L,U,q,H,J,K,Z,V,Y,Q,W,X,tt,nt,et,rt,at,ot,it,ut,ct;return{setters:[function(t){a=t.d,i=t.aq,u=t.r,c=t.c,s=t.i,l=t.o,d=t.P,f=t.a,m=t.w,p=t.u,g=t.I,v=t.b,y=t.e,b=t.f,h=t.g,x=t.h,w=t.j,_=t.as,k=t.m,S=t.B,O=t.s,j=t.l,C=t.v,T=t.aa,A=t.a3,D=t.t,P=t.y,z=t.D,E=t.p,I=t.H,F=t.aI,N=t.x,G=t.aB,M=t.n,B=t.a2,R=t.a4,$=t.R,L=t.S,U=t.N,q=t.O,H=t.ax,J=t.a7,K=t.Z,Z=t.a9,V=t.at,Y=t.K,Q=t.aH,W=t.aJ,X=t.aC,tt=t.aD,nt=t.ak,et=t.aK,rt=t.aL,at=t.aM,ot=t.aN,it=t.aO,ut=t._},function(t){ct=t.T}],execute:function(){var r=document.createElement("style");r.textContent=".header-section[data-v-3b3007d8]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-secondary) 100%);color:#fff;padding-bottom:16px}.header-section .title[data-v-3b3007d8]{display:block;font-size:1.5rem;font-weight:600;color:#fff;margin-bottom:16px}.summary-cards[data-v-3b3007d8]{display:flex;gap:16px;margin-top:8px}.summary-card[data-v-3b3007d8]{flex:1;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1);margin:0}.summary-card.open[data-v-3b3007d8]{--background: rgba(var(--ion-color-success-rgb), .1)}.summary-card.closed[data-v-3b3007d8]{--background: rgba(var(--ion-color-warning-rgb), .1)}.summary-content[data-v-3b3007d8]{display:flex;align-items:center;gap:12px}.summary-icon[data-v-3b3007d8]{font-size:32px}.summary-card.open .summary-icon[data-v-3b3007d8]{color:var(--ion-color-success)}.summary-card.closed .summary-icon[data-v-3b3007d8]{color:var(--ion-color-warning)}.summary-count[data-v-3b3007d8]{font-size:1.5rem;font-weight:700;display:block;line-height:1.2;color:var(--ion-color-light)}.summary-label[data-v-3b3007d8]{font-size:.875rem;opacity:.8;display:block;color:var(--ion-color-light)}.theme-text-nine[data-v-3b3007d8],.theme-text-eight[data-v-3b3007d8]{opacity:.9;color:var(--ion-text-color)}.loading-container[data-v-3b3007d8]{display:flex;justify-content:center;align-items:center;height:200px}.empty-state[data-v-3b3007d8],.error-state[data-v-3b3007d8]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:60vh;padding:20px}.empty-state ion-icon[data-v-3b3007d8],.error-state ion-icon[data-v-3b3007d8]{font-size:64px;margin-bottom:16px}.empty-state h3[data-v-3b3007d8],.error-state h3[data-v-3b3007d8]{font-size:1.2rem;font-weight:500;margin-bottom:8px;color:var(--ion-color-dark)}.empty-state p[data-v-3b3007d8],.error-state p[data-v-3b3007d8]{font-size:.9rem;color:var(--ion-color-medium);margin-bottom:16px}.status-indicator[data-v-3b3007d8]{width:4px;height:100%;border-radius:4px;position:absolute;left:0}.assignment-item[data-v-3b3007d8]{--padding-start: 12px;--inner-padding-end: 12px;--background: var(--ion-item-background, var(--ion-background-color, #fff));margin-bottom:8px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08)}.assignment-content[data-v-3b3007d8]{margin-left:12px}.assignment-header[data-v-3b3007d8]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.assignment-title[data-v-3b3007d8]{font-weight:600;font-size:1rem;flex:1;margin-right:8px}.assignment-meta[data-v-3b3007d8]{font-size:.8rem;color:var(--ion-color-medium);margin-bottom:8px}.assignment-meta ion-icon[data-v-3b3007d8]{margin-right:4px;vertical-align:middle}.assignment-notes[data-v-3b3007d8]{font-size:.875rem;color:var(--ion-color-medium);margin-bottom:12px;line-height:1.5}.assignment-footer[data-v-3b3007d8]{display:flex;justify-content:space-between;align-items:center;padding-top:8px;border-top:1px solid var(--ion-color-light)}.due-date[data-v-3b3007d8]{font-size:.8rem;color:var(--ion-color-medium)}.due-date ion-icon[data-v-3b3007d8]{margin-right:4px;vertical-align:middle}@media (min-width: 768px){.summary-cards[data-v-3b3007d8]{gap:24px}.assignment-item[data-v-3b3007d8]{margin:0 auto 12px;max-width:800px}}\n/*$vite$:1*/",document.head.appendChild(r);var st={class:"header-section ion-padding"},lt={class:"summary-cards"},dt={class:"summary-content"},ft={class:"summary-content"},mt={key:0,class:"loading-container"},pt={key:1,class:"empty-state"},gt={key:2,class:"error-state"},vt={key:3},yt={class:"assignment-header"},bt={class:"assignment-meta theme-text-eight"},ht={key:0,class:"assignment-notes"},xt={class:"assignment-footer"},wt=a({__name:"AssignmentPage",setup:function(n){var r=localStorage.getItem("parisklegg_token")||"",a=localStorage.getItem("parisklegg_user"),ut=a?JSON.parse(a):null;null==ut||ut.user_id;var wt=i(),_t=y(),kt=Number(wt.params.id),St=u(""),Ot=u(!0),jt=u(!1),Ct=u(!1),Tt=u([]),At=u(0),Dt=u(0),Pt=function(t){var n=new Date,e=new Date(t.submission_date),r=e.getTime()-n.getTime(),a=Math.ceil(r/864e5);return n>e?"closed":a<=1?"dueSoon":a<=3?"upcoming":"open"},zt=c(function(){return s("ios")||s("android")}),Et=function(t){switch(Pt(t)){case"closed":case"dueSoon":return"var(--ion-color-warning)";case"upcoming":return"var(--ion-color-primary)";default:return"var(--ion-color-success)"}},It=function(t){switch(Pt(t)){case"closed":case"dueSoon":return"warning";case"open":default:return"success";case"upcoming":return"primary"}},Ft=function(t){switch(Pt(t)){case"closed":case"open":return it;case"dueSoon":return ot;case"upcoming":return at;default:return rt}},Nt=function(t){var n=new Date,e=new Date(t.submission_date),r=e.getTime()-n.getTime(),a=Math.ceil(r/864e5);return n>e?"Closed":a<=1?"Due Soon":a<=3?"Due in ".concat(a," days"):"Open"},Gt=function(t){var n=new Date(t),e=new Date(n);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).format(e)},Mt=function(){var t=o(e().m(function t(){var n,r;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,Ot.value=!0,jt.value=!1,Tt.value=[],At.value=0,Dt.value=0,t.n=1,v.post("https://klegg-app-whh7m.ondigitalocean.app/api/assignment",{tutorship_id:kt},{headers:Rt(),timeout:2e4});case 1:(n=t.v).data.length>0&&(Ct.value=!0,St.value=n.data[0].tutorship_name||"My Assignments",Tt.value=n.data.sort(function(t,n){return new Date(t.submission_date).getTime()-new Date(n.submission_date).getTime()}),Tt.value.forEach(function(t){"closed"===Pt(t)?At.value++:Dt.value++})),t.n=3;break;case 2:t.p=2,r=t.v,$t(r),jt.value=!0;case 3:return t.p=3,Ot.value=!1,t.f(3);case 4:return t.a(2)}},t,null,[[0,2,3,4]])}));return function(){return t.apply(this,arguments)}}(),Bt=function(){var t=o(e().m(function t(n){var r,a,o,i=arguments;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"view",t.p=1,t.n=2,ct.show({text:"view"===r?"Opening file...":"Opening file for download...",position:"top"});case 2:return t.v,a="https://storage.draugustinaosabutey.com/api/files/".concat(n,"/view"),window.open(a,"_blank"),t.n=3,ct.show({text:"File opened successfully",position:"top",duration:"short"});case 3:t.n=5;break;case 4:return t.p=4,o=t.v,console.error("File access error:",o),t.n=5,ct.show({text:"Failed to open file. Please try again.",position:"top",duration:"long"});case 5:return t.a(2)}},t,null,[[1,4]])}));return function(n){return t.apply(this,arguments)}}(),Rt=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(r)}},$t=function(t){if(console.error("Error fetching data:",t),v.isAxiosError(t)){var n;if(401===(null===(n=t.response)||void 0===n?void 0:n.status))return _t.replace("/"),void ct.show({text:"Session expired. Please login again",position:"top",duration:"long"});if("ECONNABORTED"===t.code)return void ct.show({text:"Request timeout. Please try again",position:"top"})}ct.show({text:"Failed to load data. Please try again later",position:"top"})},Lt=function(t){var n=t.matches;b(n)},Ut=function(){var t=window.matchMedia("(prefers-color-scheme: dark)");return Lt(t),t.addEventListener("change",Lt),t};return l(function(){Ut(),Mt()}),d(o(e().m(function t(){return e().w(function(t){for(;;)switch(t.n){case 0:Ut();case 1:return t.a(2)}},t)}))),function(n,e){return q(),f(p(g),null,{default:m(function(){return[h(p(O),null,{default:m(function(){return[h(p(x),null,{default:m(function(){return[h(p(w),{slot:"start"},{default:m(function(){return[h(p(_),{"default-href":"/"})]}),_:1}),h(p(k),null,{default:m(function(){return t(e[1]||(e[1]=[S("Assignments",-1)]))}),_:1})]}),_:1})]}),_:1}),h(p(U),{fullscreen:!0},{default:m(function(){return[j("div",st,[St.value?(q(),f(p(A),{key:0,class:"title"},{default:m(function(){return[S(D(St.value),1)]}),_:1})):T("",!0),j("div",lt,[h(p(P),{class:"summary-card open"},{default:m(function(){return[h(p(z),null,{default:m(function(){return[j("div",dt,[h(p(E),{icon:p(I),class:"summary-icon"},null,8,["icon"]),j("div",null,[h(p(A),{class:"summary-count"},{default:m(function(){return[S(D(Dt.value),1)]}),_:1}),h(p(A),{class:"summary-label"},{default:m(function(){return t(e[2]||(e[2]=[S("Open",-1)]))}),_:1})])])]}),_:1})]}),_:1}),h(p(P),{class:"summary-card closed"},{default:m(function(){return[h(p(z),null,{default:m(function(){return[j("div",ft,[h(p(E),{icon:p(F),class:"summary-icon"},null,8,["icon"]),j("div",null,[h(p(A),{class:"summary-count"},{default:m(function(){return[S(D(At.value),1)]}),_:1}),h(p(A),{class:"summary-label"},{default:m(function(){return t(e[3]||(e[3]=[S("Closed",-1)]))}),_:1})])])]}),_:1})]}),_:1})])]),Ot.value?(q(),C("div",mt,[h(p(N),{name:"crescent",color:"primary"})])):Ct.value||jt.value?jt.value?(q(),C("div",gt,[h(p(E),{icon:p(B),color:"warning"},null,8,["icon"]),h(p(A),null,{default:m(function(){return t(e[6]||(e[6]=[j("h3",null,"Error Loading Assignments",-1),j("p",null,"Please try again later",-1)]))}),_:1}),h(p(M),{fill:"clear",onClick:Mt},{default:m(function(){return t(e[7]||(e[7]=[S("Retry",-1)]))}),_:1})])):(q(),C("div",vt,[h(p(R),{lines:"none"},{default:m(function(){return[(q(!0),C($,null,L(Tt.value,function(t,n){return q(),f(p(H),{key:n},{default:m(function(){return[h(p(J),{class:"assignment-item",detail:!1},{default:m(function(){return[j("div",{slot:"start",class:"status-indicator",style:K({backgroundColor:Et(t)})},null,4),h(p(Z),{class:"assignment-content"},{default:m(function(){return[j("div",yt,[h(p(A),{class:"assignment-title"},{default:m(function(){return[S(D(t.assignment_name),1)]}),_:2},1024),h(p(V),{color:It(t)},{default:m(function(){return[h(p(E),{icon:Ft(t),slot:"start"},null,8,["icon"]),S(" "+D(Nt(t)),1)]}),_:2},1032,["color"])]),j("div",bt,[h(p(A),{class:"assignment-date"},{default:m(function(){return[h(p(E),{icon:p(Y)},null,8,["icon"]),S(" Posted: "+D(Gt(t.created_at)),1)]}),_:2},1024)]),t.additional_note?(q(),C("div",ht,[h(p(A),{class:"theme-text-nine"},{default:m(function(){return[S(D(t.additional_note),1)]}),_:2},1024)])):T("",!0),j("div",xt,[h(p(A),{class:"due-date"},{default:m(function(){return[h(p(E),{icon:p(Q)},null,8,["icon"]),S(" Due: "+D(Gt(t.submission_date)),1)]}),_:2},1024),t.assignment_file?(q(),f(p(M),{key:0,fill:"clear",size:"small",onClick:function(n){return Bt(t.assignment_file,zt.value?"view":"download")}},{default:m(function(){return[h(p(E),{slot:"start",icon:p(W)},null,8,["icon"]),S(" "+D(zt.value?"Open":"Download"),1)]}),_:1},8,["onClick"])):T("",!0)])]}),_:2},1024)]}),_:2},1024),h(p(X),{side:"end"},{default:m(function(){return[h(p(tt),{color:"tertiary",onClick:function(n){return function(t){console.log("Sharing assignment:",t)}(t)}},{default:m(function(){return[h(p(E),{slot:"icon-only",icon:p(nt)},null,8,["icon"])]}),_:1},8,["onClick"]),h(p(tt),{color:"primary",onClick:function(n){return function(t){console.log("Viewing submission for:",t)}(t)}},{default:m(function(){return[h(p(E),{slot:"icon-only",icon:p(et)},null,8,["icon"])]}),_:1},8,["onClick"])]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})])):(q(),C("div",pt,[h(p(E),{icon:p(G),color:"medium"},null,8,["icon"]),h(p(A),null,{default:m(function(){return t(e[4]||(e[4]=[j("h3",null,"No Assignments",-1),j("p",null,"Your assignments will appear here when created by your teacher",-1)]))}),_:1}),h(p(M),{fill:"clear",onClick:e[0]||(e[0]=function(t){return n.$router.back()})},{default:m(function(){return t(e[5]||(e[5]=[S("Back to Classes",-1)]))}),_:1})]))]}),_:1})]}),_:1})}}});n("default",ut(wt,[["__scopeId","data-v-3b3007d8"]]))}}})}();
